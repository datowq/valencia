function BG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var S2e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RB={exports:{}},b2={},PB={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p3=Symbol.for("react.element"),RG=Symbol.for("react.portal"),PG=Symbol.for("react.fragment"),DG=Symbol.for("react.strict_mode"),LG=Symbol.for("react.profiler"),FG=Symbol.for("react.provider"),OG=Symbol.for("react.context"),NG=Symbol.for("react.forward_ref"),kG=Symbol.for("react.suspense"),UG=Symbol.for("react.memo"),GG=Symbol.for("react.lazy"),WS=Symbol.iterator;function QG(t){return t===null||typeof t!="object"?null:(t=WS&&t[WS]||t["@@iterator"],typeof t=="function"?t:null)}var DB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LB=Object.assign,FB={};function id(t,e,n){this.props=t,this.context=e,this.refs=FB,this.updater=n||DB}id.prototype.isReactComponent={};id.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};id.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function OB(){}OB.prototype=id.prototype;function ax(t,e,n){this.props=t,this.context=e,this.refs=FB,this.updater=n||DB}var lx=ax.prototype=new OB;lx.constructor=ax;LB(lx,id.prototype);lx.isPureReactComponent=!0;var $S=Array.isArray,NB=Object.prototype.hasOwnProperty,cx={current:null},kB={key:!0,ref:!0,__self:!0,__source:!0};function UB(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)NB.call(e,r)&&!kB.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:p3,type:t,key:s,ref:o,props:i,_owner:cx.current}}function HG(t,e){return{$$typeof:p3,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ux(t){return typeof t=="object"&&t!==null&&t.$$typeof===p3}function zG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jS=/\/+/g;function Ay(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zG(""+t.key):e.toString(36)}function OA(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case p3:case RG:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ay(o,0):r,$S(i)?(n="",t!=null&&(n=t.replace(jS,"$&/")+"/"),OA(i,e,n,"",function(c){return c})):i!=null&&(ux(i)&&(i=HG(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$S(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ay(s,a);o+=OA(s,e,n,l,i)}else if(l=QG(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ay(s,a++),o+=OA(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ig(t,e,n){if(t==null)return t;var r=[],i=0;return OA(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vi={current:null},NA={transition:null},WG={ReactCurrentDispatcher:vi,ReactCurrentBatchConfig:NA,ReactCurrentOwner:cx};Ht.Children={map:ig,forEach:function(t,e,n){ig(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ig(t,function(){e++}),e},toArray:function(t){return ig(t,function(e){return e})||[]},only:function(t){if(!ux(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ht.Component=id;Ht.Fragment=PG;Ht.Profiler=LG;Ht.PureComponent=ax;Ht.StrictMode=DG;Ht.Suspense=kG;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WG;Ht.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=LB({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)NB.call(e,l)&&!kB.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:p3,type:t.type,key:i,ref:s,props:r,_owner:o}};Ht.createContext=function(t){return t={$$typeof:OG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FG,_context:t},t.Consumer=t};Ht.createElement=UB;Ht.createFactory=function(t){var e=UB.bind(null,t);return e.type=t,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(t){return{$$typeof:NG,render:t}};Ht.isValidElement=ux;Ht.lazy=function(t){return{$$typeof:GG,_payload:{_status:-1,_result:t},_init:VG}};Ht.memo=function(t,e){return{$$typeof:UG,type:t,compare:e===void 0?null:e}};Ht.startTransition=function(t){var e=NA.transition;NA.transition={};try{t()}finally{NA.transition=e}};Ht.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ht.useCallback=function(t,e){return vi.current.useCallback(t,e)};Ht.useContext=function(t){return vi.current.useContext(t)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(t){return vi.current.useDeferredValue(t)};Ht.useEffect=function(t,e){return vi.current.useEffect(t,e)};Ht.useId=function(){return vi.current.useId()};Ht.useImperativeHandle=function(t,e,n){return vi.current.useImperativeHandle(t,e,n)};Ht.useInsertionEffect=function(t,e){return vi.current.useInsertionEffect(t,e)};Ht.useLayoutEffect=function(t,e){return vi.current.useLayoutEffect(t,e)};Ht.useMemo=function(t,e){return vi.current.useMemo(t,e)};Ht.useReducer=function(t,e,n){return vi.current.useReducer(t,e,n)};Ht.useRef=function(t){return vi.current.useRef(t)};Ht.useState=function(t){return vi.current.useState(t)};Ht.useSyncExternalStore=function(t,e,n){return vi.current.useSyncExternalStore(t,e,n)};Ht.useTransition=function(){return vi.current.useTransition()};Ht.version="18.2.0";PB.exports=Ht;var D=PB.exports;const J=rd(D),$G=BG({__proto__:null,default:J},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jG=D,KG=Symbol.for("react.element"),JG=Symbol.for("react.fragment"),XG=Object.prototype.hasOwnProperty,YG=jG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qG={key:!0,ref:!0,__self:!0,__source:!0};function GB(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)XG.call(e,r)&&!qG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:KG,type:t,key:s,ref:o,props:i,_owner:YG.current}}b2.Fragment=JG;b2.jsx=GB;b2.jsxs=GB;RB.exports=b2;var Tt=RB.exports,E8={},QB={exports:{}},ss={},HB={exports:{}},zB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,K){var $=k.length;k.push(K);e:for(;0<$;){var G=$-1>>>1,X=k[G];if(0<i(X,K))k[G]=K,k[$]=X,$=G;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var K=k[0],$=k.pop();if($!==K){k[0]=$;e:for(var G=0,X=k.length,le=X>>>1;G<le;){var pe=2*(G+1)-1,ye=k[pe],Se=pe+1,we=k[Se];if(0>i(ye,$))Se<X&&0>i(we,ye)?(k[G]=we,k[Se]=$,G=Se):(k[G]=ye,k[pe]=$,G=pe);else if(Se<X&&0>i(we,$))k[G]=we,k[Se]=$,G=Se;else break e}}return K}function i(k,K){var $=k.sortIndex-K.sortIndex;return $!==0?$:k.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,m=!1,A=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=k)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function S(k){if(x=!1,v(k),!A)if(n(l)!==null)A=!0,q(w);else{var K=n(c);K!==null&&Y(S,K.startTime-k)}}function w(k,K){A=!1,x&&(x=!1,g(P),P=-1),m=!0;var $=d;try{for(v(K),h=n(l);h!==null&&(!(h.expirationTime>K)||k&&!L());){var G=h.callback;if(typeof G=="function"){h.callback=null,d=h.priorityLevel;var X=G(h.expirationTime<=K);K=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),v(K)}else r(l);h=n(l)}if(h!==null)var le=!0;else{var pe=n(c);pe!==null&&Y(S,pe.startTime-K),le=!1}return le}finally{h=null,d=$,m=!1}}var T=!1,M=null,P=-1,b=5,B=-1;function L(){return!(t.unstable_now()-B<b)}function H(){if(M!==null){var k=t.unstable_now();B=k;var K=!0;try{K=M(!0,k)}finally{K?U():(T=!1,M=null)}}else T=!1}var U;if(typeof y=="function")U=function(){y(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=H,U=function(){W.postMessage(null)}}else U=function(){E(H,0)};function q(k){M=k,T||(T=!0,U())}function Y(k,K){P=E(function(){k(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){A||m||(A=!0,q(w))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var K=3;break;default:K=d}var $=d;d=K;try{return k()}finally{d=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,K){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=d;d=k;try{return K()}finally{d=$}},t.unstable_scheduleCallback=function(k,K,$){var G=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,k={id:u++,callback:K,priorityLevel:k,startTime:$,expirationTime:X,sortIndex:-1},$>G?(k.sortIndex=$,e(c,k),n(l)===null&&k===n(c)&&(x?(g(P),P=-1):x=!0,Y(S,$-G))):(k.sortIndex=X,e(l,k),A||m||(A=!0,q(w))),k},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(k){var K=d;return function(){var $=d;d=K;try{return k.apply(this,arguments)}finally{d=$}}}})(zB);HB.exports=zB;var ZG=HB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VB=D,es=ZG;function Be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WB=new Set,h0={};function zu(t,e){Bh(t,e),Bh(t+"Capture",e)}function Bh(t,e){for(h0[t]=e,t=0;t<e.length;t++)WB.add(e[t])}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x8=Object.prototype.hasOwnProperty,eQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KS={},JS={};function tQ(t){return x8.call(JS,t)?!0:x8.call(KS,t)?!1:eQ.test(t)?JS[t]=!0:(KS[t]=!0,!1)}function nQ(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rQ(t,e,n,r){if(e===null||typeof e>"u"||nQ(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qr[t]=new yi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qr[e]=new yi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qr[t]=new yi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qr[t]=new yi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qr[t]=new yi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qr[t]=new yi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qr[t]=new yi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qr[t]=new yi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qr[t]=new yi(t,5,!1,t.toLowerCase(),null,!1,!1)});var fx=/[\-:]([a-z])/g;function hx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fx,hx);Qr[e]=new yi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fx,hx);Qr[e]=new yi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fx,hx);Qr[e]=new yi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qr[t]=new yi(t,1,!1,t.toLowerCase(),null,!1,!1)});Qr.xlinkHref=new yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qr[t]=new yi(t,1,!1,t.toLowerCase(),null,!0,!0)});function dx(t,e,n,r){var i=Qr.hasOwnProperty(e)?Qr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rQ(e,n,i,r)&&(n=null),r||i===null?tQ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var il=VB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sg=Symbol.for("react.element"),$f=Symbol.for("react.portal"),jf=Symbol.for("react.fragment"),px=Symbol.for("react.strict_mode"),C8=Symbol.for("react.profiler"),$B=Symbol.for("react.provider"),jB=Symbol.for("react.context"),mx=Symbol.for("react.forward_ref"),S8=Symbol.for("react.suspense"),_8=Symbol.for("react.suspense_list"),gx=Symbol.for("react.memo"),Ul=Symbol.for("react.lazy"),KB=Symbol.for("react.offscreen"),XS=Symbol.iterator;function jd(t){return t===null||typeof t!="object"?null:(t=XS&&t[XS]||t["@@iterator"],typeof t=="function"?t:null)}var Hn=Object.assign,vy;function Tp(t){if(vy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vy=e&&e[1]||""}return`
`+vy+t}var yy=!1;function Ey(t,e){if(!t||yy)return"";yy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{yy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Tp(t):""}function iQ(t){switch(t.tag){case 5:return Tp(t.type);case 16:return Tp("Lazy");case 13:return Tp("Suspense");case 19:return Tp("SuspenseList");case 0:case 2:case 15:return t=Ey(t.type,!1),t;case 11:return t=Ey(t.type.render,!1),t;case 1:return t=Ey(t.type,!0),t;default:return""}}function w8(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jf:return"Fragment";case $f:return"Portal";case C8:return"Profiler";case px:return"StrictMode";case S8:return"Suspense";case _8:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jB:return(t.displayName||"Context")+".Consumer";case $B:return(t._context.displayName||"Context")+".Provider";case mx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gx:return e=t.displayName||null,e!==null?e:w8(t.type)||"Memo";case Ul:e=t._payload,t=t._init;try{return w8(t(e))}catch{}}return null}function sQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w8(e);case 8:return e===px?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JB(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oQ(t){var e=JB(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function og(t){t._valueTracker||(t._valueTracker=oQ(t))}function XB(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JB(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function h1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function I8(t,e){var n=e.checked;return Hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function YS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=lc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YB(t,e){e=e.checked,e!=null&&dx(t,"checked",e,!1)}function T8(t,e){YB(t,e);var n=lc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?M8(t,e.type,n):e.hasOwnProperty("defaultValue")&&M8(t,e.type,lc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function M8(t,e,n){(e!=="number"||h1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mp=Array.isArray;function fh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+lc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function b8(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return Hn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ZS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Be(92));if(Mp(n)){if(1<n.length)throw Error(Be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:lc(n)}}function qB(t,e){var n=lc(e.value),r=lc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function e_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZB(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B8(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZB(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ag,eR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ag=ag||document.createElement("div"),ag.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ag.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function d0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aQ=["Webkit","ms","Moz","O"];Object.keys(Gp).forEach(function(t){aQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gp[e]=Gp[t]})});function tR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gp.hasOwnProperty(t)&&Gp[t]?(""+e).trim():e+"px"}function nR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lQ=Hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function R8(t,e){if(e){if(lQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function P8(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D8=null;function Ax(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var L8=null,hh=null,dh=null;function t_(t){if(t=A3(t)){if(typeof L8!="function")throw Error(Be(280));var e=t.stateNode;e&&(e=L2(e),L8(t.stateNode,t.type,e))}}function rR(t){hh?dh?dh.push(t):dh=[t]:hh=t}function iR(){if(hh){var t=hh,e=dh;if(dh=hh=null,t_(t),e)for(t=0;t<e.length;t++)t_(e[t])}}function sR(t,e){return t(e)}function oR(){}var xy=!1;function aR(t,e,n){if(xy)return t(e,n);xy=!0;try{return sR(t,e,n)}finally{xy=!1,(hh!==null||dh!==null)&&(oR(),iR())}}function p0(t,e){var n=t.stateNode;if(n===null)return null;var r=L2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Be(231,e,typeof n));return n}var F8=!1;if(Wa)try{var Kd={};Object.defineProperty(Kd,"passive",{get:function(){F8=!0}}),window.addEventListener("test",Kd,Kd),window.removeEventListener("test",Kd,Kd)}catch{F8=!1}function cQ(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Qp=!1,d1=null,p1=!1,O8=null,uQ={onError:function(t){Qp=!0,d1=t}};function fQ(t,e,n,r,i,s,o,a,l){Qp=!1,d1=null,cQ.apply(uQ,arguments)}function hQ(t,e,n,r,i,s,o,a,l){if(fQ.apply(this,arguments),Qp){if(Qp){var c=d1;Qp=!1,d1=null}else throw Error(Be(198));p1||(p1=!0,O8=c)}}function Vu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function n_(t){if(Vu(t)!==t)throw Error(Be(188))}function dQ(t){var e=t.alternate;if(!e){if(e=Vu(t),e===null)throw Error(Be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return n_(i),t;if(s===r)return n_(i),e;s=s.sibling}throw Error(Be(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Be(189))}}if(n.alternate!==r)throw Error(Be(190))}if(n.tag!==3)throw Error(Be(188));return n.stateNode.current===n?t:e}function cR(t){return t=dQ(t),t!==null?uR(t):null}function uR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uR(t);if(e!==null)return e;t=t.sibling}return null}var fR=es.unstable_scheduleCallback,r_=es.unstable_cancelCallback,pQ=es.unstable_shouldYield,mQ=es.unstable_requestPaint,rr=es.unstable_now,gQ=es.unstable_getCurrentPriorityLevel,vx=es.unstable_ImmediatePriority,hR=es.unstable_UserBlockingPriority,m1=es.unstable_NormalPriority,AQ=es.unstable_LowPriority,dR=es.unstable_IdlePriority,B2=null,Ko=null;function vQ(t){if(Ko&&typeof Ko.onCommitFiberRoot=="function")try{Ko.onCommitFiberRoot(B2,t,void 0,(t.current.flags&128)===128)}catch{}}var ao=Math.clz32?Math.clz32:xQ,yQ=Math.log,EQ=Math.LN2;function xQ(t){return t>>>=0,t===0?32:31-(yQ(t)/EQ|0)|0}var lg=64,cg=4194304;function bp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function g1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=bp(a):(s&=o,s!==0&&(r=bp(s)))}else o=n&~i,o!==0?r=bp(o):s!==0&&(r=bp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ao(e),i=1<<n,r|=t[n],e&=~i;return r}function CQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SQ(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ao(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=CQ(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function N8(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pR(){var t=lg;return lg<<=1,!(lg&4194240)&&(lg=64),t}function Cy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function m3(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ao(e),t[e]=n}function _Q(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ao(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function yx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ao(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var on=0;function mR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gR,Ex,AR,vR,yR,k8=!1,ug=[],Jl=null,Xl=null,Yl=null,m0=new Map,g0=new Map,Hl=[],wQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i_(t,e){switch(t){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":Xl=null;break;case"mouseover":case"mouseout":Yl=null;break;case"pointerover":case"pointerout":m0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":g0.delete(e.pointerId)}}function Jd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=A3(e),e!==null&&Ex(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IQ(t,e,n,r,i){switch(e){case"focusin":return Jl=Jd(Jl,t,e,n,r,i),!0;case"dragenter":return Xl=Jd(Xl,t,e,n,r,i),!0;case"mouseover":return Yl=Jd(Yl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return m0.set(s,Jd(m0.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,g0.set(s,Jd(g0.get(s)||null,t,e,n,r,i)),!0}return!1}function ER(t){var e=fu(t.target);if(e!==null){var n=Vu(e);if(n!==null){if(e=n.tag,e===13){if(e=lR(n),e!==null){t.blockedOn=e,yR(t.priority,function(){AR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kA(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=U8(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);D8=r,n.target.dispatchEvent(r),D8=null}else return e=A3(n),e!==null&&Ex(e),t.blockedOn=n,!1;e.shift()}return!0}function s_(t,e,n){kA(t)&&n.delete(e)}function TQ(){k8=!1,Jl!==null&&kA(Jl)&&(Jl=null),Xl!==null&&kA(Xl)&&(Xl=null),Yl!==null&&kA(Yl)&&(Yl=null),m0.forEach(s_),g0.forEach(s_)}function Xd(t,e){t.blockedOn===e&&(t.blockedOn=null,k8||(k8=!0,es.unstable_scheduleCallback(es.unstable_NormalPriority,TQ)))}function A0(t){function e(i){return Xd(i,t)}if(0<ug.length){Xd(ug[0],t);for(var n=1;n<ug.length;n++){var r=ug[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jl!==null&&Xd(Jl,t),Xl!==null&&Xd(Xl,t),Yl!==null&&Xd(Yl,t),m0.forEach(e),g0.forEach(e),n=0;n<Hl.length;n++)r=Hl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hl.length&&(n=Hl[0],n.blockedOn===null);)ER(n),n.blockedOn===null&&Hl.shift()}var ph=il.ReactCurrentBatchConfig,A1=!0;function MQ(t,e,n,r){var i=on,s=ph.transition;ph.transition=null;try{on=1,xx(t,e,n,r)}finally{on=i,ph.transition=s}}function bQ(t,e,n,r){var i=on,s=ph.transition;ph.transition=null;try{on=4,xx(t,e,n,r)}finally{on=i,ph.transition=s}}function xx(t,e,n,r){if(A1){var i=U8(t,e,n,r);if(i===null)Py(t,e,r,v1,n),i_(t,r);else if(IQ(i,t,e,n,r))r.stopPropagation();else if(i_(t,r),e&4&&-1<wQ.indexOf(t)){for(;i!==null;){var s=A3(i);if(s!==null&&gR(s),s=U8(t,e,n,r),s===null&&Py(t,e,r,v1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Py(t,e,r,null,n)}}var v1=null;function U8(t,e,n,r){if(v1=null,t=Ax(r),t=fu(t),t!==null)if(e=Vu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return v1=t,null}function xR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gQ()){case vx:return 1;case hR:return 4;case m1:case AQ:return 16;case dR:return 536870912;default:return 16}default:return 16}}var Vl=null,Cx=null,UA=null;function CR(){if(UA)return UA;var t,e=Cx,n=e.length,r,i="value"in Vl?Vl.value:Vl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return UA=i.slice(t,1<r?1-r:void 0)}function GA(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fg(){return!0}function o_(){return!1}function os(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fg:o_,this.isPropagationStopped=o_,this}return Hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fg)},persist:function(){},isPersistent:fg}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sx=os(sd),g3=Hn({},sd,{view:0,detail:0}),BQ=os(g3),Sy,_y,Yd,R2=Hn({},g3,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_x,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yd&&(Yd&&t.type==="mousemove"?(Sy=t.screenX-Yd.screenX,_y=t.screenY-Yd.screenY):_y=Sy=0,Yd=t),Sy)},movementY:function(t){return"movementY"in t?t.movementY:_y}}),a_=os(R2),RQ=Hn({},R2,{dataTransfer:0}),PQ=os(RQ),DQ=Hn({},g3,{relatedTarget:0}),wy=os(DQ),LQ=Hn({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),FQ=os(LQ),OQ=Hn({},sd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NQ=os(OQ),kQ=Hn({},sd,{data:0}),l_=os(kQ),UQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QQ[t])?!!e[t]:!1}function _x(){return HQ}var zQ=Hn({},g3,{key:function(t){if(t.key){var e=UQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=GA(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_x,charCode:function(t){return t.type==="keypress"?GA(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?GA(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VQ=os(zQ),WQ=Hn({},R2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c_=os(WQ),$Q=Hn({},g3,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_x}),jQ=os($Q),KQ=Hn({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),JQ=os(KQ),XQ=Hn({},R2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YQ=os(XQ),qQ=[9,13,27,32],wx=Wa&&"CompositionEvent"in window,Hp=null;Wa&&"documentMode"in document&&(Hp=document.documentMode);var ZQ=Wa&&"TextEvent"in window&&!Hp,SR=Wa&&(!wx||Hp&&8<Hp&&11>=Hp),u_=String.fromCharCode(32),f_=!1;function _R(t,e){switch(t){case"keyup":return qQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kf=!1;function eH(t,e){switch(t){case"compositionend":return wR(e);case"keypress":return e.which!==32?null:(f_=!0,u_);case"textInput":return t=e.data,t===u_&&f_?null:t;default:return null}}function tH(t,e){if(Kf)return t==="compositionend"||!wx&&_R(t,e)?(t=CR(),UA=Cx=Vl=null,Kf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SR&&e.locale!=="ko"?null:e.data;default:return null}}var nH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nH[t.type]:e==="textarea"}function IR(t,e,n,r){rR(r),e=y1(e,"onChange"),0<e.length&&(n=new Sx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zp=null,v0=null;function rH(t){NR(t,0)}function P2(t){var e=Yf(t);if(XB(e))return t}function iH(t,e){if(t==="change")return e}var TR=!1;if(Wa){var Iy;if(Wa){var Ty="oninput"in document;if(!Ty){var d_=document.createElement("div");d_.setAttribute("oninput","return;"),Ty=typeof d_.oninput=="function"}Iy=Ty}else Iy=!1;TR=Iy&&(!document.documentMode||9<document.documentMode)}function p_(){zp&&(zp.detachEvent("onpropertychange",MR),v0=zp=null)}function MR(t){if(t.propertyName==="value"&&P2(v0)){var e=[];IR(e,v0,t,Ax(t)),aR(rH,e)}}function sH(t,e,n){t==="focusin"?(p_(),zp=e,v0=n,zp.attachEvent("onpropertychange",MR)):t==="focusout"&&p_()}function oH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return P2(v0)}function aH(t,e){if(t==="click")return P2(e)}function lH(t,e){if(t==="input"||t==="change")return P2(e)}function cH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fo=typeof Object.is=="function"?Object.is:cH;function y0(t,e){if(fo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!x8.call(e,i)||!fo(t[i],e[i]))return!1}return!0}function m_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g_(t,e){var n=m_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m_(n)}}function bR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BR(){for(var t=window,e=h1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=h1(t.document)}return e}function Ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uH(t){var e=BR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bR(n.ownerDocument.documentElement,n)){if(r!==null&&Ix(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=g_(n,s);var o=g_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fH=Wa&&"documentMode"in document&&11>=document.documentMode,Jf=null,G8=null,Vp=null,Q8=!1;function A_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Q8||Jf==null||Jf!==h1(r)||(r=Jf,"selectionStart"in r&&Ix(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vp&&y0(Vp,r)||(Vp=r,r=y1(G8,"onSelect"),0<r.length&&(e=new Sx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jf)))}function hg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xf={animationend:hg("Animation","AnimationEnd"),animationiteration:hg("Animation","AnimationIteration"),animationstart:hg("Animation","AnimationStart"),transitionend:hg("Transition","TransitionEnd")},My={},RR={};Wa&&(RR=document.createElement("div").style,"AnimationEvent"in window||(delete Xf.animationend.animation,delete Xf.animationiteration.animation,delete Xf.animationstart.animation),"TransitionEvent"in window||delete Xf.transitionend.transition);function D2(t){if(My[t])return My[t];if(!Xf[t])return t;var e=Xf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RR)return My[t]=e[n];return t}var PR=D2("animationend"),DR=D2("animationiteration"),LR=D2("animationstart"),FR=D2("transitionend"),OR=new Map,v_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sc(t,e){OR.set(t,e),zu(e,[t])}for(var by=0;by<v_.length;by++){var By=v_[by],hH=By.toLowerCase(),dH=By[0].toUpperCase()+By.slice(1);Sc(hH,"on"+dH)}Sc(PR,"onAnimationEnd");Sc(DR,"onAnimationIteration");Sc(LR,"onAnimationStart");Sc("dblclick","onDoubleClick");Sc("focusin","onFocus");Sc("focusout","onBlur");Sc(FR,"onTransitionEnd");Bh("onMouseEnter",["mouseout","mouseover"]);Bh("onMouseLeave",["mouseout","mouseover"]);Bh("onPointerEnter",["pointerout","pointerover"]);Bh("onPointerLeave",["pointerout","pointerover"]);zu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zu("onBeforeInput",["compositionend","keypress","textInput","paste"]);zu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bp));function y_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hQ(r,e,void 0,t),t.currentTarget=null}function NR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;y_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;y_(i,a,c),s=l}}}if(p1)throw t=O8,p1=!1,O8=null,t}function Sn(t,e){var n=e[$8];n===void 0&&(n=e[$8]=new Set);var r=t+"__bubble";n.has(r)||(kR(e,t,2,!1),n.add(r))}function Ry(t,e,n){var r=0;e&&(r|=4),kR(n,t,r,e)}var dg="_reactListening"+Math.random().toString(36).slice(2);function E0(t){if(!t[dg]){t[dg]=!0,WB.forEach(function(n){n!=="selectionchange"&&(pH.has(n)||Ry(n,!1,t),Ry(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dg]||(e[dg]=!0,Ry("selectionchange",!1,e))}}function kR(t,e,n,r){switch(xR(e)){case 1:var i=MQ;break;case 4:i=bQ;break;default:i=xx}n=i.bind(null,e,n,t),i=void 0,!F8||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Py(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}aR(function(){var c=s,u=Ax(n),h=[];e:{var d=OR.get(t);if(d!==void 0){var m=Sx,A=t;switch(t){case"keypress":if(GA(n)===0)break e;case"keydown":case"keyup":m=VQ;break;case"focusin":A="focus",m=wy;break;case"focusout":A="blur",m=wy;break;case"beforeblur":case"afterblur":m=wy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=a_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=jQ;break;case PR:case DR:case LR:m=FQ;break;case FR:m=JQ;break;case"scroll":m=BQ;break;case"wheel":m=YQ;break;case"copy":case"cut":case"paste":m=NQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=c_}var x=(e&4)!==0,E=!x&&t==="scroll",g=x?d!==null?d+"Capture":null:d;x=[];for(var y=c,v;y!==null;){v=y;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,g!==null&&(S=p0(y,g),S!=null&&x.push(x0(y,S,v)))),E)break;y=y.return}0<x.length&&(d=new m(d,A,null,n,u),h.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==D8&&(A=n.relatedTarget||n.fromElement)&&(fu(A)||A[$a]))break e;if((m||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,m?(A=n.relatedTarget||n.toElement,m=c,A=A?fu(A):null,A!==null&&(E=Vu(A),A!==E||A.tag!==5&&A.tag!==6)&&(A=null)):(m=null,A=c),m!==A)){if(x=a_,S="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=c_,S="onPointerLeave",g="onPointerEnter",y="pointer"),E=m==null?d:Yf(m),v=A==null?d:Yf(A),d=new x(S,y+"leave",m,n,u),d.target=E,d.relatedTarget=v,S=null,fu(u)===c&&(x=new x(g,y+"enter",A,n,u),x.target=v,x.relatedTarget=E,S=x),E=S,m&&A)t:{for(x=m,g=A,y=0,v=x;v;v=pf(v))y++;for(v=0,S=g;S;S=pf(S))v++;for(;0<y-v;)x=pf(x),y--;for(;0<v-y;)g=pf(g),v--;for(;y--;){if(x===g||g!==null&&x===g.alternate)break t;x=pf(x),g=pf(g)}x=null}else x=null;m!==null&&E_(h,d,m,x,!1),A!==null&&E!==null&&E_(h,E,A,x,!0)}}e:{if(d=c?Yf(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var w=iH;else if(h_(d))if(TR)w=lH;else{w=oH;var T=sH}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=aH);if(w&&(w=w(t,c))){IR(h,w,n,u);break e}T&&T(t,d,c),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&M8(d,"number",d.value)}switch(T=c?Yf(c):window,t){case"focusin":(h_(T)||T.contentEditable==="true")&&(Jf=T,G8=c,Vp=null);break;case"focusout":Vp=G8=Jf=null;break;case"mousedown":Q8=!0;break;case"contextmenu":case"mouseup":case"dragend":Q8=!1,A_(h,n,u);break;case"selectionchange":if(fH)break;case"keydown":case"keyup":A_(h,n,u)}var M;if(wx)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Kf?_R(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(SR&&n.locale!=="ko"&&(Kf||P!=="onCompositionStart"?P==="onCompositionEnd"&&Kf&&(M=CR()):(Vl=u,Cx="value"in Vl?Vl.value:Vl.textContent,Kf=!0)),T=y1(c,P),0<T.length&&(P=new l_(P,t,null,n,u),h.push({event:P,listeners:T}),M?P.data=M:(M=wR(n),M!==null&&(P.data=M)))),(M=ZQ?eH(t,n):tH(t,n))&&(c=y1(c,"onBeforeInput"),0<c.length&&(u=new l_("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=M))}NR(h,e)})}function x0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function y1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=p0(t,n),s!=null&&r.unshift(x0(t,s,i)),s=p0(t,e),s!=null&&r.push(x0(t,s,i))),t=t.return}return r}function pf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function E_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=p0(n,s),l!=null&&o.unshift(x0(n,l,a))):i||(l=p0(n,s),l!=null&&o.push(x0(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mH=/\r\n?/g,gH=/\u0000|\uFFFD/g;function x_(t){return(typeof t=="string"?t:""+t).replace(mH,`
`).replace(gH,"")}function pg(t,e,n){if(e=x_(e),x_(t)!==e&&n)throw Error(Be(425))}function E1(){}var H8=null,z8=null;function V8(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var W8=typeof setTimeout=="function"?setTimeout:void 0,AH=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,vH=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(t){return C_.resolve(null).then(t).catch(yH)}:W8;function yH(t){setTimeout(function(){throw t})}function Dy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),A0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);A0(e)}function ql(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function S_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var od=Math.random().toString(36).slice(2),Wo="__reactFiber$"+od,C0="__reactProps$"+od,$a="__reactContainer$"+od,$8="__reactEvents$"+od,EH="__reactListeners$"+od,xH="__reactHandles$"+od;function fu(t){var e=t[Wo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$a]||n[Wo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=S_(t);t!==null;){if(n=t[Wo])return n;t=S_(t)}return e}t=n,n=t.parentNode}return null}function A3(t){return t=t[Wo]||t[$a],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Be(33))}function L2(t){return t[C0]||null}var j8=[],qf=-1;function _c(t){return{current:t}}function Tn(t){0>qf||(t.current=j8[qf],j8[qf]=null,qf--)}function vn(t,e){qf++,j8[qf]=t.current,t.current=e}var cc={},ti=_c(cc),Di=_c(!1),Mu=cc;function Rh(t,e){var n=t.type.contextTypes;if(!n)return cc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Li(t){return t=t.childContextTypes,t!=null}function x1(){Tn(Di),Tn(ti)}function __(t,e,n){if(ti.current!==cc)throw Error(Be(168));vn(ti,e),vn(Di,n)}function UR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Be(108,sQ(t)||"Unknown",i));return Hn({},n,r)}function C1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cc,Mu=ti.current,vn(ti,t),vn(Di,Di.current),!0}function w_(t,e,n){var r=t.stateNode;if(!r)throw Error(Be(169));n?(t=UR(t,e,Mu),r.__reactInternalMemoizedMergedChildContext=t,Tn(Di),Tn(ti),vn(ti,t)):Tn(Di),vn(Di,n)}var Pa=null,F2=!1,Ly=!1;function GR(t){Pa===null?Pa=[t]:Pa.push(t)}function CH(t){F2=!0,GR(t)}function wc(){if(!Ly&&Pa!==null){Ly=!0;var t=0,e=on;try{var n=Pa;for(on=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pa=null,F2=!1}catch(i){throw Pa!==null&&(Pa=Pa.slice(t+1)),fR(vx,wc),i}finally{on=e,Ly=!1}}return null}var Zf=[],eh=0,S1=null,_1=0,Cs=[],Ss=0,bu=null,Oa=1,Na="";function eu(t,e){Zf[eh++]=_1,Zf[eh++]=S1,S1=t,_1=e}function QR(t,e,n){Cs[Ss++]=Oa,Cs[Ss++]=Na,Cs[Ss++]=bu,bu=t;var r=Oa;t=Na;var i=32-ao(r)-1;r&=~(1<<i),n+=1;var s=32-ao(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Oa=1<<32-ao(e)+i|n<<i|r,Na=s+t}else Oa=1<<s|n<<i|r,Na=t}function Tx(t){t.return!==null&&(eu(t,1),QR(t,1,0))}function Mx(t){for(;t===S1;)S1=Zf[--eh],Zf[eh]=null,_1=Zf[--eh],Zf[eh]=null;for(;t===bu;)bu=Cs[--Ss],Cs[Ss]=null,Na=Cs[--Ss],Cs[Ss]=null,Oa=Cs[--Ss],Cs[Ss]=null}var Yi=null,Xi=null,Bn=!1,ro=null;function HR(t,e){var n=Ts(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function I_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yi=t,Xi=ql(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yi=t,Xi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bu!==null?{id:Oa,overflow:Na}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ts(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yi=t,Xi=null,!0):!1;default:return!1}}function K8(t){return(t.mode&1)!==0&&(t.flags&128)===0}function J8(t){if(Bn){var e=Xi;if(e){var n=e;if(!I_(t,e)){if(K8(t))throw Error(Be(418));e=ql(n.nextSibling);var r=Yi;e&&I_(t,e)?HR(r,n):(t.flags=t.flags&-4097|2,Bn=!1,Yi=t)}}else{if(K8(t))throw Error(Be(418));t.flags=t.flags&-4097|2,Bn=!1,Yi=t}}}function T_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yi=t}function mg(t){if(t!==Yi)return!1;if(!Bn)return T_(t),Bn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!V8(t.type,t.memoizedProps)),e&&(e=Xi)){if(K8(t))throw zR(),Error(Be(418));for(;e;)HR(t,e),e=ql(e.nextSibling)}if(T_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xi=ql(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xi=null}}else Xi=Yi?ql(t.stateNode.nextSibling):null;return!0}function zR(){for(var t=Xi;t;)t=ql(t.nextSibling)}function Ph(){Xi=Yi=null,Bn=!1}function bx(t){ro===null?ro=[t]:ro.push(t)}var SH=il.ReactCurrentBatchConfig;function eo(t,e){if(t&&t.defaultProps){e=Hn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var w1=_c(null),I1=null,th=null,Bx=null;function Rx(){Bx=th=I1=null}function Px(t){var e=w1.current;Tn(w1),t._currentValue=e}function X8(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mh(t,e){I1=t,Bx=th=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ri=!0),t.firstContext=null)}function Ls(t){var e=t._currentValue;if(Bx!==t)if(t={context:t,memoizedValue:e,next:null},th===null){if(I1===null)throw Error(Be(308));th=t,I1.dependencies={lanes:0,firstContext:t}}else th=th.next=t;return e}var hu=null;function Dx(t){hu===null?hu=[t]:hu.push(t)}function VR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Dx(e)):(n.next=i.next,i.next=n),e.interleaved=n,ja(t,r)}function ja(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gl=!1;function Lx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ja(t,n)}return i=r.interleaved,i===null?(e.next=e,Dx(r)):(e.next=i.next,i.next=e),r.interleaved=e,ja(t,n)}function QA(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yx(t,n)}}function M_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function T1(t,e,n,r){var i=t.updateQueue;Gl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,x=a;switch(d=e,m=n,x.tag){case 1:if(A=x.payload,typeof A=="function"){h=A.call(m,h,d);break e}h=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=x.payload,d=typeof A=="function"?A.call(m,h,d):A,d==null)break e;h=Hn({},h,d);break e;case 2:Gl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ru|=o,t.lanes=o,t.memoizedState=h}}function b_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Be(191,i));i.call(r)}}}var $R=new VB.Component().refs;function Y8(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Hn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var O2={isMounted:function(t){return(t=t._reactInternals)?Vu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gi(),i=tc(t),s=Qa(r,i);s.payload=e,n!=null&&(s.callback=n),e=Zl(t,s,i),e!==null&&(lo(e,t,i,r),QA(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gi(),i=tc(t),s=Qa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zl(t,s,i),e!==null&&(lo(e,t,i,r),QA(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gi(),r=tc(t),i=Qa(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zl(t,i,r),e!==null&&(lo(e,t,r,n),QA(e,t,r))}};function B_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!y0(n,r)||!y0(i,s):!0}function jR(t,e,n){var r=!1,i=cc,s=e.contextType;return typeof s=="object"&&s!==null?s=Ls(s):(i=Li(e)?Mu:ti.current,r=e.contextTypes,s=(r=r!=null)?Rh(t,i):cc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=O2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function R_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&O2.enqueueReplaceState(e,e.state,null)}function q8(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=$R,Lx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ls(s):(s=Li(e)?Mu:ti.current,i.context=Rh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Y8(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&O2.enqueueReplaceState(i,i.state,null),T1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Be(309));var r=n.stateNode}if(!r)throw Error(Be(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===$R&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Be(284));if(!n._owner)throw Error(Be(290,t))}return t}function gg(t,e){throw t=Object.prototype.toString.call(e),Error(Be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P_(t){var e=t._init;return e(t._payload)}function KR(t){function e(g,y){if(t){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=nc(g,y),g.index=0,g.sibling=null,g}function s(g,y,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=2,y):v):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,v,S){return y===null||y.tag!==6?(y=Qy(v,g.mode,S),y.return=g,y):(y=i(y,v),y.return=g,y)}function l(g,y,v,S){var w=v.type;return w===jf?u(g,y,v.props.children,S,v.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ul&&P_(w)===y.type)?(S=i(y,v.props),S.ref=qd(g,y,v),S.return=g,S):(S=jA(v.type,v.key,v.props,null,g.mode,S),S.ref=qd(g,y,v),S.return=g,S)}function c(g,y,v,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Hy(v,g.mode,S),y.return=g,y):(y=i(y,v.children||[]),y.return=g,y)}function u(g,y,v,S,w){return y===null||y.tag!==7?(y=Cu(v,g.mode,S,w),y.return=g,y):(y=i(y,v),y.return=g,y)}function h(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Qy(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sg:return v=jA(y.type,y.key,y.props,null,g.mode,v),v.ref=qd(g,null,y),v.return=g,v;case $f:return y=Hy(y,g.mode,v),y.return=g,y;case Ul:var S=y._init;return h(g,S(y._payload),v)}if(Mp(y)||jd(y))return y=Cu(y,g.mode,v,null),y.return=g,y;gg(g,y)}return null}function d(g,y,v,S){var w=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:a(g,y,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sg:return v.key===w?l(g,y,v,S):null;case $f:return v.key===w?c(g,y,v,S):null;case Ul:return w=v._init,d(g,y,w(v._payload),S)}if(Mp(v)||jd(v))return w!==null?null:u(g,y,v,S,null);gg(g,v)}return null}function m(g,y,v,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(v)||null,a(y,g,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sg:return g=g.get(S.key===null?v:S.key)||null,l(y,g,S,w);case $f:return g=g.get(S.key===null?v:S.key)||null,c(y,g,S,w);case Ul:var T=S._init;return m(g,y,v,T(S._payload),w)}if(Mp(S)||jd(S))return g=g.get(v)||null,u(y,g,S,w,null);gg(y,S)}return null}function A(g,y,v,S){for(var w=null,T=null,M=y,P=y=0,b=null;M!==null&&P<v.length;P++){M.index>P?(b=M,M=null):b=M.sibling;var B=d(g,M,v[P],S);if(B===null){M===null&&(M=b);break}t&&M&&B.alternate===null&&e(g,M),y=s(B,y,P),T===null?w=B:T.sibling=B,T=B,M=b}if(P===v.length)return n(g,M),Bn&&eu(g,P),w;if(M===null){for(;P<v.length;P++)M=h(g,v[P],S),M!==null&&(y=s(M,y,P),T===null?w=M:T.sibling=M,T=M);return Bn&&eu(g,P),w}for(M=r(g,M);P<v.length;P++)b=m(M,g,P,v[P],S),b!==null&&(t&&b.alternate!==null&&M.delete(b.key===null?P:b.key),y=s(b,y,P),T===null?w=b:T.sibling=b,T=b);return t&&M.forEach(function(L){return e(g,L)}),Bn&&eu(g,P),w}function x(g,y,v,S){var w=jd(v);if(typeof w!="function")throw Error(Be(150));if(v=w.call(v),v==null)throw Error(Be(151));for(var T=w=null,M=y,P=y=0,b=null,B=v.next();M!==null&&!B.done;P++,B=v.next()){M.index>P?(b=M,M=null):b=M.sibling;var L=d(g,M,B.value,S);if(L===null){M===null&&(M=b);break}t&&M&&L.alternate===null&&e(g,M),y=s(L,y,P),T===null?w=L:T.sibling=L,T=L,M=b}if(B.done)return n(g,M),Bn&&eu(g,P),w;if(M===null){for(;!B.done;P++,B=v.next())B=h(g,B.value,S),B!==null&&(y=s(B,y,P),T===null?w=B:T.sibling=B,T=B);return Bn&&eu(g,P),w}for(M=r(g,M);!B.done;P++,B=v.next())B=m(M,g,P,B.value,S),B!==null&&(t&&B.alternate!==null&&M.delete(B.key===null?P:B.key),y=s(B,y,P),T===null?w=B:T.sibling=B,T=B);return t&&M.forEach(function(H){return e(g,H)}),Bn&&eu(g,P),w}function E(g,y,v,S){if(typeof v=="object"&&v!==null&&v.type===jf&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case sg:e:{for(var w=v.key,T=y;T!==null;){if(T.key===w){if(w=v.type,w===jf){if(T.tag===7){n(g,T.sibling),y=i(T,v.props.children),y.return=g,g=y;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ul&&P_(w)===T.type){n(g,T.sibling),y=i(T,v.props),y.ref=qd(g,T,v),y.return=g,g=y;break e}n(g,T);break}else e(g,T);T=T.sibling}v.type===jf?(y=Cu(v.props.children,g.mode,S,v.key),y.return=g,g=y):(S=jA(v.type,v.key,v.props,null,g.mode,S),S.ref=qd(g,y,v),S.return=g,g=S)}return o(g);case $f:e:{for(T=v.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(g,y.sibling),y=i(y,v.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=Hy(v,g.mode,S),y.return=g,g=y}return o(g);case Ul:return T=v._init,E(g,y,T(v._payload),S)}if(Mp(v))return A(g,y,v,S);if(jd(v))return x(g,y,v,S);gg(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,v),y.return=g,g=y):(n(g,y),y=Qy(v,g.mode,S),y.return=g,g=y),o(g)):n(g,y)}return E}var Dh=KR(!0),JR=KR(!1),v3={},Jo=_c(v3),S0=_c(v3),_0=_c(v3);function du(t){if(t===v3)throw Error(Be(174));return t}function Fx(t,e){switch(vn(_0,e),vn(S0,t),vn(Jo,v3),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:B8(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=B8(e,t)}Tn(Jo),vn(Jo,e)}function Lh(){Tn(Jo),Tn(S0),Tn(_0)}function XR(t){du(_0.current);var e=du(Jo.current),n=B8(e,t.type);e!==n&&(vn(S0,t),vn(Jo,n))}function Ox(t){S0.current===t&&(Tn(Jo),Tn(S0))}var Fn=_c(0);function M1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fy=[];function Nx(){for(var t=0;t<Fy.length;t++)Fy[t]._workInProgressVersionPrimary=null;Fy.length=0}var HA=il.ReactCurrentDispatcher,Oy=il.ReactCurrentBatchConfig,Bu=0,Gn=null,Ar=null,Br=null,b1=!1,Wp=!1,w0=0,_H=0;function Kr(){throw Error(Be(321))}function kx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fo(t[n],e[n]))return!1;return!0}function Ux(t,e,n,r,i,s){if(Bu=s,Gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,HA.current=t===null||t.memoizedState===null?MH:bH,t=n(r,i),Wp){s=0;do{if(Wp=!1,w0=0,25<=s)throw Error(Be(301));s+=1,Br=Ar=null,e.updateQueue=null,HA.current=BH,t=n(r,i)}while(Wp)}if(HA.current=B1,e=Ar!==null&&Ar.next!==null,Bu=0,Br=Ar=Gn=null,b1=!1,e)throw Error(Be(300));return t}function Gx(){var t=w0!==0;return w0=0,t}function Qo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?Gn.memoizedState=Br=t:Br=Br.next=t,Br}function Fs(){if(Ar===null){var t=Gn.alternate;t=t!==null?t.memoizedState:null}else t=Ar.next;var e=Br===null?Gn.memoizedState:Br.next;if(e!==null)Br=e,Ar=t;else{if(t===null)throw Error(Be(310));Ar=t,t={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Br===null?Gn.memoizedState=Br=t:Br=Br.next=t}return Br}function I0(t,e){return typeof e=="function"?e(t):e}function Ny(t){var e=Fs(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var r=Ar,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Bu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Gn.lanes|=u,Ru|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,fo(r,e.memoizedState)||(Ri=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Gn.lanes|=s,Ru|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ky(t){var e=Fs(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fo(s,e.memoizedState)||(Ri=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function YR(){}function qR(t,e){var n=Gn,r=Fs(),i=e(),s=!fo(r.memoizedState,i);if(s&&(r.memoizedState=i,Ri=!0),r=r.queue,Qx(tP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Br!==null&&Br.memoizedState.tag&1){if(n.flags|=2048,T0(9,eP.bind(null,n,r,i,e),void 0,null),Lr===null)throw Error(Be(349));Bu&30||ZR(n,e,i)}return i}function ZR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eP(t,e,n,r){e.value=n,e.getSnapshot=r,nP(e)&&rP(t)}function tP(t,e,n){return n(function(){nP(e)&&rP(t)})}function nP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fo(t,n)}catch{return!0}}function rP(t){var e=ja(t,1);e!==null&&lo(e,t,1,-1)}function D_(t){var e=Qo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:I0,lastRenderedState:t},e.queue=t,t=t.dispatch=TH.bind(null,Gn,t),[e.memoizedState,t]}function T0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iP(){return Fs().memoizedState}function zA(t,e,n,r){var i=Qo();Gn.flags|=t,i.memoizedState=T0(1|e,n,void 0,r===void 0?null:r)}function N2(t,e,n,r){var i=Fs();r=r===void 0?null:r;var s=void 0;if(Ar!==null){var o=Ar.memoizedState;if(s=o.destroy,r!==null&&kx(r,o.deps)){i.memoizedState=T0(e,n,s,r);return}}Gn.flags|=t,i.memoizedState=T0(1|e,n,s,r)}function L_(t,e){return zA(8390656,8,t,e)}function Qx(t,e){return N2(2048,8,t,e)}function sP(t,e){return N2(4,2,t,e)}function oP(t,e){return N2(4,4,t,e)}function aP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lP(t,e,n){return n=n!=null?n.concat([t]):null,N2(4,4,aP.bind(null,e,t),n)}function Hx(){}function cP(t,e){var n=Fs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uP(t,e){var n=Fs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fP(t,e,n){return Bu&21?(fo(n,e)||(n=pR(),Gn.lanes|=n,Ru|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ri=!0),t.memoizedState=n)}function wH(t,e){var n=on;on=n!==0&&4>n?n:4,t(!0);var r=Oy.transition;Oy.transition={};try{t(!1),e()}finally{on=n,Oy.transition=r}}function hP(){return Fs().memoizedState}function IH(t,e,n){var r=tc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dP(t))pP(e,n);else if(n=VR(t,e,n,r),n!==null){var i=gi();lo(n,t,r,i),mP(n,e,r)}}function TH(t,e,n){var r=tc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dP(t))pP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fo(a,o)){var l=e.interleaved;l===null?(i.next=i,Dx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=VR(t,e,i,r),n!==null&&(i=gi(),lo(n,t,r,i),mP(n,e,r))}}function dP(t){var e=t.alternate;return t===Gn||e!==null&&e===Gn}function pP(t,e){Wp=b1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yx(t,n)}}var B1={readContext:Ls,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},MH={readContext:Ls,useCallback:function(t,e){return Qo().memoizedState=[t,e===void 0?null:e],t},useContext:Ls,useEffect:L_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zA(4194308,4,aP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zA(4194308,4,t,e)},useInsertionEffect:function(t,e){return zA(4,2,t,e)},useMemo:function(t,e){var n=Qo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IH.bind(null,Gn,t),[r.memoizedState,t]},useRef:function(t){var e=Qo();return t={current:t},e.memoizedState=t},useState:D_,useDebugValue:Hx,useDeferredValue:function(t){return Qo().memoizedState=t},useTransition:function(){var t=D_(!1),e=t[0];return t=wH.bind(null,t[1]),Qo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gn,i=Qo();if(Bn){if(n===void 0)throw Error(Be(407));n=n()}else{if(n=e(),Lr===null)throw Error(Be(349));Bu&30||ZR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,L_(tP.bind(null,r,s,t),[t]),r.flags|=2048,T0(9,eP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Qo(),e=Lr.identifierPrefix;if(Bn){var n=Na,r=Oa;n=(r&~(1<<32-ao(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=w0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_H++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bH={readContext:Ls,useCallback:cP,useContext:Ls,useEffect:Qx,useImperativeHandle:lP,useInsertionEffect:sP,useLayoutEffect:oP,useMemo:uP,useReducer:Ny,useRef:iP,useState:function(){return Ny(I0)},useDebugValue:Hx,useDeferredValue:function(t){var e=Fs();return fP(e,Ar.memoizedState,t)},useTransition:function(){var t=Ny(I0)[0],e=Fs().memoizedState;return[t,e]},useMutableSource:YR,useSyncExternalStore:qR,useId:hP,unstable_isNewReconciler:!1},BH={readContext:Ls,useCallback:cP,useContext:Ls,useEffect:Qx,useImperativeHandle:lP,useInsertionEffect:sP,useLayoutEffect:oP,useMemo:uP,useReducer:ky,useRef:iP,useState:function(){return ky(I0)},useDebugValue:Hx,useDeferredValue:function(t){var e=Fs();return Ar===null?e.memoizedState=t:fP(e,Ar.memoizedState,t)},useTransition:function(){var t=ky(I0)[0],e=Fs().memoizedState;return[t,e]},useMutableSource:YR,useSyncExternalStore:qR,useId:hP,unstable_isNewReconciler:!1};function Fh(t,e){try{var n="",r=e;do n+=iQ(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Uy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Z8(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RH=typeof WeakMap=="function"?WeakMap:Map;function gP(t,e,n){n=Qa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){P1||(P1=!0,c4=r),Z8(t,e)},n}function AP(t,e,n){n=Qa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Z8(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Z8(t,e),typeof r!="function"&&(ec===null?ec=new Set([this]):ec.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function F_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=WH.bind(null,t,e,n),e.then(t,t))}function O_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function N_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qa(-1,1),e.tag=2,Zl(n,e,1))),n.lanes|=1),t)}var PH=il.ReactCurrentOwner,Ri=!1;function hi(t,e,n,r){e.child=t===null?JR(e,null,n,r):Dh(e,t.child,n,r)}function k_(t,e,n,r,i){n=n.render;var s=e.ref;return mh(e,i),r=Ux(t,e,n,r,s,i),n=Gx(),t!==null&&!Ri?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ka(t,e,i)):(Bn&&n&&Tx(e),e.flags|=1,hi(t,e,r,i),e.child)}function U_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vP(t,e,s,r,i)):(t=jA(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:y0,n(o,r)&&t.ref===e.ref)return Ka(t,e,i)}return e.flags|=1,t=nc(s,r),t.ref=e.ref,t.return=e,e.child=t}function vP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(y0(s,r)&&t.ref===e.ref)if(Ri=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ri=!0);else return e.lanes=t.lanes,Ka(t,e,i)}return e4(t,e,n,r,i)}function yP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(rh,ji),ji|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vn(rh,ji),ji|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,vn(rh,ji),ji|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,vn(rh,ji),ji|=r;return hi(t,e,i,n),e.child}function EP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function e4(t,e,n,r,i){var s=Li(n)?Mu:ti.current;return s=Rh(e,s),mh(e,i),n=Ux(t,e,n,r,s,i),r=Gx(),t!==null&&!Ri?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ka(t,e,i)):(Bn&&r&&Tx(e),e.flags|=1,hi(t,e,n,i),e.child)}function G_(t,e,n,r,i){if(Li(n)){var s=!0;C1(e)}else s=!1;if(mh(e,i),e.stateNode===null)VA(t,e),jR(e,n,r),q8(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ls(c):(c=Li(n)?Mu:ti.current,c=Rh(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&R_(e,o,r,c),Gl=!1;var d=e.memoizedState;o.state=d,T1(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Di.current||Gl?(typeof u=="function"&&(Y8(e,n,u,r),l=e.memoizedState),(a=Gl||B_(e,n,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:eo(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ls(l):(l=Li(n)?Mu:ti.current,l=Rh(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&R_(e,o,r,l),Gl=!1,d=e.memoizedState,o.state=d,T1(e,r,o,i);var A=e.memoizedState;a!==h||d!==A||Di.current||Gl?(typeof m=="function"&&(Y8(e,n,m,r),A=e.memoizedState),(c=Gl||B_(e,n,c,r,d,A,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return t4(t,e,n,r,s,i)}function t4(t,e,n,r,i,s){EP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&w_(e,n,!1),Ka(t,e,s);r=e.stateNode,PH.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Dh(e,t.child,null,s),e.child=Dh(e,null,a,s)):hi(t,e,a,s),e.memoizedState=r.state,i&&w_(e,n,!0),e.child}function xP(t){var e=t.stateNode;e.pendingContext?__(t,e.pendingContext,e.pendingContext!==e.context):e.context&&__(t,e.context,!1),Fx(t,e.containerInfo)}function Q_(t,e,n,r,i){return Ph(),bx(i),e.flags|=256,hi(t,e,n,r),e.child}var n4={dehydrated:null,treeContext:null,retryLane:0};function r4(t){return{baseLanes:t,cachePool:null,transitions:null}}function CP(t,e,n){var r=e.pendingProps,i=Fn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),vn(Fn,i&1),t===null)return J8(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=G2(o,r,0,null),t=Cu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=r4(n),e.memoizedState=n4,t):zx(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return DH(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=nc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=nc(a,s):(s=Cu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?r4(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=n4,r}return s=t.child,t=s.sibling,r=nc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zx(t,e){return e=G2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ag(t,e,n,r){return r!==null&&bx(r),Dh(e,t.child,null,n),t=zx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DH(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Uy(Error(Be(422))),Ag(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=G2({mode:"visible",children:r.children},i,0,null),s=Cu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Dh(e,t.child,null,o),e.child.memoizedState=r4(o),e.memoizedState=n4,s);if(!(e.mode&1))return Ag(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Be(419)),r=Uy(s,r,void 0),Ag(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ri||a){if(r=Lr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ja(t,i),lo(r,t,i,-1))}return Jx(),r=Uy(Error(Be(421))),Ag(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$H.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xi=ql(i.nextSibling),Yi=e,Bn=!0,ro=null,t!==null&&(Cs[Ss++]=Oa,Cs[Ss++]=Na,Cs[Ss++]=bu,Oa=t.id,Na=t.overflow,bu=e),e=zx(e,r.children),e.flags|=4096,e)}function H_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),X8(t.return,e,n)}function Gy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function SP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hi(t,e,r.children,n),r=Fn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H_(t,n,e);else if(t.tag===19)H_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(vn(Fn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&M1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&M1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gy(e,!0,n,null,s);break;case"together":Gy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function VA(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ka(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ru|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Be(153));if(e.child!==null){for(t=e.child,n=nc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LH(t,e,n){switch(e.tag){case 3:xP(e),Ph();break;case 5:XR(e);break;case 1:Li(e.type)&&C1(e);break;case 4:Fx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;vn(w1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(vn(Fn,Fn.current&1),e.flags|=128,null):n&e.child.childLanes?CP(t,e,n):(vn(Fn,Fn.current&1),t=Ka(t,e,n),t!==null?t.sibling:null);vn(Fn,Fn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return SP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vn(Fn,Fn.current),r)break;return null;case 22:case 23:return e.lanes=0,yP(t,e,n)}return Ka(t,e,n)}var _P,i4,wP,IP;_P=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i4=function(){};wP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,du(Jo.current);var s=null;switch(n){case"input":i=I8(t,i),r=I8(t,r),s=[];break;case"select":i=Hn({},i,{value:void 0}),r=Hn({},r,{value:void 0}),s=[];break;case"textarea":i=b8(t,i),r=b8(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=E1)}R8(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(h0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(h0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Sn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};IP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zd(t,e){if(!Bn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FH(t,e,n){var r=e.pendingProps;switch(Mx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(e),null;case 1:return Li(e.type)&&x1(),Jr(e),null;case 3:return r=e.stateNode,Lh(),Tn(Di),Tn(ti),Nx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ro!==null&&(h4(ro),ro=null))),i4(t,e),Jr(e),null;case 5:Ox(e);var i=du(_0.current);if(n=e.type,t!==null&&e.stateNode!=null)wP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Be(166));return Jr(e),null}if(t=du(Jo.current),mg(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Wo]=e,r[C0]=s,t=(e.mode&1)!==0,n){case"dialog":Sn("cancel",r),Sn("close",r);break;case"iframe":case"object":case"embed":Sn("load",r);break;case"video":case"audio":for(i=0;i<Bp.length;i++)Sn(Bp[i],r);break;case"source":Sn("error",r);break;case"img":case"image":case"link":Sn("error",r),Sn("load",r);break;case"details":Sn("toggle",r);break;case"input":YS(r,s),Sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Sn("invalid",r);break;case"textarea":ZS(r,s),Sn("invalid",r)}R8(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pg(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pg(r.textContent,a,t),i=["children",""+a]):h0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Sn("scroll",r)}switch(n){case"input":og(r),qS(r,s,!0);break;case"textarea":og(r),e_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=E1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZB(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wo]=e,t[C0]=r,_P(t,e,!1,!1),e.stateNode=t;e:{switch(o=P8(n,r),n){case"dialog":Sn("cancel",t),Sn("close",t),i=r;break;case"iframe":case"object":case"embed":Sn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bp.length;i++)Sn(Bp[i],t);i=r;break;case"source":Sn("error",t),i=r;break;case"img":case"image":case"link":Sn("error",t),Sn("load",t),i=r;break;case"details":Sn("toggle",t),i=r;break;case"input":YS(t,r),i=I8(t,r),Sn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Hn({},r,{value:void 0}),Sn("invalid",t);break;case"textarea":ZS(t,r),i=b8(t,r),Sn("invalid",t);break;default:i=r}R8(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?nR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&d0(t,l):typeof l=="number"&&d0(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(h0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Sn("scroll",t):l!=null&&dx(t,s,l,o))}switch(n){case"input":og(t),qS(t,r,!1);break;case"textarea":og(t),e_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+lc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fh(t,!!r.multiple,s,!1):r.defaultValue!=null&&fh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=E1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jr(e),null;case 6:if(t&&e.stateNode!=null)IP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Be(166));if(n=du(_0.current),du(Jo.current),mg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wo]=e,(s=r.nodeValue!==n)&&(t=Yi,t!==null))switch(t.tag){case 3:pg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pg(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wo]=e,e.stateNode=r}return Jr(e),null;case 13:if(Tn(Fn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Bn&&Xi!==null&&e.mode&1&&!(e.flags&128))zR(),Ph(),e.flags|=98560,s=!1;else if(s=mg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Be(317));s[Wo]=e}else Ph(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jr(e),s=!1}else ro!==null&&(h4(ro),ro=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fn.current&1?xr===0&&(xr=3):Jx())),e.updateQueue!==null&&(e.flags|=4),Jr(e),null);case 4:return Lh(),i4(t,e),t===null&&E0(e.stateNode.containerInfo),Jr(e),null;case 10:return Px(e.type._context),Jr(e),null;case 17:return Li(e.type)&&x1(),Jr(e),null;case 19:if(Tn(Fn),s=e.memoizedState,s===null)return Jr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Zd(s,!1);else{if(xr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=M1(t),o!==null){for(e.flags|=128,Zd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return vn(Fn,Fn.current&1|2),e.child}t=t.sibling}s.tail!==null&&rr()>Oh&&(e.flags|=128,r=!0,Zd(s,!1),e.lanes=4194304)}else{if(!r)if(t=M1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Bn)return Jr(e),null}else 2*rr()-s.renderingStartTime>Oh&&n!==1073741824&&(e.flags|=128,r=!0,Zd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rr(),e.sibling=null,n=Fn.current,vn(Fn,r?n&1|2:n&1),e):(Jr(e),null);case 22:case 23:return Kx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ji&1073741824&&(Jr(e),e.subtreeFlags&6&&(e.flags|=8192)):Jr(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function OH(t,e){switch(Mx(e),e.tag){case 1:return Li(e.type)&&x1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lh(),Tn(Di),Tn(ti),Nx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ox(e),null;case 13:if(Tn(Fn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));Ph()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tn(Fn),null;case 4:return Lh(),null;case 10:return Px(e.type._context),null;case 22:case 23:return Kx(),null;case 24:return null;default:return null}}var vg=!1,qr=!1,NH=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function nh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Kn(t,e,r)}else n.current=null}function s4(t,e,n){try{n()}catch(r){Kn(t,e,r)}}var z_=!1;function kH(t,e){if(H8=A1,t=BR(),Ix(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(z8={focusedElem:t,selectionRange:n},A1=!1,Ke=e;Ke!==null;)if(e=Ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ke=t;else for(;Ke!==null;){e=Ke;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var x=A.memoizedProps,E=A.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:eo(e.type,x),E);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(S){Kn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ke=t;break}Ke=e.return}return A=z_,z_=!1,A}function $p(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&s4(e,n,s)}i=i.next}while(i!==r)}}function k2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function o4(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TP(t){var e=t.alternate;e!==null&&(t.alternate=null,TP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wo],delete e[C0],delete e[$8],delete e[EH],delete e[xH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MP(t){return t.tag===5||t.tag===3||t.tag===4}function V_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function a4(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=E1));else if(r!==4&&(t=t.child,t!==null))for(a4(t,e,n),t=t.sibling;t!==null;)a4(t,e,n),t=t.sibling}function l4(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(l4(t,e,n),t=t.sibling;t!==null;)l4(t,e,n),t=t.sibling}var Ur=null,no=!1;function wl(t,e,n){for(n=n.child;n!==null;)bP(t,e,n),n=n.sibling}function bP(t,e,n){if(Ko&&typeof Ko.onCommitFiberUnmount=="function")try{Ko.onCommitFiberUnmount(B2,n)}catch{}switch(n.tag){case 5:qr||nh(n,e);case 6:var r=Ur,i=no;Ur=null,wl(t,e,n),Ur=r,no=i,Ur!==null&&(no?(t=Ur,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ur.removeChild(n.stateNode));break;case 18:Ur!==null&&(no?(t=Ur,n=n.stateNode,t.nodeType===8?Dy(t.parentNode,n):t.nodeType===1&&Dy(t,n),A0(t)):Dy(Ur,n.stateNode));break;case 4:r=Ur,i=no,Ur=n.stateNode.containerInfo,no=!0,wl(t,e,n),Ur=r,no=i;break;case 0:case 11:case 14:case 15:if(!qr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&s4(n,e,o),i=i.next}while(i!==r)}wl(t,e,n);break;case 1:if(!qr&&(nh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Kn(n,e,a)}wl(t,e,n);break;case 21:wl(t,e,n);break;case 22:n.mode&1?(qr=(r=qr)||n.memoizedState!==null,wl(t,e,n),qr=r):wl(t,e,n);break;default:wl(t,e,n)}}function W_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NH),e.forEach(function(r){var i=jH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ur=a.stateNode,no=!1;break e;case 3:Ur=a.stateNode.containerInfo,no=!0;break e;case 4:Ur=a.stateNode.containerInfo,no=!0;break e}a=a.return}if(Ur===null)throw Error(Be(160));bP(s,o,i),Ur=null,no=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Kn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BP(e,t),e=e.sibling}function BP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xs(e,t),ko(t),r&4){try{$p(3,t,t.return),k2(3,t)}catch(x){Kn(t,t.return,x)}try{$p(5,t,t.return)}catch(x){Kn(t,t.return,x)}}break;case 1:Xs(e,t),ko(t),r&512&&n!==null&&nh(n,n.return);break;case 5:if(Xs(e,t),ko(t),r&512&&n!==null&&nh(n,n.return),t.flags&32){var i=t.stateNode;try{d0(i,"")}catch(x){Kn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&YB(i,s),P8(a,o);var c=P8(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?nR(i,h):u==="dangerouslySetInnerHTML"?eR(i,h):u==="children"?d0(i,h):dx(i,u,h,c)}switch(a){case"input":T8(i,s);break;case"textarea":qB(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?fh(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?fh(i,!!s.multiple,s.defaultValue,!0):fh(i,!!s.multiple,s.multiple?[]:"",!1))}i[C0]=s}catch(x){Kn(t,t.return,x)}}break;case 6:if(Xs(e,t),ko(t),r&4){if(t.stateNode===null)throw Error(Be(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Kn(t,t.return,x)}}break;case 3:if(Xs(e,t),ko(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{A0(e.containerInfo)}catch(x){Kn(t,t.return,x)}break;case 4:Xs(e,t),ko(t);break;case 13:Xs(e,t),ko(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($x=rr())),r&4&&W_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(qr=(c=qr)||u,Xs(e,t),qr=c):Xs(e,t),ko(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ke=t,u=t.child;u!==null;){for(h=Ke=u;Ke!==null;){switch(d=Ke,m=d.child,d.tag){case 0:case 11:case 14:case 15:$p(4,d,d.return);break;case 1:nh(d,d.return);var A=d.stateNode;if(typeof A.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(x){Kn(r,n,x)}}break;case 5:nh(d,d.return);break;case 22:if(d.memoizedState!==null){j_(h);continue}}m!==null?(m.return=d,Ke=m):j_(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tR("display",o))}catch(x){Kn(t,t.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){Kn(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xs(e,t),ko(t),r&4&&W_(t);break;case 21:break;default:Xs(e,t),ko(t)}}function ko(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MP(n)){var r=n;break e}n=n.return}throw Error(Be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(d0(i,""),r.flags&=-33);var s=V_(t);l4(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=V_(t);a4(t,a,o);break;default:throw Error(Be(161))}}catch(l){Kn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UH(t,e,n){Ke=t,RP(t)}function RP(t,e,n){for(var r=(t.mode&1)!==0;Ke!==null;){var i=Ke,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qr;a=vg;var c=qr;if(vg=o,(qr=l)&&!c)for(Ke=i;Ke!==null;)o=Ke,l=o.child,o.tag===22&&o.memoizedState!==null?K_(i):l!==null?(l.return=o,Ke=l):K_(i);for(;s!==null;)Ke=s,RP(s),s=s.sibling;Ke=i,vg=a,qr=c}$_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ke=s):$_(t)}}function $_(t){for(;Ke!==null;){var e=Ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qr||k2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:eo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&b_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}b_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&A0(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}qr||e.flags&512&&o4(e)}catch(d){Kn(e,e.return,d)}}if(e===t){Ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function j_(t){for(;Ke!==null;){var e=Ke;if(e===t){Ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function K_(t){for(;Ke!==null;){var e=Ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{k2(4,e)}catch(l){Kn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Kn(e,i,l)}}var s=e.return;try{o4(e)}catch(l){Kn(e,s,l)}break;case 5:var o=e.return;try{o4(e)}catch(l){Kn(e,o,l)}}}catch(l){Kn(e,e.return,l)}if(e===t){Ke=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ke=a;break}Ke=e.return}}var GH=Math.ceil,R1=il.ReactCurrentDispatcher,Vx=il.ReactCurrentOwner,Bs=il.ReactCurrentBatchConfig,Kt=0,Lr=null,cr=null,Gr=0,ji=0,rh=_c(0),xr=0,M0=null,Ru=0,U2=0,Wx=0,jp=null,Ti=null,$x=0,Oh=1/0,Ba=null,P1=!1,c4=null,ec=null,yg=!1,Wl=null,D1=0,Kp=0,u4=null,WA=-1,$A=0;function gi(){return Kt&6?rr():WA!==-1?WA:WA=rr()}function tc(t){return t.mode&1?Kt&2&&Gr!==0?Gr&-Gr:SH.transition!==null?($A===0&&($A=pR()),$A):(t=on,t!==0||(t=window.event,t=t===void 0?16:xR(t.type)),t):1}function lo(t,e,n,r){if(50<Kp)throw Kp=0,u4=null,Error(Be(185));m3(t,n,r),(!(Kt&2)||t!==Lr)&&(t===Lr&&(!(Kt&2)&&(U2|=n),xr===4&&zl(t,Gr)),Fi(t,r),n===1&&Kt===0&&!(e.mode&1)&&(Oh=rr()+500,F2&&wc()))}function Fi(t,e){var n=t.callbackNode;SQ(t,e);var r=g1(t,t===Lr?Gr:0);if(r===0)n!==null&&r_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&r_(n),e===1)t.tag===0?CH(J_.bind(null,t)):GR(J_.bind(null,t)),vH(function(){!(Kt&6)&&wc()}),n=null;else{switch(mR(r)){case 1:n=vx;break;case 4:n=hR;break;case 16:n=m1;break;case 536870912:n=dR;break;default:n=m1}n=UP(n,PP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PP(t,e){if(WA=-1,$A=0,Kt&6)throw Error(Be(327));var n=t.callbackNode;if(gh()&&t.callbackNode!==n)return null;var r=g1(t,t===Lr?Gr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=L1(t,r);else{e=r;var i=Kt;Kt|=2;var s=LP();(Lr!==t||Gr!==e)&&(Ba=null,Oh=rr()+500,xu(t,e));do try{zH();break}catch(a){DP(t,a)}while(1);Rx(),R1.current=s,Kt=i,cr!==null?e=0:(Lr=null,Gr=0,e=xr)}if(e!==0){if(e===2&&(i=N8(t),i!==0&&(r=i,e=f4(t,i))),e===1)throw n=M0,xu(t,0),zl(t,r),Fi(t,rr()),n;if(e===6)zl(t,r);else{if(i=t.current.alternate,!(r&30)&&!QH(i)&&(e=L1(t,r),e===2&&(s=N8(t),s!==0&&(r=s,e=f4(t,s))),e===1))throw n=M0,xu(t,0),zl(t,r),Fi(t,rr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Be(345));case 2:tu(t,Ti,Ba);break;case 3:if(zl(t,r),(r&130023424)===r&&(e=$x+500-rr(),10<e)){if(g1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=W8(tu.bind(null,t,Ti,Ba),e);break}tu(t,Ti,Ba);break;case 4:if(zl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ao(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GH(r/1960))-r,10<r){t.timeoutHandle=W8(tu.bind(null,t,Ti,Ba),r);break}tu(t,Ti,Ba);break;case 5:tu(t,Ti,Ba);break;default:throw Error(Be(329))}}}return Fi(t,rr()),t.callbackNode===n?PP.bind(null,t):null}function f4(t,e){var n=jp;return t.current.memoizedState.isDehydrated&&(xu(t,e).flags|=256),t=L1(t,e),t!==2&&(e=Ti,Ti=n,e!==null&&h4(e)),t}function h4(t){Ti===null?Ti=t:Ti.push.apply(Ti,t)}function QH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zl(t,e){for(e&=~Wx,e&=~U2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ao(e),r=1<<n;t[n]=-1,e&=~r}}function J_(t){if(Kt&6)throw Error(Be(327));gh();var e=g1(t,0);if(!(e&1))return Fi(t,rr()),null;var n=L1(t,e);if(t.tag!==0&&n===2){var r=N8(t);r!==0&&(e=r,n=f4(t,r))}if(n===1)throw n=M0,xu(t,0),zl(t,e),Fi(t,rr()),n;if(n===6)throw Error(Be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tu(t,Ti,Ba),Fi(t,rr()),null}function jx(t,e){var n=Kt;Kt|=1;try{return t(e)}finally{Kt=n,Kt===0&&(Oh=rr()+500,F2&&wc())}}function Pu(t){Wl!==null&&Wl.tag===0&&!(Kt&6)&&gh();var e=Kt;Kt|=1;var n=Bs.transition,r=on;try{if(Bs.transition=null,on=1,t)return t()}finally{on=r,Bs.transition=n,Kt=e,!(Kt&6)&&wc()}}function Kx(){ji=rh.current,Tn(rh)}function xu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AH(n)),cr!==null)for(n=cr.return;n!==null;){var r=n;switch(Mx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&x1();break;case 3:Lh(),Tn(Di),Tn(ti),Nx();break;case 5:Ox(r);break;case 4:Lh();break;case 13:Tn(Fn);break;case 19:Tn(Fn);break;case 10:Px(r.type._context);break;case 22:case 23:Kx()}n=n.return}if(Lr=t,cr=t=nc(t.current,null),Gr=ji=e,xr=0,M0=null,Wx=U2=Ru=0,Ti=jp=null,hu!==null){for(e=0;e<hu.length;e++)if(n=hu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hu=null}return t}function DP(t,e){do{var n=cr;try{if(Rx(),HA.current=B1,b1){for(var r=Gn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}b1=!1}if(Bu=0,Br=Ar=Gn=null,Wp=!1,w0=0,Vx.current=null,n===null||n.return===null){xr=1,M0=e,cr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Gr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=O_(o);if(m!==null){m.flags&=-257,N_(m,o,a,s,e),m.mode&1&&F_(s,c,e),e=m,l=c;var A=e.updateQueue;if(A===null){var x=new Set;x.add(l),e.updateQueue=x}else A.add(l);break e}else{if(!(e&1)){F_(s,c,e),Jx();break e}l=Error(Be(426))}}else if(Bn&&a.mode&1){var E=O_(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),N_(E,o,a,s,e),bx(Fh(l,a));break e}}s=l=Fh(l,a),xr!==4&&(xr=2),jp===null?jp=[s]:jp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=gP(s,l,e);M_(s,g);break e;case 1:a=l;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ec===null||!ec.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=AP(s,a,e);M_(s,S);break e}}s=s.return}while(s!==null)}OP(n)}catch(w){e=w,cr===n&&n!==null&&(cr=n=n.return);continue}break}while(1)}function LP(){var t=R1.current;return R1.current=B1,t===null?B1:t}function Jx(){(xr===0||xr===3||xr===2)&&(xr=4),Lr===null||!(Ru&268435455)&&!(U2&268435455)||zl(Lr,Gr)}function L1(t,e){var n=Kt;Kt|=2;var r=LP();(Lr!==t||Gr!==e)&&(Ba=null,xu(t,e));do try{HH();break}catch(i){DP(t,i)}while(1);if(Rx(),Kt=n,R1.current=r,cr!==null)throw Error(Be(261));return Lr=null,Gr=0,xr}function HH(){for(;cr!==null;)FP(cr)}function zH(){for(;cr!==null&&!pQ();)FP(cr)}function FP(t){var e=kP(t.alternate,t,ji);t.memoizedProps=t.pendingProps,e===null?OP(t):cr=e,Vx.current=null}function OP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OH(n,e),n!==null){n.flags&=32767,cr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xr=6,cr=null;return}}else if(n=FH(n,e,ji),n!==null){cr=n;return}if(e=e.sibling,e!==null){cr=e;return}cr=e=t}while(e!==null);xr===0&&(xr=5)}function tu(t,e,n){var r=on,i=Bs.transition;try{Bs.transition=null,on=1,VH(t,e,n,r)}finally{Bs.transition=i,on=r}return null}function VH(t,e,n,r){do gh();while(Wl!==null);if(Kt&6)throw Error(Be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Be(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_Q(t,s),t===Lr&&(cr=Lr=null,Gr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yg||(yg=!0,UP(m1,function(){return gh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Bs.transition,Bs.transition=null;var o=on;on=1;var a=Kt;Kt|=4,Vx.current=null,kH(t,n),BP(n,t),uH(z8),A1=!!H8,z8=H8=null,t.current=n,UH(n),mQ(),Kt=a,on=o,Bs.transition=s}else t.current=n;if(yg&&(yg=!1,Wl=t,D1=i),s=t.pendingLanes,s===0&&(ec=null),vQ(n.stateNode),Fi(t,rr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(P1)throw P1=!1,t=c4,c4=null,t;return D1&1&&t.tag!==0&&gh(),s=t.pendingLanes,s&1?t===u4?Kp++:(Kp=0,u4=t):Kp=0,wc(),null}function gh(){if(Wl!==null){var t=mR(D1),e=Bs.transition,n=on;try{if(Bs.transition=null,on=16>t?16:t,Wl===null)var r=!1;else{if(t=Wl,Wl=null,D1=0,Kt&6)throw Error(Be(331));var i=Kt;for(Kt|=4,Ke=t.current;Ke!==null;){var s=Ke,o=s.child;if(Ke.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ke=c;Ke!==null;){var u=Ke;switch(u.tag){case 0:case 11:case 15:$p(8,u,s)}var h=u.child;if(h!==null)h.return=u,Ke=h;else for(;Ke!==null;){u=Ke;var d=u.sibling,m=u.return;if(TP(u),u===c){Ke=null;break}if(d!==null){d.return=m,Ke=d;break}Ke=m}}}var A=s.alternate;if(A!==null){var x=A.child;if(x!==null){A.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}Ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ke=o;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$p(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ke=g;break e}Ke=s.return}}var y=t.current;for(Ke=y;Ke!==null;){o=Ke;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Ke=v;else e:for(o=y;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:k2(9,a)}}catch(w){Kn(a,a.return,w)}if(a===o){Ke=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ke=S;break e}Ke=a.return}}if(Kt=i,wc(),Ko&&typeof Ko.onPostCommitFiberRoot=="function")try{Ko.onPostCommitFiberRoot(B2,t)}catch{}r=!0}return r}finally{on=n,Bs.transition=e}}return!1}function X_(t,e,n){e=Fh(n,e),e=gP(t,e,1),t=Zl(t,e,1),e=gi(),t!==null&&(m3(t,1,e),Fi(t,e))}function Kn(t,e,n){if(t.tag===3)X_(t,t,n);else for(;e!==null;){if(e.tag===3){X_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ec===null||!ec.has(r))){t=Fh(n,t),t=AP(e,t,1),e=Zl(e,t,1),t=gi(),e!==null&&(m3(e,1,t),Fi(e,t));break}}e=e.return}}function WH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gi(),t.pingedLanes|=t.suspendedLanes&n,Lr===t&&(Gr&n)===n&&(xr===4||xr===3&&(Gr&130023424)===Gr&&500>rr()-$x?xu(t,0):Wx|=n),Fi(t,e)}function NP(t,e){e===0&&(t.mode&1?(e=cg,cg<<=1,!(cg&130023424)&&(cg=4194304)):e=1);var n=gi();t=ja(t,e),t!==null&&(m3(t,e,n),Fi(t,n))}function $H(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NP(t,n)}function jH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Be(314))}r!==null&&r.delete(e),NP(t,n)}var kP;kP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Di.current)Ri=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ri=!1,LH(t,e,n);Ri=!!(t.flags&131072)}else Ri=!1,Bn&&e.flags&1048576&&QR(e,_1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;VA(t,e),t=e.pendingProps;var i=Rh(e,ti.current);mh(e,n),i=Ux(null,e,r,t,i,n);var s=Gx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Li(r)?(s=!0,C1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lx(e),i.updater=O2,e.stateNode=i,i._reactInternals=e,q8(e,r,t,n),e=t4(null,e,r,!0,s,n)):(e.tag=0,Bn&&s&&Tx(e),hi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(VA(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JH(r),t=eo(r,t),i){case 0:e=e4(null,e,r,t,n);break e;case 1:e=G_(null,e,r,t,n);break e;case 11:e=k_(null,e,r,t,n);break e;case 14:e=U_(null,e,r,eo(r.type,t),n);break e}throw Error(Be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:eo(r,i),e4(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:eo(r,i),G_(t,e,r,i,n);case 3:e:{if(xP(e),t===null)throw Error(Be(387));r=e.pendingProps,s=e.memoizedState,i=s.element,WR(t,e),T1(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fh(Error(Be(423)),e),e=Q_(t,e,r,n,i);break e}else if(r!==i){i=Fh(Error(Be(424)),e),e=Q_(t,e,r,n,i);break e}else for(Xi=ql(e.stateNode.containerInfo.firstChild),Yi=e,Bn=!0,ro=null,n=JR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ph(),r===i){e=Ka(t,e,n);break e}hi(t,e,r,n)}e=e.child}return e;case 5:return XR(e),t===null&&J8(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,V8(r,i)?o=null:s!==null&&V8(r,s)&&(e.flags|=32),EP(t,e),hi(t,e,o,n),e.child;case 6:return t===null&&J8(e),null;case 13:return CP(t,e,n);case 4:return Fx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dh(e,null,r,n):hi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:eo(r,i),k_(t,e,r,i,n);case 7:return hi(t,e,e.pendingProps,n),e.child;case 8:return hi(t,e,e.pendingProps.children,n),e.child;case 12:return hi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,vn(w1,r._currentValue),r._currentValue=o,s!==null)if(fo(s.value,o)){if(s.children===i.children&&!Di.current){e=Ka(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Qa(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),X8(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Be(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),X8(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mh(e,n),i=Ls(i),r=r(i),e.flags|=1,hi(t,e,r,n),e.child;case 14:return r=e.type,i=eo(r,e.pendingProps),i=eo(r.type,i),U_(t,e,r,i,n);case 15:return vP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:eo(r,i),VA(t,e),e.tag=1,Li(r)?(t=!0,C1(e)):t=!1,mh(e,n),jR(e,r,i),q8(e,r,i,n),t4(null,e,r,!0,t,n);case 19:return SP(t,e,n);case 22:return yP(t,e,n)}throw Error(Be(156,e.tag))};function UP(t,e){return fR(t,e)}function KH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(t,e,n,r){return new KH(t,e,n,r)}function Xx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JH(t){if(typeof t=="function")return Xx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mx)return 11;if(t===gx)return 14}return 2}function nc(t,e){var n=t.alternate;return n===null?(n=Ts(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jA(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jf:return Cu(n.children,i,s,e);case px:o=8,i|=8;break;case C8:return t=Ts(12,n,e,i|2),t.elementType=C8,t.lanes=s,t;case S8:return t=Ts(13,n,e,i),t.elementType=S8,t.lanes=s,t;case _8:return t=Ts(19,n,e,i),t.elementType=_8,t.lanes=s,t;case KB:return G2(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $B:o=10;break e;case jB:o=9;break e;case mx:o=11;break e;case gx:o=14;break e;case Ul:o=16,r=null;break e}throw Error(Be(130,t==null?t:typeof t,""))}return e=Ts(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Cu(t,e,n,r){return t=Ts(7,t,r,e),t.lanes=n,t}function G2(t,e,n,r){return t=Ts(22,t,r,e),t.elementType=KB,t.lanes=n,t.stateNode={isHidden:!1},t}function Qy(t,e,n){return t=Ts(6,t,null,e),t.lanes=n,t}function Hy(t,e,n){return e=Ts(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cy(0),this.expirationTimes=Cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yx(t,e,n,r,i,s,o,a,l){return t=new XH(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ts(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lx(s),t}function YH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$f,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GP(t){if(!t)return cc;t=t._reactInternals;e:{if(Vu(t)!==t||t.tag!==1)throw Error(Be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Li(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(t.tag===1){var n=t.type;if(Li(n))return UR(t,n,e)}return e}function QP(t,e,n,r,i,s,o,a,l){return t=Yx(n,r,!0,t,i,s,o,a,l),t.context=GP(null),n=t.current,r=gi(),i=tc(n),s=Qa(r,i),s.callback=e??null,Zl(n,s,i),t.current.lanes=i,m3(t,i,r),Fi(t,r),t}function Q2(t,e,n,r){var i=e.current,s=gi(),o=tc(i);return n=GP(n),e.context===null?e.context=n:e.pendingContext=n,e=Qa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zl(i,e,o),t!==null&&(lo(t,i,o,s),QA(t,i,o)),o}function F1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qx(t,e){Y_(t,e),(t=t.alternate)&&Y_(t,e)}function qH(){return null}var HP=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zx(t){this._internalRoot=t}H2.prototype.render=Zx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Be(409));Q2(t,e,null,null)};H2.prototype.unmount=Zx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pu(function(){Q2(null,t,null,null)}),e[$a]=null}};function H2(t){this._internalRoot=t}H2.prototype.unstable_scheduleHydration=function(t){if(t){var e=vR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hl.length&&e!==0&&e<Hl[n].priority;n++);Hl.splice(n,0,t),n===0&&ER(t)}};function e9(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function z2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function q_(){}function ZH(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=F1(o);s.call(c)}}var o=QP(e,r,t,0,null,!1,!1,"",q_);return t._reactRootContainer=o,t[$a]=o.current,E0(t.nodeType===8?t.parentNode:t),Pu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=F1(l);a.call(c)}}var l=Yx(t,0,!1,null,null,!1,!1,"",q_);return t._reactRootContainer=l,t[$a]=l.current,E0(t.nodeType===8?t.parentNode:t),Pu(function(){Q2(e,l,n,r)}),l}function V2(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=F1(o);a.call(l)}}Q2(e,o,t,i)}else o=ZH(n,e,t,i,r);return F1(o)}gR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bp(e.pendingLanes);n!==0&&(yx(e,n|1),Fi(e,rr()),!(Kt&6)&&(Oh=rr()+500,wc()))}break;case 13:Pu(function(){var r=ja(t,1);if(r!==null){var i=gi();lo(r,t,1,i)}}),qx(t,1)}};Ex=function(t){if(t.tag===13){var e=ja(t,134217728);if(e!==null){var n=gi();lo(e,t,134217728,n)}qx(t,134217728)}};AR=function(t){if(t.tag===13){var e=tc(t),n=ja(t,e);if(n!==null){var r=gi();lo(n,t,e,r)}qx(t,e)}};vR=function(){return on};yR=function(t,e){var n=on;try{return on=t,e()}finally{on=n}};L8=function(t,e,n){switch(e){case"input":if(T8(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=L2(r);if(!i)throw Error(Be(90));XB(r),T8(r,i)}}}break;case"textarea":qB(t,n);break;case"select":e=n.value,e!=null&&fh(t,!!n.multiple,e,!1)}};sR=jx;oR=Pu;var ez={usingClientEntryPoint:!1,Events:[A3,Yf,L2,rR,iR,jx]},ep={findFiberByHostInstance:fu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tz={bundleType:ep.bundleType,version:ep.version,rendererPackageName:ep.rendererPackageName,rendererConfig:ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:il.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cR(t),t===null?null:t.stateNode},findFiberByHostInstance:ep.findFiberByHostInstance||qH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eg.isDisabled&&Eg.supportsFiber)try{B2=Eg.inject(tz),Ko=Eg}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ez;ss.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e9(e))throw Error(Be(200));return YH(t,e,null,n)};ss.createRoot=function(t,e){if(!e9(t))throw Error(Be(299));var n=!1,r="",i=HP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yx(t,1,!1,null,null,n,!1,r,i),t[$a]=e.current,E0(t.nodeType===8?t.parentNode:t),new Zx(e)};ss.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Be(188)):(t=Object.keys(t).join(","),Error(Be(268,t)));return t=cR(e),t=t===null?null:t.stateNode,t};ss.flushSync=function(t){return Pu(t)};ss.hydrate=function(t,e,n){if(!z2(e))throw Error(Be(200));return V2(null,t,e,!0,n)};ss.hydrateRoot=function(t,e,n){if(!e9(t))throw Error(Be(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=HP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QP(e,null,t,1,n??null,i,!1,s,o),t[$a]=e.current,E0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new H2(e)};ss.render=function(t,e,n){if(!z2(e))throw Error(Be(200));return V2(null,t,e,!1,n)};ss.unmountComponentAtNode=function(t){if(!z2(t))throw Error(Be(40));return t._reactRootContainer?(Pu(function(){V2(null,null,t,!1,function(){t._reactRootContainer=null,t[$a]=null})}),!0):!1};ss.unstable_batchedUpdates=jx;ss.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!z2(n))throw Error(Be(200));if(t==null||t._reactInternals===void 0)throw Error(Be(38));return V2(t,e,n,!1,r)};ss.version="18.2.0-next-9e3b772b8-20220608";function zP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zP)}catch(t){console.error(t)}}zP(),QB.exports=ss;var y3=QB.exports;const nz=rd(y3);var VP,Z_=y3;VP=E8.createRoot=Z_.createRoot,E8.hydrateRoot=Z_.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const sl="156",rz={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},iz={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},WP=0,d4=1,$P=2,sz=3,jP=0,W2=1,Jp=2,to=3,ia=0,ei=1,In=2,oz=2,Gt=0,Xo=1,b0=2,p4=3,m4=4,B0=5,Ji=100,KP=101,JP=102,g4=103,A4=104,Nh=200,XP=201,YP=202,qP=203,R0=204,P0=205,$2=206,ZP=207,j2=208,eD=209,tD=210,nD=0,rD=1,iD=2,O1=3,sD=4,oD=5,aD=6,lD=7,E3=0,cD=1,uD=2,Rs=0,fD=1,hD=2,dD=3,t9=4,pD=5,K2=300,Ja=301,uc=302,D0=303,L0=304,ad=306,Os=1e3,On=1001,kh=1002,_t=1003,F0=1004,az=1004,Ah=1005,lz=1005,fn=1006,J2=1007,cz=1007,Ns=1008,uz=1008,yr=1009,mD=1010,gD=1011,Wu=1012,n9=1013,ka=1014,pi=1015,ir=1016,r9=1017,i9=1018,Ha=1020,AD=1021,Yn=1023,s9=1024,vD=1025,rc=1026,fc=1027,pu=1028,o9=1029,ih=1030,a9=1031,l9=1033,vh=33776,KA=33777,JA=33778,yh=33779,O0=35840,v4=35841,N0=35842,y4=35843,X2=36196,k0=37492,U0=37496,G0=37808,E4=37809,x4=37810,C4=37811,S4=37812,_4=37813,w4=37814,I4=37815,T4=37816,M4=37817,b4=37818,B4=37819,R4=37820,P4=37821,Eh=36492,D4=36494,L4=36495,yD=36283,F4=36284,O4=36285,N4=36286,ED=2200,xD=2201,CD=2202,Uh=2300,Du=2301,XA=2302,mu=2400,gu=2401,Q0=2402,Y2=2500,c9=2501,SD=0,u9=1,N1=2,f9=3e3,ic=3001,_D=3200,h9=3201,Ic=0,wD=1,sc="",An="srgb",ho="srgb-linear",x3="display-p3",fz="display-p3-linear",hz=0,YA=7680,dz=7681,pz=7682,mz=7683,gz=34055,Az=34056,vz=5386,yz=512,Ez=513,xz=514,Cz=515,Sz=516,_z=517,wz=518,ID=519,TD=512,MD=513,bD=514,BD=515,RD=516,PD=517,DD=518,LD=519,H0=35044,qA=35048,Iz=35040,Tz=35045,Mz=35049,bz=35041,Bz=35046,Rz=35050,Pz=35042,Dz="100",k4="300 es",k1=1035,$o=2e3,z0=2001;class ol{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Xr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ew=1234567;const Su=Math.PI/180,Gh=180/Math.PI;function qi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Xr[t&255]+Xr[t>>8&255]+Xr[t>>16&255]+Xr[t>>24&255]+"-"+Xr[e&255]+Xr[e>>8&255]+"-"+Xr[e>>16&15|64]+Xr[e>>24&255]+"-"+Xr[n&63|128]+Xr[n>>8&255]+"-"+Xr[n>>16&255]+Xr[n>>24&255]+Xr[r&255]+Xr[r>>8&255]+Xr[r>>16&255]+Xr[r>>24&255]).toLowerCase()}function Jn(t,e,n){return Math.max(e,Math.min(n,t))}function d9(t,e){return(t%e+e)%e}function Lz(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Fz(t,e,n){return t!==e?(n-t)/(e-t):0}function Xp(t,e,n){return(1-n)*t+n*e}function Oz(t,e,n,r){return Xp(t,e,1-Math.exp(-n*r))}function Nz(t,e=1){return e-Math.abs(d9(t,e*2)-e)}function kz(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Uz(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Gz(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Qz(t,e){return t+Math.random()*(e-t)}function Hz(t){return t*(.5-Math.random())}function zz(t){t!==void 0&&(ew=t);let e=ew+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Vz(t){return t*Su}function Wz(t){return t*Gh}function U4(t){return(t&t-1)===0&&t!==0}function FD(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function U1(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function $z(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),h=s((e-r)/2),d=o((e-r)/2),m=s((r-e)/2),A=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*h,l*d,a*c);break;case"YZY":t.set(l*d,a*u,l*h,a*c);break;case"ZXZ":t.set(l*h,l*d,a*u,a*c);break;case"XZX":t.set(a*u,l*A,l*m,a*c);break;case"YXY":t.set(l*m,a*u,l*A,a*c);break;case"ZYZ":t.set(l*A,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Bi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ft(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const xh={DEG2RAD:Su,RAD2DEG:Gh,generateUUID:qi,clamp:Jn,euclideanModulo:d9,mapLinear:Lz,inverseLerp:Fz,lerp:Xp,damp:Oz,pingpong:Nz,smoothstep:kz,smootherstep:Uz,randInt:Gz,randFloat:Qz,randFloatSpread:Hz,seededRandom:zz,degToRad:Vz,radToDeg:Wz,isPowerOfTwo:U4,ceilPowerOfTwo:FD,floorPowerOfTwo:U1,setQuaternionFromProperEuler:$z,normalize:Ft,denormalize:Bi};class fe{constructor(e=0,n=0){fe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Nt{constructor(e,n,r,i,s,o,a,l,c){Nt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],h=r[7],d=r[2],m=r[5],A=r[8],x=i[0],E=i[3],g=i[6],y=i[1],v=i[4],S=i[7],w=i[2],T=i[5],M=i[8];return s[0]=o*x+a*y+l*w,s[3]=o*E+a*v+l*T,s[6]=o*g+a*S+l*M,s[1]=c*x+u*y+h*w,s[4]=c*E+u*v+h*T,s[7]=c*g+u*S+h*M,s[2]=d*x+m*y+A*w,s[5]=d*E+m*v+A*T,s[8]=d*g+m*S+A*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,d=a*l-u*s,m=c*s-o*l,A=n*h+r*d+i*m;if(A===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/A;return e[0]=h*x,e[1]=(i*c-u*r)*x,e[2]=(a*r-i*o)*x,e[3]=d*x,e[4]=(u*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=m*x,e[7]=(r*l-c*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(zy.makeScale(e,n)),this}rotate(e){return this.premultiply(zy.makeRotation(-e)),this}translate(e,n){return this.premultiply(zy.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const zy=new Nt;function OD(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const jz={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function sh(t,e){return new jz[t](e)}function V0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function ND(){const t=V0("canvas");return t.style.display="block",t}const tw={};function Yp(t){t in tw||(tw[t]=!0,console.warn(t))}function Ch(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Vy(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Kz=new Nt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Jz=new Nt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function Xz(t){return t.convertSRGBToLinear().applyMatrix3(Jz)}function Yz(t){return t.applyMatrix3(Kz).convertLinearToSRGB()}const qz={[ho]:t=>t,[An]:t=>t.convertSRGBToLinear(),[x3]:Xz},Zz={[ho]:t=>t,[An]:t=>t.convertLinearToSRGB(),[x3]:Yz},vs={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return ho},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=qz[e],i=Zz[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let mf;class p9{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{mf===void 0&&(mf=V0("canvas")),mf.width=e.width,mf.height=e.height;const r=mf.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=mf}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=V0("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Ch(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ch(n[r]/255)*255):n[r]=Ch(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let eV=0;class Au{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:eV++}),this.uuid=qi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Wy(i[o].image)):s.push(Wy(i[o]))}else s=Wy(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function Wy(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?p9.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let tV=0;class Mn extends ol{constructor(e=Mn.DEFAULT_IMAGE,n=Mn.DEFAULT_MAPPING,r=On,i=On,s=fn,o=Ns,a=Yn,l=yr,c=Mn.DEFAULT_ANISOTROPY,u=sc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:tV++}),this.uuid=qi(),this.name="",this.source=new Au(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new fe(0,0),this.repeat=new fe(1,1),this.center=new fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Yp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===ic?An:sc),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==K2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Os:e.x=e.x-Math.floor(e.x);break;case On:e.x=e.x<0?0:1;break;case kh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Os:e.y=e.y-Math.floor(e.y);break;case On:e.y=e.y<0?0:1;break;case kh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Yp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===An?ic:f9}set encoding(e){Yp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===ic?An:sc}}Mn.DEFAULT_IMAGE=null;Mn.DEFAULT_MAPPING=K2;Mn.DEFAULT_ANISOTROPY=1;class Wt{constructor(e=0,n=0,r=0,i=1){Wt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],h=l[8],d=l[1],m=l[5],A=l[9],x=l[2],E=l[6],g=l[10];if(Math.abs(u-d)<.01&&Math.abs(h-x)<.01&&Math.abs(A-E)<.01){if(Math.abs(u+d)<.1&&Math.abs(h+x)<.1&&Math.abs(A+E)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const v=(c+1)/2,S=(m+1)/2,w=(g+1)/2,T=(u+d)/4,M=(h+x)/4,P=(A+E)/4;return v>S&&v>w?v<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(v),i=T/r,s=M/r):S>w?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=T/i,s=P/i):w<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(w),r=M/s,i=P/s),this.set(r,i,s,n),this}let y=Math.sqrt((E-A)*(E-A)+(h-x)*(h-x)+(d-u)*(d-u));return Math.abs(y)<.001&&(y=1),this.x=(E-A)/y,this.y=(h-x)/y,this.z=(d-u)/y,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class kD extends ol{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Wt(0,0,e,n),this.scissorTest=!1,this.viewport=new Wt(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Yp("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===ic?An:sc),this.texture=new Mn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:fn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Au(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class hn extends kD{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class q2 extends Mn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=_t,this.minFilter=_t,this.wrapR=On,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nV extends hn{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new q2(null,e,n,r),this.texture.isRenderTargetTexture=!0}}let m9=class extends Mn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=_t,this.minFilter=_t,this.wrapR=On,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class rV extends hn{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new m9(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class iV extends hn{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class ur{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],h=r[i+3];const d=s[o+0],m=s[o+1],A=s[o+2],x=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=h;return}if(a===1){e[n+0]=d,e[n+1]=m,e[n+2]=A,e[n+3]=x;return}if(h!==x||l!==d||c!==m||u!==A){let E=1-a;const g=l*d+c*m+u*A+h*x,y=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){const w=Math.sqrt(v),T=Math.atan2(w,g*y);E=Math.sin(E*T)/w,a=Math.sin(a*T)/w}const S=a*y;if(l=l*E+d*S,c=c*E+m*S,u=u*E+A*S,h=h*E+x*S,E===1-a){const w=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=w,c*=w,u*=w,h*=w}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],h=s[o],d=s[o+1],m=s[o+2],A=s[o+3];return e[n]=a*A+u*h+l*m-c*d,e[n+1]=l*A+u*d+c*h-a*m,e[n+2]=c*A+u*m+a*d-l*h,e[n+3]=u*A-a*h-l*d-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),h=a(s/2),d=l(r/2),m=l(i/2),A=l(s/2);switch(o){case"XYZ":this._x=d*u*h+c*m*A,this._y=c*m*h-d*u*A,this._z=c*u*A+d*m*h,this._w=c*u*h-d*m*A;break;case"YXZ":this._x=d*u*h+c*m*A,this._y=c*m*h-d*u*A,this._z=c*u*A-d*m*h,this._w=c*u*h+d*m*A;break;case"ZXY":this._x=d*u*h-c*m*A,this._y=c*m*h+d*u*A,this._z=c*u*A+d*m*h,this._w=c*u*h-d*m*A;break;case"ZYX":this._x=d*u*h-c*m*A,this._y=c*m*h+d*u*A,this._z=c*u*A-d*m*h,this._w=c*u*h+d*m*A;break;case"YZX":this._x=d*u*h+c*m*A,this._y=c*m*h+d*u*A,this._z=c*u*A-d*m*h,this._w=c*u*h-d*m*A;break;case"XZY":this._x=d*u*h-c*m*A,this._y=c*m*h-d*u*A,this._z=c*u*A+d*m*h,this._w=c*u*h+d*m*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],h=n[10],d=r+a+h;if(d>0){const m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-n)*u)/c,d=Math.sin(n*u)/c;return this._w=o*h+this._w*d,this._x=r*h+this._x*d,this._y=i*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class O{constructor(e=0,n=0,r=0){O.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(nw.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(nw.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*i-a*r,u=l*r+a*n-s*i,h=l*i+s*r-o*n,d=-s*n-o*r-a*i;return this.x=c*l+d*-s+u*-a-h*-o,this.y=u*l+d*-o+h*-s-c*-a,this.z=h*l+d*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return $y.copy(this).projectOnVector(e),this.sub($y)}reflect(e){return this.sub($y.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $y=new O,nw=new ur;class Eo{constructor(e=new O(1/0,1/0,1/0),n=new O(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ca.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ca.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ca.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),gf.copy(e.boundingBox),gf.applyMatrix4(e.matrixWorld),this.union(gf);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Ca.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ca)}else i.boundingBox===null&&i.computeBoundingBox(),gf.copy(i.boundingBox),gf.applyMatrix4(e.matrixWorld),this.union(gf)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ca),Ca.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(tp),xg.subVectors(this.max,tp),Af.subVectors(e.a,tp),vf.subVectors(e.b,tp),yf.subVectors(e.c,tp),Il.subVectors(vf,Af),Tl.subVectors(yf,vf),zc.subVectors(Af,yf);let n=[0,-Il.z,Il.y,0,-Tl.z,Tl.y,0,-zc.z,zc.y,Il.z,0,-Il.x,Tl.z,0,-Tl.x,zc.z,0,-zc.x,-Il.y,Il.x,0,-Tl.y,Tl.x,0,-zc.y,zc.x,0];return!jy(n,Af,vf,yf,xg)||(n=[1,0,0,0,1,0,0,0,1],!jy(n,Af,vf,yf,xg))?!1:(Cg.crossVectors(Il,Tl),n=[Cg.x,Cg.y,Cg.z],jy(n,Af,vf,yf,xg))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ca).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ca).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(xa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const xa=[new O,new O,new O,new O,new O,new O,new O,new O],Ca=new O,gf=new Eo,Af=new O,vf=new O,yf=new O,Il=new O,Tl=new O,zc=new O,tp=new O,xg=new O,Cg=new O,Vc=new O;function jy(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Vc.fromArray(t,s);const a=i.x*Math.abs(Vc.x)+i.y*Math.abs(Vc.y)+i.z*Math.abs(Vc.z),l=e.dot(Vc),c=n.dot(Vc),u=r.dot(Vc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const sV=new Eo,np=new O,Ky=new O;class Qs{constructor(e=new O,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):sV.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;np.subVectors(e,this.center);const n=np.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(np,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Ky.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(np.copy(e.center).add(Ky)),this.expandByPoint(np.copy(e.center).sub(Ky))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Sa=new O,Jy=new O,Sg=new O,Ml=new O,Xy=new O,_g=new O,Yy=new O;class ld{constructor(e=new O,n=new O(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Sa)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Sa.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Sa.copy(this.origin).addScaledVector(this.direction,n),Sa.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){Jy.copy(e).add(n).multiplyScalar(.5),Sg.copy(n).sub(e).normalize(),Ml.copy(this.origin).sub(Jy);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Sg),a=Ml.dot(this.direction),l=-Ml.dot(Sg),c=Ml.lengthSq(),u=Math.abs(1-o*o);let h,d,m,A;if(u>0)if(h=o*l-a,d=o*a-l,A=s*u,h>=0)if(d>=-A)if(d<=A){const x=1/u;h*=x,d*=x,m=h*(h+o*d+2*a)+d*(o*h+d+2*l)+c}else d=s,h=Math.max(0,-(o*d+a)),m=-h*h+d*(d+2*l)+c;else d=-s,h=Math.max(0,-(o*d+a)),m=-h*h+d*(d+2*l)+c;else d<=-A?(h=Math.max(0,-(-o*s+a)),d=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+d*(d+2*l)+c):d<=A?(h=0,d=Math.min(Math.max(-s,-l),s),m=d*(d+2*l)+c):(h=Math.max(0,-(o*s+a)),d=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+d*(d+2*l)+c);else d=o>0?-s:s,h=Math.max(0,-(o*d+a)),m=-h*h+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(Jy).addScaledVector(Sg,d),m}intersectSphere(e,n){Sa.subVectors(e.center,this.origin);const r=Sa.dot(this.direction),i=Sa.dot(Sa)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(a=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Sa)!==null}intersectTriangle(e,n,r,i,s){Xy.subVectors(n,e),_g.subVectors(r,e),Yy.crossVectors(Xy,_g);let o=this.direction.dot(Yy),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Ml.subVectors(this.origin,e);const l=a*this.direction.dot(_g.crossVectors(Ml,_g));if(l<0)return null;const c=a*this.direction.dot(Xy.cross(Ml));if(c<0||l+c>o)return null;const u=-a*Ml.dot(Yy);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class et{constructor(e,n,r,i,s,o,a,l,c,u,h,d,m,A,x,E){et.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,u,h,d,m,A,x,E)}set(e,n,r,i,s,o,a,l,c,u,h,d,m,A,x,E){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=h,g[14]=d,g[3]=m,g[7]=A,g[11]=x,g[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new et().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Ef.setFromMatrixColumn(e,0).length(),s=1/Ef.setFromMatrixColumn(e,1).length(),o=1/Ef.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const d=o*u,m=o*h,A=a*u,x=a*h;n[0]=l*u,n[4]=-l*h,n[8]=c,n[1]=m+A*c,n[5]=d-x*c,n[9]=-a*l,n[2]=x-d*c,n[6]=A+m*c,n[10]=o*l}else if(e.order==="YXZ"){const d=l*u,m=l*h,A=c*u,x=c*h;n[0]=d+x*a,n[4]=A*a-m,n[8]=o*c,n[1]=o*h,n[5]=o*u,n[9]=-a,n[2]=m*a-A,n[6]=x+d*a,n[10]=o*l}else if(e.order==="ZXY"){const d=l*u,m=l*h,A=c*u,x=c*h;n[0]=d-x*a,n[4]=-o*h,n[8]=A+m*a,n[1]=m+A*a,n[5]=o*u,n[9]=x-d*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const d=o*u,m=o*h,A=a*u,x=a*h;n[0]=l*u,n[4]=A*c-m,n[8]=d*c+x,n[1]=l*h,n[5]=x*c+d,n[9]=m*c-A,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const d=o*l,m=o*c,A=a*l,x=a*c;n[0]=l*u,n[4]=x-d*h,n[8]=A*h+m,n[1]=h,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=m*h+A,n[10]=d-x*h}else if(e.order==="XZY"){const d=o*l,m=o*c,A=a*l,x=a*c;n[0]=l*u,n[4]=-h,n[8]=c*u,n[1]=d*h+x,n[5]=o*u,n[9]=m*h-A,n[2]=A*h-m,n[6]=a*u,n[10]=x*h+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(oV,e,aV)}lookAt(e,n,r){const i=this.elements;return Wi.subVectors(e,n),Wi.lengthSq()===0&&(Wi.z=1),Wi.normalize(),bl.crossVectors(r,Wi),bl.lengthSq()===0&&(Math.abs(r.z)===1?Wi.x+=1e-4:Wi.z+=1e-4,Wi.normalize(),bl.crossVectors(r,Wi)),bl.normalize(),wg.crossVectors(Wi,bl),i[0]=bl.x,i[4]=wg.x,i[8]=Wi.x,i[1]=bl.y,i[5]=wg.y,i[9]=Wi.y,i[2]=bl.z,i[6]=wg.z,i[10]=Wi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],h=r[5],d=r[9],m=r[13],A=r[2],x=r[6],E=r[10],g=r[14],y=r[3],v=r[7],S=r[11],w=r[15],T=i[0],M=i[4],P=i[8],b=i[12],B=i[1],L=i[5],H=i[9],U=i[13],V=i[2],W=i[6],q=i[10],Y=i[14],k=i[3],K=i[7],$=i[11],G=i[15];return s[0]=o*T+a*B+l*V+c*k,s[4]=o*M+a*L+l*W+c*K,s[8]=o*P+a*H+l*q+c*$,s[12]=o*b+a*U+l*Y+c*G,s[1]=u*T+h*B+d*V+m*k,s[5]=u*M+h*L+d*W+m*K,s[9]=u*P+h*H+d*q+m*$,s[13]=u*b+h*U+d*Y+m*G,s[2]=A*T+x*B+E*V+g*k,s[6]=A*M+x*L+E*W+g*K,s[10]=A*P+x*H+E*q+g*$,s[14]=A*b+x*U+E*Y+g*G,s[3]=y*T+v*B+S*V+w*k,s[7]=y*M+v*L+S*W+w*K,s[11]=y*P+v*H+S*q+w*$,s[15]=y*b+v*U+S*Y+w*G,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],d=e[10],m=e[14],A=e[3],x=e[7],E=e[11],g=e[15];return A*(+s*l*h-i*c*h-s*a*d+r*c*d+i*a*m-r*l*m)+x*(+n*l*m-n*c*d+s*o*d-i*o*m+i*c*u-s*l*u)+E*(+n*c*h-n*a*m-s*o*h+r*o*m+s*a*u-r*c*u)+g*(-i*a*u-n*l*h+n*a*d+i*o*h-r*o*d+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],m=e[11],A=e[12],x=e[13],E=e[14],g=e[15],y=h*E*c-x*d*c+x*l*m-a*E*m-h*l*g+a*d*g,v=A*d*c-u*E*c-A*l*m+o*E*m+u*l*g-o*d*g,S=u*x*c-A*h*c+A*a*m-o*x*m-u*a*g+o*h*g,w=A*h*l-u*x*l-A*a*d+o*x*d+u*a*E-o*h*E,T=n*y+r*v+i*S+s*w;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/T;return e[0]=y*M,e[1]=(x*d*s-h*E*s-x*i*m+r*E*m+h*i*g-r*d*g)*M,e[2]=(a*E*s-x*l*s+x*i*c-r*E*c-a*i*g+r*l*g)*M,e[3]=(h*l*s-a*d*s-h*i*c+r*d*c+a*i*m-r*l*m)*M,e[4]=v*M,e[5]=(u*E*s-A*d*s+A*i*m-n*E*m-u*i*g+n*d*g)*M,e[6]=(A*l*s-o*E*s-A*i*c+n*E*c+o*i*g-n*l*g)*M,e[7]=(o*d*s-u*l*s+u*i*c-n*d*c-o*i*m+n*l*m)*M,e[8]=S*M,e[9]=(A*h*s-u*x*s-A*r*m+n*x*m+u*r*g-n*h*g)*M,e[10]=(o*x*s-A*a*s+A*r*c-n*x*c-o*r*g+n*a*g)*M,e[11]=(u*a*s-o*h*s-u*r*c+n*h*c+o*r*m-n*a*m)*M,e[12]=w*M,e[13]=(u*x*i-A*h*i+A*r*d-n*x*d-u*r*E+n*h*E)*M,e[14]=(A*a*i-o*x*i-A*r*l+n*x*l+o*r*E-n*a*E)*M,e[15]=(o*h*i-u*a*i+u*r*l-n*h*l-o*r*d+n*a*d)*M,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,h=a+a,d=s*c,m=s*u,A=s*h,x=o*u,E=o*h,g=a*h,y=l*c,v=l*u,S=l*h,w=r.x,T=r.y,M=r.z;return i[0]=(1-(x+g))*w,i[1]=(m+S)*w,i[2]=(A-v)*w,i[3]=0,i[4]=(m-S)*T,i[5]=(1-(d+g))*T,i[6]=(E+y)*T,i[7]=0,i[8]=(A+v)*M,i[9]=(E-y)*M,i[10]=(1-(d+x))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Ef.set(i[0],i[1],i[2]).length();const o=Ef.set(i[4],i[5],i[6]).length(),a=Ef.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ys.copy(this);const c=1/s,u=1/o,h=1/a;return Ys.elements[0]*=c,Ys.elements[1]*=c,Ys.elements[2]*=c,Ys.elements[4]*=u,Ys.elements[5]*=u,Ys.elements[6]*=u,Ys.elements[8]*=h,Ys.elements[9]*=h,Ys.elements[10]*=h,n.setFromRotationMatrix(Ys),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=$o){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),h=(n+e)/(n-e),d=(r+i)/(r-i);let m,A;if(a===$o)m=-(o+s)/(o-s),A=-2*o*s/(o-s);else if(a===z0)m=-o/(o-s),A=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=A,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=$o){const l=this.elements,c=1/(n-e),u=1/(r-i),h=1/(o-s),d=(n+e)*c,m=(r+i)*u;let A,x;if(a===$o)A=(o+s)*h,x=-2*h;else if(a===z0)A=s*h,x=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-A,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ef=new O,Ys=new et,oV=new O(0,0,0),aV=new O(1,1,1),bl=new O,wg=new O,Wi=new O,rw=new et,iw=new ur;class C3{constructor(e=0,n=0,r=0,i=C3.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],h=i[2],d=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Jn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Jn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Jn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Jn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Jn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Jn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return rw.makeRotationFromQuaternion(e),this.setFromRotationMatrix(rw,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return iw.setFromEuler(this),this.setFromQuaternion(iw,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}C3.DEFAULT_ORDER="XYZ";class _u{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let lV=0;const sw=new O,xf=new ur,_a=new et,Ig=new O,rp=new O,cV=new O,uV=new ur,ow=new O(1,0,0),aw=new O(0,1,0),lw=new O(0,0,1),fV={type:"added"},hV={type:"removed"};class jt extends ol{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:lV++}),this.uuid=qi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jt.DEFAULT_UP.clone();const e=new O,n=new C3,r=new ur,i=new O(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new et},normalMatrix:{value:new Nt}}),this.matrix=new et,this.matrixWorld=new et,this.matrixAutoUpdate=jt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new _u,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return xf.setFromAxisAngle(e,n),this.quaternion.multiply(xf),this}rotateOnWorldAxis(e,n){return xf.setFromAxisAngle(e,n),this.quaternion.premultiply(xf),this}rotateX(e){return this.rotateOnAxis(ow,e)}rotateY(e){return this.rotateOnAxis(aw,e)}rotateZ(e){return this.rotateOnAxis(lw,e)}translateOnAxis(e,n){return sw.copy(e).applyQuaternion(this.quaternion),this.position.add(sw.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(ow,e)}translateY(e){return this.translateOnAxis(aw,e)}translateZ(e){return this.translateOnAxis(lw,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_a.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Ig.copy(e):Ig.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),rp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_a.lookAt(rp,Ig,this.up):_a.lookAt(Ig,rp,this.up),this.quaternion.setFromRotationMatrix(_a),i&&(_a.extractRotation(i.matrixWorld),xf.setFromRotationMatrix(_a),this.quaternion.premultiply(xf.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(fV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(hV)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),_a.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_a.multiply(e.parent.matrixWorld)),e.applyMatrix4(_a),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rp,e,cV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rp,uV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),d=o(e.skeletons),m=o(e.animations),A=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),d.length>0&&(r.skeletons=d),m.length>0&&(r.animations=m),A.length>0&&(r.nodes=A)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}jt.DEFAULT_UP=new O(0,1,0);jt.DEFAULT_MATRIX_AUTO_UPDATE=!0;jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const qs=new O,wa=new O,qy=new O,Ia=new O,Cf=new O,Sf=new O,cw=new O,Zy=new O,e6=new O,t6=new O;let Tg=!1;class Mi{constructor(e=new O,n=new O,r=new O){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),qs.subVectors(e,n),i.cross(qs);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){qs.subVectors(i,n),wa.subVectors(r,n),qy.subVectors(e,n);const o=qs.dot(qs),a=qs.dot(wa),l=qs.dot(qy),c=wa.dot(wa),u=wa.dot(qy),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const d=1/h,m=(c*l-a*u)*d,A=(o*u-a*l)*d;return s.set(1-m-A,A,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Ia),Ia.x>=0&&Ia.y>=0&&Ia.x+Ia.y<=1}static getUV(e,n,r,i,s,o,a,l){return Tg===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Tg=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Ia),l.setScalar(0),l.addScaledVector(s,Ia.x),l.addScaledVector(o,Ia.y),l.addScaledVector(a,Ia.z),l}static isFrontFacing(e,n,r,i){return qs.subVectors(r,n),wa.subVectors(e,n),qs.cross(wa).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return qs.subVectors(this.c,this.b),wa.subVectors(this.a,this.b),qs.cross(wa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Mi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Mi.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return Tg===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Tg=!0),Mi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return Mi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Mi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Mi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Cf.subVectors(i,r),Sf.subVectors(s,r),Zy.subVectors(e,r);const l=Cf.dot(Zy),c=Sf.dot(Zy);if(l<=0&&c<=0)return n.copy(r);e6.subVectors(e,i);const u=Cf.dot(e6),h=Sf.dot(e6);if(u>=0&&h<=u)return n.copy(i);const d=l*h-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(Cf,o);t6.subVectors(e,s);const m=Cf.dot(t6),A=Sf.dot(t6);if(A>=0&&m<=A)return n.copy(s);const x=m*c-l*A;if(x<=0&&c>=0&&A<=0)return a=c/(c-A),n.copy(r).addScaledVector(Sf,a);const E=u*A-m*h;if(E<=0&&h-u>=0&&m-A>=0)return cw.subVectors(s,i),a=(h-u)/(h-u+(m-A)),n.copy(i).addScaledVector(cw,a);const g=1/(E+x+d);return o=x*g,a=d*g,n.copy(r).addScaledVector(Cf,o).addScaledVector(Sf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let dV=0;class fr extends ol{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:dV++}),this.uuid=qi(),this.name="",this.type="Material",this.blending=Xo,this.side=ia,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=R0,this.blendDst=P0,this.blendEquation=Ji,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=O1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ID,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=YA,this.stencilZFail=YA,this.stencilZPass=YA,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Xo&&(r.blending=this.blending),this.side!==ia&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const UD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zs={h:0,s:0,l:0},Mg={h:0,s:0,l:0};function n6(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let be=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=An){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,vs.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=vs.workingColorSpace){return this.r=e,this.g=n,this.b=r,vs.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=vs.workingColorSpace){if(e=d9(e,1),n=Jn(n,0,1),r=Jn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=n6(o,s,e+1/3),this.g=n6(o,s,e),this.b=n6(o,s,e-1/3)}return vs.toWorkingColorSpace(this,i),this}setStyle(e,n=An){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=An){const r=UD[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ch(e.r),this.g=Ch(e.g),this.b=Ch(e.b),this}copyLinearToSRGB(e){return this.r=Vy(e.r),this.g=Vy(e.g),this.b=Vy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=An){return vs.fromWorkingColorSpace(Yr.copy(this),e),Math.round(Jn(Yr.r*255,0,255))*65536+Math.round(Jn(Yr.g*255,0,255))*256+Math.round(Jn(Yr.b*255,0,255))}getHexString(e=An){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=vs.workingColorSpace){vs.fromWorkingColorSpace(Yr.copy(this),n);const r=Yr.r,i=Yr.g,s=Yr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=vs.workingColorSpace){return vs.fromWorkingColorSpace(Yr.copy(this),n),e.r=Yr.r,e.g=Yr.g,e.b=Yr.b,e}getStyle(e=An){vs.fromWorkingColorSpace(Yr.copy(this),e);const n=Yr.r,r=Yr.g,i=Yr.b;return e!==An?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Zs),Zs.h+=e,Zs.s+=n,Zs.l+=r,this.setHSL(Zs.h,Zs.s,Zs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Zs),e.getHSL(Mg);const r=Xp(Zs.h,Mg.h,n),i=Xp(Zs.s,Mg.s,n),s=Xp(Zs.l,Mg.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Yr=new be;be.NAMES=UD;class Pr extends fr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=E3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const La=pV();function pV(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function wi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Jn(t,-65504,65504),La.floatView[0]=t;const e=La.uint32View[0],n=e>>23&511;return La.baseTable[n]+((e&8388607)>>La.shiftTable[n])}function Rp(t){const e=t>>10;return La.uint32View[0]=La.mantissaTable[La.offsetTable[e]+(t&1023)]+La.exponentTable[e],La.floatView[0]}const mV={toHalfFloat:wi,fromHalfFloat:Rp},lr=new O,bg=new fe;class tn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=H0,this.updateRange={offset:0,count:-1},this.gpuType=pi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)bg.fromBufferAttribute(this,n),bg.applyMatrix3(e),this.setXY(n,bg.x,bg.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)lr.fromBufferAttribute(this,n),lr.applyMatrix3(e),this.setXYZ(n,lr.x,lr.y,lr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)lr.fromBufferAttribute(this,n),lr.applyMatrix4(e),this.setXYZ(n,lr.x,lr.y,lr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)lr.fromBufferAttribute(this,n),lr.applyNormalMatrix(e),this.setXYZ(n,lr.x,lr.y,lr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)lr.fromBufferAttribute(this,n),lr.transformDirection(e),this.setXYZ(n,lr.x,lr.y,lr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Bi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ft(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Bi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Bi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Bi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Bi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==H0&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class gV extends tn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class AV extends tn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class vV extends tn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class yV extends tn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class g9 extends tn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class EV extends tn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class Z2 extends tn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class xV extends tn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Rp(this.array[e*this.itemSize]);return this.normalized&&(n=Bi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize]=wi(n),this}getY(e){let n=Rp(this.array[e*this.itemSize+1]);return this.normalized&&(n=Bi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+1]=wi(n),this}getZ(e){let n=Rp(this.array[e*this.itemSize+2]);return this.normalized&&(n=Bi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+2]=wi(n),this}getW(e){let n=Rp(this.array[e*this.itemSize+3]);return this.normalized&&(n=Bi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+3]=wi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.array[e+0]=wi(n),this.array[e+1]=wi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.array[e+0]=wi(n),this.array[e+1]=wi(r),this.array[e+2]=wi(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.array[e+0]=wi(n),this.array[e+1]=wi(r),this.array[e+2]=wi(i),this.array[e+3]=wi(s),this}}class rt extends tn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class CV extends tn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let SV=0;const As=new et,r6=new jt,_f=new O,$i=new Eo,ip=new Eo,br=new O;class It extends ol{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:SV++}),this.uuid=qi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(OD(e)?Z2:g9)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Nt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return As.makeRotationFromQuaternion(e),this.applyMatrix4(As),this}rotateX(e){return As.makeRotationX(e),this.applyMatrix4(As),this}rotateY(e){return As.makeRotationY(e),this.applyMatrix4(As),this}rotateZ(e){return As.makeRotationZ(e),this.applyMatrix4(As),this}translate(e,n,r){return As.makeTranslation(e,n,r),this.applyMatrix4(As),this}scale(e,n,r){return As.makeScale(e,n,r),this.applyMatrix4(As),this}lookAt(e){return r6.lookAt(e),r6.updateMatrix(),this.applyMatrix4(r6.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_f).negate(),this.translate(_f.x,_f.y,_f.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new rt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Eo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new O(-1/0,-1/0,-1/0),new O(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];$i.setFromBufferAttribute(s),this.morphTargetsRelative?(br.addVectors(this.boundingBox.min,$i.min),this.boundingBox.expandByPoint(br),br.addVectors(this.boundingBox.max,$i.max),this.boundingBox.expandByPoint(br)):(this.boundingBox.expandByPoint($i.min),this.boundingBox.expandByPoint($i.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new O,1/0);return}if(e){const r=this.boundingSphere.center;if($i.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];ip.setFromBufferAttribute(a),this.morphTargetsRelative?(br.addVectors($i.min,ip.min),$i.expandByPoint(br),br.addVectors($i.max,ip.max),$i.expandByPoint(br)):($i.expandByPoint(ip.min),$i.expandByPoint(ip.max))}$i.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)br.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(br));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)br.fromBufferAttribute(a,c),l&&(_f.fromBufferAttribute(e,c),br.add(_f)),i=Math.max(i,r.distanceToSquared(br))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new tn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let B=0;B<a;B++)c[B]=new O,u[B]=new O;const h=new O,d=new O,m=new O,A=new fe,x=new fe,E=new fe,g=new O,y=new O;function v(B,L,H){h.fromArray(i,B*3),d.fromArray(i,L*3),m.fromArray(i,H*3),A.fromArray(o,B*2),x.fromArray(o,L*2),E.fromArray(o,H*2),d.sub(h),m.sub(h),x.sub(A),E.sub(A);const U=1/(x.x*E.y-E.x*x.y);isFinite(U)&&(g.copy(d).multiplyScalar(E.y).addScaledVector(m,-x.y).multiplyScalar(U),y.copy(m).multiplyScalar(x.x).addScaledVector(d,-E.x).multiplyScalar(U),c[B].add(g),c[L].add(g),c[H].add(g),u[B].add(y),u[L].add(y),u[H].add(y))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let B=0,L=S.length;B<L;++B){const H=S[B],U=H.start,V=H.count;for(let W=U,q=U+V;W<q;W+=3)v(r[W+0],r[W+1],r[W+2])}const w=new O,T=new O,M=new O,P=new O;function b(B){M.fromArray(s,B*3),P.copy(M);const L=c[B];w.copy(L),w.sub(M.multiplyScalar(M.dot(L))).normalize(),T.crossVectors(P,L);const U=T.dot(u[B])<0?-1:1;l[B*4]=w.x,l[B*4+1]=w.y,l[B*4+2]=w.z,l[B*4+3]=U}for(let B=0,L=S.length;B<L;++B){const H=S[B],U=H.start,V=H.count;for(let W=U,q=U+V;W<q;W+=3)b(r[W+0]),b(r[W+1]),b(r[W+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new tn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,m=r.count;d<m;d++)r.setXYZ(d,0,0,0);const i=new O,s=new O,o=new O,a=new O,l=new O,c=new O,u=new O,h=new O;if(e)for(let d=0,m=e.count;d<m;d+=3){const A=e.getX(d+0),x=e.getX(d+1),E=e.getX(d+2);i.fromBufferAttribute(n,A),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,E),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),a.fromBufferAttribute(r,A),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,E),a.add(u),l.add(u),c.add(u),r.setXYZ(A,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(E,c.x,c.y,c.z)}else for(let d=0,m=n.count;d<m;d+=3)i.fromBufferAttribute(n,d+0),s.fromBufferAttribute(n,d+1),o.fromBufferAttribute(n,d+2),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)br.fromBufferAttribute(e,n),br.normalize(),e.setXYZ(n,br.x,br.y,br.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,d=new c.constructor(l.length*u);let m=0,A=0;for(let x=0,E=l.length;x<E;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*u;for(let g=0;g<u;g++)d[A++]=c[m++]}return new tn(d,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new It,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const d=c[u],m=e(d,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,d=c.length;h<d;h++){const m=c[h];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let d=0,m=h.length;d<m;d++)u.push(h[d].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const uw=new et,Wc=new ld,Bg=new Qs,fw=new O,wf=new O,If=new O,Tf=new O,i6=new O,Rg=new O,Pg=new fe,Dg=new fe,Lg=new fe,hw=new O,dw=new O,pw=new O,Fg=new O,Og=new O;class sn extends jt{constructor(e=new It,n=new Pr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Rg.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],h=s[l];u!==0&&(i6.fromBufferAttribute(h,e),o?Rg.addScaledVector(i6,u):Rg.addScaledVector(i6.sub(n),u))}n.add(Rg)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Bg.copy(r.boundingSphere),Bg.applyMatrix4(s),Wc.copy(e.ray).recast(e.near),!(Bg.containsPoint(Wc.origin)===!1&&(Wc.intersectSphere(Bg,fw)===null||Wc.origin.distanceToSquared(fw)>(e.far-e.near)**2))&&(uw.copy(s).invert(),Wc.copy(e.ray).applyMatrix4(uw),!(r.boundingBox!==null&&Wc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Wc)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,d=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let A=0,x=d.length;A<x;A++){const E=d[A],g=o[E.materialIndex],y=Math.max(E.start,m.start),v=Math.min(a.count,Math.min(E.start+E.count,m.start+m.count));for(let S=y,w=v;S<w;S+=3){const T=a.getX(S),M=a.getX(S+1),P=a.getX(S+2);i=Ng(this,g,e,r,c,u,h,T,M,P),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=E.materialIndex,n.push(i))}}else{const A=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let E=A,g=x;E<g;E+=3){const y=a.getX(E),v=a.getX(E+1),S=a.getX(E+2);i=Ng(this,o,e,r,c,u,h,y,v,S),i&&(i.faceIndex=Math.floor(E/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let A=0,x=d.length;A<x;A++){const E=d[A],g=o[E.materialIndex],y=Math.max(E.start,m.start),v=Math.min(l.count,Math.min(E.start+E.count,m.start+m.count));for(let S=y,w=v;S<w;S+=3){const T=S,M=S+1,P=S+2;i=Ng(this,g,e,r,c,u,h,T,M,P),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=E.materialIndex,n.push(i))}}else{const A=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let E=A,g=x;E<g;E+=3){const y=E,v=E+1,S=E+2;i=Ng(this,o,e,r,c,u,h,y,v,S),i&&(i.faceIndex=Math.floor(E/3),n.push(i))}}}}function _V(t,e,n,r,i,s,o,a){let l;if(e.side===ei?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===ia,a),l===null)return null;Og.copy(a),Og.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Og);return c<n.near||c>n.far?null:{distance:c,point:Og.clone(),object:t}}function Ng(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,wf),t.getVertexPosition(l,If),t.getVertexPosition(c,Tf);const u=_V(t,e,n,r,wf,If,Tf,Fg);if(u){i&&(Pg.fromBufferAttribute(i,a),Dg.fromBufferAttribute(i,l),Lg.fromBufferAttribute(i,c),u.uv=Mi.getInterpolation(Fg,wf,If,Tf,Pg,Dg,Lg,new fe)),s&&(Pg.fromBufferAttribute(s,a),Dg.fromBufferAttribute(s,l),Lg.fromBufferAttribute(s,c),u.uv1=Mi.getInterpolation(Fg,wf,If,Tf,Pg,Dg,Lg,new fe),u.uv2=u.uv1),o&&(hw.fromBufferAttribute(o,a),dw.fromBufferAttribute(o,l),pw.fromBufferAttribute(o,c),u.normal=Mi.getInterpolation(Fg,wf,If,Tf,hw,dw,pw,new O),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new O,materialIndex:0};Mi.getNormal(wf,If,Tf,h.normal),u.face=h}return u}class Tc extends It{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let d=0,m=0;A("z","y","x",-1,-1,r,n,e,o,s,0),A("z","y","x",1,-1,r,n,-e,o,s,1),A("x","z","y",1,1,e,r,n,i,o,2),A("x","z","y",1,-1,e,r,-n,i,o,3),A("x","y","z",1,-1,e,n,r,i,s,4),A("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new rt(c,3)),this.setAttribute("normal",new rt(u,3)),this.setAttribute("uv",new rt(h,2));function A(x,E,g,y,v,S,w,T,M,P,b){const B=S/M,L=w/P,H=S/2,U=w/2,V=T/2,W=M+1,q=P+1;let Y=0,k=0;const K=new O;for(let $=0;$<q;$++){const G=$*L-U;for(let X=0;X<W;X++){const le=X*B-H;K[x]=le*y,K[E]=G*v,K[g]=V,c.push(K.x,K.y,K.z),K[x]=0,K[E]=0,K[g]=T>0?1:-1,u.push(K.x,K.y,K.z),h.push(X/M),h.push(1-$/P),Y+=1}}for(let $=0;$<P;$++)for(let G=0;G<M;G++){const X=d+G+W*$,le=d+G+W*($+1),pe=d+(G+1)+W*($+1),ye=d+(G+1)+W*$;l.push(X,le,ye),l.push(le,pe,ye),k+=6}a.addGroup(m,k,b),m+=k,d+=Y}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Qh(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function fi(t){const e={};for(let n=0;n<t.length;n++){const r=Qh(t[n]);for(const i in r)e[i]=r[i]}return e}function wV(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function GD(t){return t.getRenderTarget()===null?t.outputColorSpace:ho}const Nn={clone:Qh,merge:fi};var IV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,TV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Jt extends fr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=IV,this.fragmentShader=TV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Qh(e.uniforms),this.uniformsGroups=wV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class S3 extends jt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new et,this.projectionMatrix=new et,this.projectionMatrixInverse=new et,this.coordinateSystem=$o}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Rn extends S3{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Gh*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Su*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Gh*2*Math.atan(Math.tan(Su*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Su*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Mf=-90,bf=1;class A9 extends jt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new Rn(Mf,bf,e,n);i.layers=this.layers,this.add(i);const s=new Rn(Mf,bf,e,n);s.layers=this.layers,this.add(s);const o=new Rn(Mf,bf,e,n);o.layers=this.layers,this.add(o);const a=new Rn(Mf,bf,e,n);a.layers=this.layers,this.add(a);const l=new Rn(Mf,bf,e,n);l.layers=this.layers,this.add(l);const c=new Rn(Mf,bf,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===$o)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===z0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),h=e.xr.enabled;e.xr.enabled=!1;const d=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=d,e.setRenderTarget(r,5),e.render(n,c),e.setRenderTarget(u),e.xr.enabled=h,r.texture.needsPMREMUpdate=!0}}class _3 extends Mn{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Ja,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class v9 extends hn{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Yp("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===ic?An:sc),this.texture=new _3(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:fn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Tc(5,5,5),s=new Jt({name:"CubemapFromEquirect",uniforms:Qh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ei,blending:Gt});s.uniforms.tEquirect.value=n;const o=new sn(i,s),a=n.minFilter;return n.minFilter===Ns&&(n.minFilter=fn),new A9(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const s6=new O,MV=new O,bV=new Nt;class _s{constructor(e=new O(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=s6.subVectors(r,n).cross(MV.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(s6),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||bV.getNormalMatrix(e),i=this.coplanarPoint(s6).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const $c=new Qs,kg=new O;class ev{constructor(e=new _s,n=new _s,r=new _s,i=new _s,s=new _s,o=new _s){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=$o){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=i[6],d=i[7],m=i[8],A=i[9],x=i[10],E=i[11],g=i[12],y=i[13],v=i[14],S=i[15];if(r[0].setComponents(l-s,d-c,E-m,S-g).normalize(),r[1].setComponents(l+s,d+c,E+m,S+g).normalize(),r[2].setComponents(l+o,d+u,E+A,S+y).normalize(),r[3].setComponents(l-o,d-u,E-A,S-y).normalize(),r[4].setComponents(l-a,d-h,E-x,S-v).normalize(),n===$o)r[5].setComponents(l+a,d+h,E+x,S+v).normalize();else if(n===z0)r[5].setComponents(a,h,x,v).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),$c.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),$c.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere($c)}intersectsSprite(e){return $c.center.set(0,0,0),$c.radius=.7071067811865476,$c.applyMatrix4(e.matrixWorld),this.intersectsSphere($c)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(kg.x=i.normal.x>0?e.max.x:e.min.x,kg.y=i.normal.y>0?e.max.y:e.min.y,kg.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(kg)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function QD(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function BV(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const h=c.array,d=c.usage,m=t.createBuffer();t.bindBuffer(u,m),t.bufferData(u,h,d),c.onUploadCallback();let A;if(h instanceof Float32Array)A=t.FLOAT;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)A=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else A=t.UNSIGNED_SHORT;else if(h instanceof Int16Array)A=t.SHORT;else if(h instanceof Uint32Array)A=t.UNSIGNED_INT;else if(h instanceof Int32Array)A=t.INT;else if(h instanceof Int8Array)A=t.BYTE;else if(h instanceof Uint8Array)A=t.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)A=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:A,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,h){const d=u.array,m=u.updateRange;t.bindBuffer(h,c),m.count===-1?t.bufferSubData(h,0,d):(n?t.bufferSubData(h,m.offset*d.BYTES_PER_ELEMENT,d,m.offset,m.count):t.bufferSubData(h,m.offset*d.BYTES_PER_ELEMENT,d.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h===void 0?r.set(c,i(c,u)):h.version<c.version&&(s(h.buffer,c,u),h.version=c.version)}return{get:o,remove:a,update:l}}class cd extends It{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,h=e/a,d=n/l,m=[],A=[],x=[],E=[];for(let g=0;g<u;g++){const y=g*d-o;for(let v=0;v<c;v++){const S=v*h-s;A.push(S,-y,0),x.push(0,0,1),E.push(v/a),E.push(1-g/l)}}for(let g=0;g<l;g++)for(let y=0;y<a;y++){const v=y+c*g,S=y+c*(g+1),w=y+1+c*(g+1),T=y+1+c*g;m.push(v,S,T),m.push(S,w,T)}this.setIndex(m),this.setAttribute("position",new rt(A,3)),this.setAttribute("normal",new rt(x,3)),this.setAttribute("uv",new rt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cd(e.width,e.height,e.widthSegments,e.heightSegments)}}var RV=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,PV=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,DV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,LV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,FV=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,OV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,NV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,kV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,UV=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,GV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,QV=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,HV=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,zV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,VV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,WV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,$V=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,jV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,KV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,JV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,XV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,YV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,qV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,ZV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,eW=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,tW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,nW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,rW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,iW=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,sW="gl_FragColor = linearToOutputTexel( gl_FragColor );",oW=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,aW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,lW=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,cW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,uW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,fW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,hW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,dW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,pW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,mW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,AW=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,vW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,yW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,EW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,xW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,CW=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,SW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,_W=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,wW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,IW=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,TW=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,MW=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,bW=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,BW=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,RW=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,PW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,DW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,LW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,FW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,OW=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,NW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,kW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,UW=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,GW=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,QW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,HW=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,zW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,VW=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,WW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,$W=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,jW=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,KW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,XW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,YW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,qW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,ZW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,e$=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,t$=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,n$=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,r$=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,i$=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,s$=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,o$=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,a$=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,l$=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,c$=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,u$=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,f$=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,h$=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,d$=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,p$=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,m$=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,g$=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,A$=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,v$=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,y$=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,E$=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,x$=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,C$=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,S$=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,_$=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,w$=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,I$=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,T$=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const M$=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,b$=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,B$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,R$=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,P$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,D$=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,L$=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,F$=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,O$=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,N$=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,k$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,U$=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,G$=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Q$=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,H$=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,z$=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,V$=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,W$=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$$=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,j$=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,K$=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,J$=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,X$=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Y$=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,q$=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Z$=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ej=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nj=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,rj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ij=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sj=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,oj=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,aj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Lt={alphahash_fragment:RV,alphahash_pars_fragment:PV,alphamap_fragment:DV,alphamap_pars_fragment:LV,alphatest_fragment:FV,alphatest_pars_fragment:OV,aomap_fragment:NV,aomap_pars_fragment:kV,begin_vertex:UV,beginnormal_vertex:GV,bsdfs:QV,iridescence_fragment:HV,bumpmap_pars_fragment:zV,clipping_planes_fragment:VV,clipping_planes_pars_fragment:WV,clipping_planes_pars_vertex:$V,clipping_planes_vertex:jV,color_fragment:KV,color_pars_fragment:JV,color_pars_vertex:XV,color_vertex:YV,common:qV,cube_uv_reflection_fragment:ZV,defaultnormal_vertex:eW,displacementmap_pars_vertex:tW,displacementmap_vertex:nW,emissivemap_fragment:rW,emissivemap_pars_fragment:iW,colorspace_fragment:sW,colorspace_pars_fragment:oW,envmap_fragment:aW,envmap_common_pars_fragment:lW,envmap_pars_fragment:cW,envmap_pars_vertex:uW,envmap_physical_pars_fragment:CW,envmap_vertex:fW,fog_vertex:hW,fog_pars_vertex:dW,fog_fragment:pW,fog_pars_fragment:mW,gradientmap_pars_fragment:gW,lightmap_fragment:AW,lightmap_pars_fragment:vW,lights_lambert_fragment:yW,lights_lambert_pars_fragment:EW,lights_pars_begin:xW,lights_toon_fragment:SW,lights_toon_pars_fragment:_W,lights_phong_fragment:wW,lights_phong_pars_fragment:IW,lights_physical_fragment:TW,lights_physical_pars_fragment:MW,lights_fragment_begin:bW,lights_fragment_maps:BW,lights_fragment_end:RW,logdepthbuf_fragment:PW,logdepthbuf_pars_fragment:DW,logdepthbuf_pars_vertex:LW,logdepthbuf_vertex:FW,map_fragment:OW,map_pars_fragment:NW,map_particle_fragment:kW,map_particle_pars_fragment:UW,metalnessmap_fragment:GW,metalnessmap_pars_fragment:QW,morphcolor_vertex:HW,morphnormal_vertex:zW,morphtarget_pars_vertex:VW,morphtarget_vertex:WW,normal_fragment_begin:$W,normal_fragment_maps:jW,normal_pars_fragment:KW,normal_pars_vertex:JW,normal_vertex:XW,normalmap_pars_fragment:YW,clearcoat_normal_fragment_begin:qW,clearcoat_normal_fragment_maps:ZW,clearcoat_pars_fragment:e$,iridescence_pars_fragment:t$,opaque_fragment:n$,packing:r$,premultiplied_alpha_fragment:i$,project_vertex:s$,dithering_fragment:o$,dithering_pars_fragment:a$,roughnessmap_fragment:l$,roughnessmap_pars_fragment:c$,shadowmap_pars_fragment:u$,shadowmap_pars_vertex:f$,shadowmap_vertex:h$,shadowmask_pars_fragment:d$,skinbase_vertex:p$,skinning_pars_vertex:m$,skinning_vertex:g$,skinnormal_vertex:A$,specularmap_fragment:v$,specularmap_pars_fragment:y$,tonemapping_fragment:E$,tonemapping_pars_fragment:x$,transmission_fragment:C$,transmission_pars_fragment:S$,uv_pars_fragment:_$,uv_pars_vertex:w$,uv_vertex:I$,worldpos_vertex:T$,background_vert:M$,background_frag:b$,backgroundCube_vert:B$,backgroundCube_frag:R$,cube_vert:P$,cube_frag:D$,depth_vert:L$,depth_frag:F$,distanceRGBA_vert:O$,distanceRGBA_frag:N$,equirect_vert:k$,equirect_frag:U$,linedashed_vert:G$,linedashed_frag:Q$,meshbasic_vert:H$,meshbasic_frag:z$,meshlambert_vert:V$,meshlambert_frag:W$,meshmatcap_vert:$$,meshmatcap_frag:j$,meshnormal_vert:K$,meshnormal_frag:J$,meshphong_vert:X$,meshphong_frag:Y$,meshphysical_vert:q$,meshphysical_frag:Z$,meshtoon_vert:ej,meshtoon_frag:tj,points_vert:nj,points_frag:rj,shadow_vert:ij,shadow_frag:sj,sprite_vert:oj,sprite_frag:aj},Fe={common:{diffuse:{value:new be(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Nt},alphaMap:{value:null},alphaMapTransform:{value:new Nt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Nt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Nt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Nt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Nt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Nt},normalScale:{value:new fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Nt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Nt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Nt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Nt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new be(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new be(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Nt},alphaTest:{value:0},uvTransform:{value:new Nt}},sprite:{diffuse:{value:new be(16777215)},opacity:{value:1},center:{value:new fe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Nt},alphaMap:{value:null},alphaMapTransform:{value:new Nt},alphaTest:{value:0}}},io={basic:{uniforms:fi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.fog]),vertexShader:Lt.meshbasic_vert,fragmentShader:Lt.meshbasic_frag},lambert:{uniforms:fi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new be(0)}}]),vertexShader:Lt.meshlambert_vert,fragmentShader:Lt.meshlambert_frag},phong:{uniforms:fi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new be(0)},specular:{value:new be(1118481)},shininess:{value:30}}]),vertexShader:Lt.meshphong_vert,fragmentShader:Lt.meshphong_frag},standard:{uniforms:fi([Fe.common,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.roughnessmap,Fe.metalnessmap,Fe.fog,Fe.lights,{emissive:{value:new be(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag},toon:{uniforms:fi([Fe.common,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.gradientmap,Fe.fog,Fe.lights,{emissive:{value:new be(0)}}]),vertexShader:Lt.meshtoon_vert,fragmentShader:Lt.meshtoon_frag},matcap:{uniforms:fi([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,{matcap:{value:null}}]),vertexShader:Lt.meshmatcap_vert,fragmentShader:Lt.meshmatcap_frag},points:{uniforms:fi([Fe.points,Fe.fog]),vertexShader:Lt.points_vert,fragmentShader:Lt.points_frag},dashed:{uniforms:fi([Fe.common,Fe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lt.linedashed_vert,fragmentShader:Lt.linedashed_frag},depth:{uniforms:fi([Fe.common,Fe.displacementmap]),vertexShader:Lt.depth_vert,fragmentShader:Lt.depth_frag},normal:{uniforms:fi([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,{opacity:{value:1}}]),vertexShader:Lt.meshnormal_vert,fragmentShader:Lt.meshnormal_frag},sprite:{uniforms:fi([Fe.sprite,Fe.fog]),vertexShader:Lt.sprite_vert,fragmentShader:Lt.sprite_frag},background:{uniforms:{uvTransform:{value:new Nt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Lt.background_vert,fragmentShader:Lt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Lt.backgroundCube_vert,fragmentShader:Lt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Lt.cube_vert,fragmentShader:Lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lt.equirect_vert,fragmentShader:Lt.equirect_frag},distanceRGBA:{uniforms:fi([Fe.common,Fe.displacementmap,{referencePosition:{value:new O},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lt.distanceRGBA_vert,fragmentShader:Lt.distanceRGBA_frag},shadow:{uniforms:fi([Fe.lights,Fe.fog,{color:{value:new be(0)},opacity:{value:1}}]),vertexShader:Lt.shadow_vert,fragmentShader:Lt.shadow_frag}};io.physical={uniforms:fi([io.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Nt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Nt},clearcoatNormalScale:{value:new fe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Nt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Nt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Nt},sheen:{value:0},sheenColor:{value:new be(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Nt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Nt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Nt},transmissionSamplerSize:{value:new fe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Nt},attenuationDistance:{value:0},attenuationColor:{value:new be(0)},specularColor:{value:new be(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Nt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Nt},anisotropyVector:{value:new fe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Nt}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag};const Ug={r:0,b:0,g:0};function lj(t,e,n,r,i,s,o){const a=new be(0);let l=s===!0?0:1,c,u,h=null,d=0,m=null;function A(E,g){let y=!1,v=g.isScene===!0?g.background:null;v&&v.isTexture&&(v=(g.backgroundBlurriness>0?n:e).get(v)),v===null?x(a,l):v&&v.isColor&&(x(v,1),y=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?r.buffers.color.setClear(0,0,0,1,o):S==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||y)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),v&&(v.isCubeTexture||v.mapping===ad)?(u===void 0&&(u=new sn(new Tc(1,1,1),new Jt({name:"BackgroundCubeMaterial",uniforms:Qh(io.backgroundCube.uniforms),vertexShader:io.backgroundCube.vertexShader,fragmentShader:io.backgroundCube.fragmentShader,side:ei,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(w,T,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=v,u.material.uniforms.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=v.colorSpace!==An,(h!==v||d!==v.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,h=v,d=v.version,m=t.toneMapping),u.layers.enableAll(),E.unshift(u,u.geometry,u.material,0,0,null)):v&&v.isTexture&&(c===void 0&&(c=new sn(new cd(2,2),new Jt({name:"BackgroundMaterial",uniforms:Qh(io.background.uniforms),vertexShader:io.background.vertexShader,fragmentShader:io.background.fragmentShader,side:ia,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=v,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=v.colorSpace!==An,v.matrixAutoUpdate===!0&&v.updateMatrix(),c.material.uniforms.uvTransform.value.copy(v.matrix),(h!==v||d!==v.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,h=v,d=v.version,m=t.toneMapping),c.layers.enableAll(),E.unshift(c,c.geometry,c.material,0,0,null))}function x(E,g){E.getRGB(Ug,GD(t)),r.buffers.color.setClear(Ug.r,Ug.g,Ug.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(E,g=1){a.set(E),l=g,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(E){l=E,x(a,l)},render:A}}function cj(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=E(null);let c=l,u=!1;function h(V,W,q,Y,k){let K=!1;if(o){const $=x(Y,q,W);c!==$&&(c=$,m(c.object)),K=g(V,Y,q,k),K&&y(V,Y,q,k)}else{const $=W.wireframe===!0;(c.geometry!==Y.id||c.program!==q.id||c.wireframe!==$)&&(c.geometry=Y.id,c.program=q.id,c.wireframe=$,K=!0)}k!==null&&n.update(k,t.ELEMENT_ARRAY_BUFFER),(K||u)&&(u=!1,P(V,W,q,Y),k!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(k).buffer))}function d(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(V){return r.isWebGL2?t.bindVertexArray(V):s.bindVertexArrayOES(V)}function A(V){return r.isWebGL2?t.deleteVertexArray(V):s.deleteVertexArrayOES(V)}function x(V,W,q){const Y=q.wireframe===!0;let k=a[V.id];k===void 0&&(k={},a[V.id]=k);let K=k[W.id];K===void 0&&(K={},k[W.id]=K);let $=K[Y];return $===void 0&&($=E(d()),K[Y]=$),$}function E(V){const W=[],q=[],Y=[];for(let k=0;k<i;k++)W[k]=0,q[k]=0,Y[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:q,attributeDivisors:Y,object:V,attributes:{},index:null}}function g(V,W,q,Y){const k=c.attributes,K=W.attributes;let $=0;const G=q.getAttributes();for(const X in G)if(G[X].location>=0){const pe=k[X];let ye=K[X];if(ye===void 0&&(X==="instanceMatrix"&&V.instanceMatrix&&(ye=V.instanceMatrix),X==="instanceColor"&&V.instanceColor&&(ye=V.instanceColor)),pe===void 0||pe.attribute!==ye||ye&&pe.data!==ye.data)return!0;$++}return c.attributesNum!==$||c.index!==Y}function y(V,W,q,Y){const k={},K=W.attributes;let $=0;const G=q.getAttributes();for(const X in G)if(G[X].location>=0){let pe=K[X];pe===void 0&&(X==="instanceMatrix"&&V.instanceMatrix&&(pe=V.instanceMatrix),X==="instanceColor"&&V.instanceColor&&(pe=V.instanceColor));const ye={};ye.attribute=pe,pe&&pe.data&&(ye.data=pe.data),k[X]=ye,$++}c.attributes=k,c.attributesNum=$,c.index=Y}function v(){const V=c.newAttributes;for(let W=0,q=V.length;W<q;W++)V[W]=0}function S(V){w(V,0)}function w(V,W){const q=c.newAttributes,Y=c.enabledAttributes,k=c.attributeDivisors;q[V]=1,Y[V]===0&&(t.enableVertexAttribArray(V),Y[V]=1),k[V]!==W&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,W),k[V]=W)}function T(){const V=c.newAttributes,W=c.enabledAttributes;for(let q=0,Y=W.length;q<Y;q++)W[q]!==V[q]&&(t.disableVertexAttribArray(q),W[q]=0)}function M(V,W,q,Y,k,K,$){$===!0?t.vertexAttribIPointer(V,W,q,k,K):t.vertexAttribPointer(V,W,q,Y,k,K)}function P(V,W,q,Y){if(r.isWebGL2===!1&&(V.isInstancedMesh||Y.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;v();const k=Y.attributes,K=q.getAttributes(),$=W.defaultAttributeValues;for(const G in K){const X=K[G];if(X.location>=0){let le=k[G];if(le===void 0&&(G==="instanceMatrix"&&V.instanceMatrix&&(le=V.instanceMatrix),G==="instanceColor"&&V.instanceColor&&(le=V.instanceColor)),le!==void 0){const pe=le.normalized,ye=le.itemSize,Se=n.get(le);if(Se===void 0)continue;const we=Se.buffer,Me=Se.type,Ve=Se.bytesPerElement,We=r.isWebGL2===!0&&(Me===t.INT||Me===t.UNSIGNED_INT||le.gpuType===n9);if(le.isInterleavedBufferAttribute){const xe=le.data,j=xe.stride,Ae=le.offset;if(xe.isInstancedInterleavedBuffer){for(let ue=0;ue<X.locationSize;ue++)w(X.location+ue,xe.meshPerAttribute);V.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let ue=0;ue<X.locationSize;ue++)S(X.location+ue);t.bindBuffer(t.ARRAY_BUFFER,we);for(let ue=0;ue<X.locationSize;ue++)M(X.location+ue,ye/X.locationSize,Me,pe,j*Ve,(Ae+ye/X.locationSize*ue)*Ve,We)}else{if(le.isInstancedBufferAttribute){for(let xe=0;xe<X.locationSize;xe++)w(X.location+xe,le.meshPerAttribute);V.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let xe=0;xe<X.locationSize;xe++)S(X.location+xe);t.bindBuffer(t.ARRAY_BUFFER,we);for(let xe=0;xe<X.locationSize;xe++)M(X.location+xe,ye/X.locationSize,Me,pe,ye*Ve,ye/X.locationSize*xe*Ve,We)}}else if($!==void 0){const pe=$[G];if(pe!==void 0)switch(pe.length){case 2:t.vertexAttrib2fv(X.location,pe);break;case 3:t.vertexAttrib3fv(X.location,pe);break;case 4:t.vertexAttrib4fv(X.location,pe);break;default:t.vertexAttrib1fv(X.location,pe)}}}}T()}function b(){H();for(const V in a){const W=a[V];for(const q in W){const Y=W[q];for(const k in Y)A(Y[k].object),delete Y[k];delete W[q]}delete a[V]}}function B(V){if(a[V.id]===void 0)return;const W=a[V.id];for(const q in W){const Y=W[q];for(const k in Y)A(Y[k].object),delete Y[k];delete W[q]}delete a[V.id]}function L(V){for(const W in a){const q=a[W];if(q[V.id]===void 0)continue;const Y=q[V.id];for(const k in Y)A(Y[k].object),delete Y[k];delete q[V.id]}}function H(){U(),u=!0,c!==l&&(c=l,m(c.object))}function U(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:H,resetDefaultState:U,dispose:b,releaseStatesOfGeometry:B,releaseStatesOfProgram:L,initAttributes:v,enableAttribute:S,disableUnusedAttributes:T}}function uj(t,e,n,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,h){if(h===0)return;let d,m;if(i)d=t,m="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[m](s,c,u,h),n.update(u,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function fj(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),A=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),E=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),y=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),v=d>0,S=o||e.has("OES_texture_float"),w=v&&S,T=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:d,maxTextureSize:m,maxCubemapSize:A,maxAttributes:x,maxVertexUniforms:E,maxVaryings:g,maxFragmentUniforms:y,vertexTextures:v,floatFragmentTextures:S,floatVertexTextures:w,maxSamples:T}}function hj(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new _s,a=new Nt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d){const m=h.length!==0||d||r!==0||i;return i=d,r=h.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,d){n=u(h,d,0)},this.setState=function(h,d,m){const A=h.clippingPlanes,x=h.clipIntersection,E=h.clipShadows,g=t.get(h);if(!i||A===null||A.length===0||s&&!E)s?u(null):c();else{const y=s?0:r,v=y*4;let S=g.clippingState||null;l.value=S,S=u(A,d,v,m);for(let w=0;w!==v;++w)S[w]=n[w];g.clippingState=S,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(h,d,m,A){const x=h!==null?h.length:0;let E=null;if(x!==0){if(E=l.value,A!==!0||E===null){const g=m+x*4,y=d.matrixWorldInverse;a.getNormalMatrix(y),(E===null||E.length<g)&&(E=new Float32Array(g));for(let v=0,S=m;v!==x;++v,S+=4)o.copy(h[v]).applyMatrix4(y,a),o.normal.toArray(E,S),E[S+3]=o.constant}l.value=E,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,E}}function dj(t){let e=new WeakMap;function n(o,a){return a===D0?o.mapping=Ja:a===L0&&(o.mapping=uc),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===D0||a===L0)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new v9(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class al extends S3{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const oh=4,mw=[.125,.215,.35,.446,.526,.582],lu=20,o6=new al,gw=new be;let a6=null;const nu=(1+Math.sqrt(5))/2,Bf=1/nu,Aw=[new O(1,1,1),new O(-1,1,1),new O(1,1,-1),new O(-1,1,-1),new O(0,nu,Bf),new O(0,nu,-Bf),new O(Bf,0,nu),new O(-Bf,0,nu),new O(nu,Bf,0),new O(-nu,Bf,0)];class G4{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){a6=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Ew(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=yw(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(a6),e.scissorTest=!1,Gg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ja||e.mapping===uc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),a6=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:fn,minFilter:fn,generateMipmaps:!1,type:ir,format:Yn,colorSpace:ho,depthBuffer:!1},i=vw(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=vw(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=pj(s)),this._blurMaterial=mj(s,e,n)}return i}_compileMaterial(e){const n=new sn(this._lodPlanes[0],e);this._renderer.compile(n,o6)}_sceneToCubeUV(e,n,r,i){const a=new Rn(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,d=u.toneMapping;u.getClearColor(gw),u.toneMapping=Rs,u.autoClear=!1;const m=new Pr({name:"PMREM.Background",side:ei,depthWrite:!1,depthTest:!1}),A=new sn(new Tc,m);let x=!1;const E=e.background;E?E.isColor&&(m.color.copy(E),e.background=null,x=!0):(m.color.copy(gw),x=!0);for(let g=0;g<6;g++){const y=g%3;y===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):y===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const v=this._cubeSize;Gg(i,y*v,g>2?v:0,v,v),u.setRenderTarget(i),x&&u.render(A,a),u.render(e,a)}A.geometry.dispose(),A.material.dispose(),u.toneMapping=d,u.autoClear=h,e.background=E}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ja||e.mapping===uc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Ew()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=yw());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new sn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Gg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,o6)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=Aw[(i-1)%Aw.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new sn(this._lodPlanes[i],c),d=c.uniforms,m=this._sizeLods[r]-1,A=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*lu-1),x=s/A,E=isFinite(s)?1+Math.floor(u*x):lu;E>lu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${lu}`);const g=[];let y=0;for(let M=0;M<lu;++M){const P=M/x,b=Math.exp(-P*P/2);g.push(b),M===0?y+=b:M<E&&(y+=2*b)}for(let M=0;M<g.length;M++)g[M]=g[M]/y;d.envMap.value=e.texture,d.samples.value=E,d.weights.value=g,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:v}=this;d.dTheta.value=A,d.mipInt.value=v-r;const S=this._sizeLods[i],w=3*S*(i>v-oh?i-v+oh:0),T=4*(this._cubeSize-S);Gg(n,w,T,3*S,2*S),l.setRenderTarget(n),l.render(h,o6)}}function pj(t){const e=[],n=[],r=[];let i=t;const s=t-oh+1+mw.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-oh?l=mw[o-t+oh-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,h=1+c,d=[u,u,h,u,h,h,u,u,h,h,u,h],m=6,A=6,x=3,E=2,g=1,y=new Float32Array(x*A*m),v=new Float32Array(E*A*m),S=new Float32Array(g*A*m);for(let T=0;T<m;T++){const M=T%3*2/3-1,P=T>2?0:-1,b=[M,P,0,M+2/3,P,0,M+2/3,P+1,0,M,P,0,M+2/3,P+1,0,M,P+1,0];y.set(b,x*A*T),v.set(d,E*A*T);const B=[T,T,T,T,T,T];S.set(B,g*A*T)}const w=new It;w.setAttribute("position",new tn(y,x)),w.setAttribute("uv",new tn(v,E)),w.setAttribute("faceIndex",new tn(S,g)),e.push(w),i>oh&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function vw(t,e,n){const r=new hn(t,e,n);return r.texture.mapping=ad,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Gg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function mj(t,e,n){const r=new Float32Array(lu),i=new O(0,1,0);return new Jt({name:"SphericalGaussianBlur",defines:{n:lu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:y9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Gt,depthTest:!1,depthWrite:!1})}function yw(){return new Jt({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:y9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Gt,depthTest:!1,depthWrite:!1})}function Ew(){return new Jt({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:y9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Gt,depthTest:!1,depthWrite:!1})}function y9(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function gj(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===D0||l===L0,u=l===Ja||l===uc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return n===null&&(n=new G4(t)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&i(h)){n===null&&(n=new G4(t));const d=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Aj(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function vj(t,e,n,r){const i={},s=new WeakMap;function o(h){const d=h.target;d.index!==null&&e.remove(d.index);for(const A in d.attributes)e.remove(d.attributes[A]);for(const A in d.morphAttributes){const x=d.morphAttributes[A];for(let E=0,g=x.length;E<g;E++)e.remove(x[E])}d.removeEventListener("dispose",o),delete i[d.id];const m=s.get(d);m&&(e.remove(m),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function a(h,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,n.memory.geometries++),d}function l(h){const d=h.attributes;for(const A in d)e.update(d[A],t.ARRAY_BUFFER);const m=h.morphAttributes;for(const A in m){const x=m[A];for(let E=0,g=x.length;E<g;E++)e.update(x[E],t.ARRAY_BUFFER)}}function c(h){const d=[],m=h.index,A=h.attributes.position;let x=0;if(m!==null){const y=m.array;x=m.version;for(let v=0,S=y.length;v<S;v+=3){const w=y[v+0],T=y[v+1],M=y[v+2];d.push(w,T,T,M,M,w)}}else if(A!==void 0){const y=A.array;x=A.version;for(let v=0,S=y.length/3-1;v<S;v+=3){const w=v+0,T=v+1,M=v+2;d.push(w,T,T,M,M,w)}}else return;const E=new(OD(d)?Z2:g9)(d,1);E.version=x;const g=s.get(h);g&&e.remove(g),s.set(h,E)}function u(h){const d=s.get(h);if(d){const m=h.index;m!==null&&d.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function yj(t,e,n,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function u(d,m){t.drawElements(s,m,a,d*l),n.update(m,s,1)}function h(d,m,A){if(A===0)return;let x,E;if(i)x=t,E="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),E="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[E](s,m,a,d*l,A),n.update(m,s,A)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h}function Ej(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function xj(t,e){return t[0]-e[0]}function Cj(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Sj(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Wt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,A=m!==void 0?m.length:0;let x=s.get(u);if(x===void 0||x.count!==A){let V=function(){H.dispose(),s.delete(u),u.removeEventListener("dispose",V)};x!==void 0&&x.texture.dispose();const y=u.morphAttributes.position!==void 0,v=u.morphAttributes.normal!==void 0,S=u.morphAttributes.color!==void 0,w=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let P=0;y===!0&&(P=1),v===!0&&(P=2),S===!0&&(P=3);let b=u.attributes.position.count*P,B=1;b>e.maxTextureSize&&(B=Math.ceil(b/e.maxTextureSize),b=e.maxTextureSize);const L=new Float32Array(b*B*4*A),H=new q2(L,b,B,A);H.type=pi,H.needsUpdate=!0;const U=P*4;for(let W=0;W<A;W++){const q=w[W],Y=T[W],k=M[W],K=b*B*4*W;for(let $=0;$<q.count;$++){const G=$*U;y===!0&&(o.fromBufferAttribute(q,$),L[K+G+0]=o.x,L[K+G+1]=o.y,L[K+G+2]=o.z,L[K+G+3]=0),v===!0&&(o.fromBufferAttribute(Y,$),L[K+G+4]=o.x,L[K+G+5]=o.y,L[K+G+6]=o.z,L[K+G+7]=0),S===!0&&(o.fromBufferAttribute(k,$),L[K+G+8]=o.x,L[K+G+9]=o.y,L[K+G+10]=o.z,L[K+G+11]=k.itemSize===4?o.w:1)}}x={count:A,texture:H,size:new fe(b,B)},s.set(u,x),u.addEventListener("dispose",V)}let E=0;for(let y=0;y<d.length;y++)E+=d[y];const g=u.morphTargetsRelative?1:1-E;h.getUniforms().setValue(t,"morphTargetBaseInfluence",g),h.getUniforms().setValue(t,"morphTargetInfluences",d),h.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const m=d===void 0?0:d.length;let A=r[u.id];if(A===void 0||A.length!==m){A=[];for(let v=0;v<m;v++)A[v]=[v,0];r[u.id]=A}for(let v=0;v<m;v++){const S=A[v];S[0]=v,S[1]=d[v]}A.sort(Cj);for(let v=0;v<8;v++)v<m&&A[v][1]?(a[v][0]=A[v][0],a[v][1]=A[v][1]):(a[v][0]=Number.MAX_SAFE_INTEGER,a[v][1]=0);a.sort(xj);const x=u.morphAttributes.position,E=u.morphAttributes.normal;let g=0;for(let v=0;v<8;v++){const S=a[v],w=S[0],T=S[1];w!==Number.MAX_SAFE_INTEGER&&T?(x&&u.getAttribute("morphTarget"+v)!==x[w]&&u.setAttribute("morphTarget"+v,x[w]),E&&u.getAttribute("morphNormal"+v)!==E[w]&&u.setAttribute("morphNormal"+v,E[w]),i[v]=T,g+=T):(x&&u.hasAttribute("morphTarget"+v)===!0&&u.deleteAttribute("morphTarget"+v),E&&u.hasAttribute("morphNormal"+v)===!0&&u.deleteAttribute("morphNormal"+v),i[v]=0)}const y=u.morphTargetsRelative?1:1-g;h.getUniforms().setValue(t,"morphTargetBaseInfluence",y),h.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function _j(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,h=e.get(l,u);if(i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return h}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const HD=new Mn,zD=new q2,VD=new m9,WD=new _3,xw=[],Cw=[],Sw=new Float32Array(16),_w=new Float32Array(9),ww=new Float32Array(4);function ud(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=xw[i];if(s===void 0&&(s=new Float32Array(i),xw[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Sr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function _r(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function tv(t,e){let n=Cw[e];n===void 0&&(n=new Int32Array(e),Cw[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function wj(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Ij(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Sr(n,e))return;t.uniform2fv(this.addr,e),_r(n,e)}}function Tj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Sr(n,e))return;t.uniform3fv(this.addr,e),_r(n,e)}}function Mj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Sr(n,e))return;t.uniform4fv(this.addr,e),_r(n,e)}}function bj(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Sr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),_r(n,e)}else{if(Sr(n,r))return;ww.set(r),t.uniformMatrix2fv(this.addr,!1,ww),_r(n,r)}}function Bj(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Sr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),_r(n,e)}else{if(Sr(n,r))return;_w.set(r),t.uniformMatrix3fv(this.addr,!1,_w),_r(n,r)}}function Rj(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Sr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),_r(n,e)}else{if(Sr(n,r))return;Sw.set(r),t.uniformMatrix4fv(this.addr,!1,Sw),_r(n,r)}}function Pj(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Dj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Sr(n,e))return;t.uniform2iv(this.addr,e),_r(n,e)}}function Lj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Sr(n,e))return;t.uniform3iv(this.addr,e),_r(n,e)}}function Fj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Sr(n,e))return;t.uniform4iv(this.addr,e),_r(n,e)}}function Oj(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Nj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Sr(n,e))return;t.uniform2uiv(this.addr,e),_r(n,e)}}function kj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Sr(n,e))return;t.uniform3uiv(this.addr,e),_r(n,e)}}function Uj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Sr(n,e))return;t.uniform4uiv(this.addr,e),_r(n,e)}}function Gj(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||HD,i)}function Qj(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||VD,i)}function Hj(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||WD,i)}function zj(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||zD,i)}function Vj(t){switch(t){case 5126:return wj;case 35664:return Ij;case 35665:return Tj;case 35666:return Mj;case 35674:return bj;case 35675:return Bj;case 35676:return Rj;case 5124:case 35670:return Pj;case 35667:case 35671:return Dj;case 35668:case 35672:return Lj;case 35669:case 35673:return Fj;case 5125:return Oj;case 36294:return Nj;case 36295:return kj;case 36296:return Uj;case 35678:case 36198:case 36298:case 36306:case 35682:return Gj;case 35679:case 36299:case 36307:return Qj;case 35680:case 36300:case 36308:case 36293:return Hj;case 36289:case 36303:case 36311:case 36292:return zj}}function Wj(t,e){t.uniform1fv(this.addr,e)}function $j(t,e){const n=ud(e,this.size,2);t.uniform2fv(this.addr,n)}function jj(t,e){const n=ud(e,this.size,3);t.uniform3fv(this.addr,n)}function Kj(t,e){const n=ud(e,this.size,4);t.uniform4fv(this.addr,n)}function Jj(t,e){const n=ud(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Xj(t,e){const n=ud(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Yj(t,e){const n=ud(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function qj(t,e){t.uniform1iv(this.addr,e)}function Zj(t,e){t.uniform2iv(this.addr,e)}function eK(t,e){t.uniform3iv(this.addr,e)}function tK(t,e){t.uniform4iv(this.addr,e)}function nK(t,e){t.uniform1uiv(this.addr,e)}function rK(t,e){t.uniform2uiv(this.addr,e)}function iK(t,e){t.uniform3uiv(this.addr,e)}function sK(t,e){t.uniform4uiv(this.addr,e)}function oK(t,e,n){const r=this.cache,i=e.length,s=tv(n,i);Sr(r,s)||(t.uniform1iv(this.addr,s),_r(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||HD,s[o])}function aK(t,e,n){const r=this.cache,i=e.length,s=tv(n,i);Sr(r,s)||(t.uniform1iv(this.addr,s),_r(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||VD,s[o])}function lK(t,e,n){const r=this.cache,i=e.length,s=tv(n,i);Sr(r,s)||(t.uniform1iv(this.addr,s),_r(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||WD,s[o])}function cK(t,e,n){const r=this.cache,i=e.length,s=tv(n,i);Sr(r,s)||(t.uniform1iv(this.addr,s),_r(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||zD,s[o])}function uK(t){switch(t){case 5126:return Wj;case 35664:return $j;case 35665:return jj;case 35666:return Kj;case 35674:return Jj;case 35675:return Xj;case 35676:return Yj;case 5124:case 35670:return qj;case 35667:case 35671:return Zj;case 35668:case 35672:return eK;case 35669:case 35673:return tK;case 5125:return nK;case 36294:return rK;case 36295:return iK;case 36296:return sK;case 35678:case 36198:case 36298:case 36306:case 35682:return oK;case 35679:case 36299:case 36307:return aK;case 35680:case 36300:case 36308:case 36293:return lK;case 36289:case 36303:case 36311:case 36292:return cK}}class fK{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=Vj(n.type)}}class hK{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=uK(n.type)}}class dK{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const l6=/(\w+)(\])?(\[|\.)?/g;function Iw(t,e){t.seq.push(e),t.map[e.id]=e}function pK(t,e,n){const r=t.name,i=r.length;for(l6.lastIndex=0;;){const s=l6.exec(r),o=l6.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){Iw(n,c===void 0?new fK(a,t,e):new hK(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new dK(a),Iw(n,h)),n=h}}}class ZA{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);pK(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function Tw(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let mK=0;function gK(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function AK(t){switch(t){case ho:return["Linear","( value )"];case An:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function Mw(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+gK(t.getShaderSource(e),o)}else return i}function vK(t,e){const n=AK(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function yK(t,e){let n;switch(e){case fD:n="Linear";break;case hD:n="Reinhard";break;case dD:n="OptimizedCineon";break;case t9:n="ACESFilmic";break;case pD:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function EK(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Pp).join(`
`)}function xK(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function CK(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Pp(t){return t!==""}function bw(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Bw(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const SK=/^[ \t]*#include +<([\w\d./]+)>/gm;function Q4(t){return t.replace(SK,wK)}const _K=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function wK(t,e){let n=Lt[e];if(n===void 0){const r=_K.get(e);if(r!==void 0)n=Lt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Q4(n)}const IK=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Rw(t){return t.replace(IK,TK)}function TK(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Pw(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function MK(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===W2?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Jp?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===to&&(e="SHADOWMAP_TYPE_VSM"),e}function bK(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ja:case uc:e="ENVMAP_TYPE_CUBE";break;case ad:e="ENVMAP_TYPE_CUBE_UV";break}return e}function BK(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case uc:e="ENVMAP_MODE_REFRACTION";break}return e}function RK(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case E3:e="ENVMAP_BLENDING_MULTIPLY";break;case cD:e="ENVMAP_BLENDING_MIX";break;case uD:e="ENVMAP_BLENDING_ADD";break}return e}function PK(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function DK(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=MK(n),c=bK(n),u=BK(n),h=RK(n),d=PK(n),m=n.isWebGL2?"":EK(n),A=xK(s),x=i.createProgram();let E,g,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(E=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A].filter(Pp).join(`
`),E.length>0&&(E+=`
`),g=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A].filter(Pp).join(`
`),g.length>0&&(g+=`
`)):(E=[Pw(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Pp).join(`
`),g=[m,Pw(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Rs?"#define TONE_MAPPING":"",n.toneMapping!==Rs?Lt.tonemapping_pars_fragment:"",n.toneMapping!==Rs?yK("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Lt.colorspace_pars_fragment,vK("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Pp).join(`
`)),o=Q4(o),o=bw(o,n),o=Bw(o,n),a=Q4(a),a=bw(a,n),a=Bw(a,n),o=Rw(o),a=Rw(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,E=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,g=["#define varying in",n.glslVersion===k4?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===k4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const v=y+E+o,S=y+g+a,w=Tw(i,i.VERTEX_SHADER,v),T=Tw(i,i.FRAGMENT_SHADER,S);if(i.attachShader(x,w),i.attachShader(x,T),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x),t.debug.checkShaderErrors){const b=i.getProgramInfoLog(x).trim(),B=i.getShaderInfoLog(w).trim(),L=i.getShaderInfoLog(T).trim();let H=!0,U=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(H=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,w,T);else{const V=Mw(i,w,"vertex"),W=Mw(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Program Info Log: `+b+`
`+V+`
`+W)}else b!==""?console.warn("THREE.WebGLProgram: Program Info Log:",b):(B===""||L==="")&&(U=!1);U&&(this.diagnostics={runnable:H,programLog:b,vertexShader:{log:B,prefix:E},fragmentShader:{log:L,prefix:g}})}i.deleteShader(w),i.deleteShader(T);let M;this.getUniforms=function(){return M===void 0&&(M=new ZA(i,x)),M};let P;return this.getAttributes=function(){return P===void 0&&(P=CK(i,x)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=mK++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=w,this.fragmentShader=T,this}let LK=0;class FK{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new OK(e),n.set(e,r)),r}}class OK{constructor(e){this.id=LK++,this.code=e,this.usedTimes=0}}function NK(t,e,n,r,i,s,o){const a=new _u,l=new FK,c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures;let m=i.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(b){return b===0?"uv":`uv${b}`}function E(b,B,L,H,U){const V=H.fog,W=U.geometry,q=b.isMeshStandardMaterial?H.environment:null,Y=(b.isMeshStandardMaterial?n:e).get(b.envMap||q),k=Y&&Y.mapping===ad?Y.image.height:null,K=A[b.type];b.precision!==null&&(m=i.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));const $=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,G=$!==void 0?$.length:0;let X=0;W.morphAttributes.position!==void 0&&(X=1),W.morphAttributes.normal!==void 0&&(X=2),W.morphAttributes.color!==void 0&&(X=3);let le,pe,ye,Se;if(K){const an=io[K];le=an.vertexShader,pe=an.fragmentShader}else le=b.vertexShader,pe=b.fragmentShader,l.update(b),ye=l.getVertexShaderID(b),Se=l.getFragmentShaderID(b);const we=t.getRenderTarget(),Me=U.isInstancedMesh===!0,Ve=!!b.map,We=!!b.matcap,xe=!!Y,j=!!b.aoMap,Ae=!!b.lightMap,ue=!!b.bumpMap,_e=!!b.normalMap,Ee=!!b.displacementMap,Qe=!!b.emissiveMap,Oe=!!b.metalnessMap,ke=!!b.roughnessMap,qe=b.anisotropy>0,xt=b.clearcoat>0,Yt=b.iridescence>0,N=b.sheen>0,F=b.transmission>0,ne=qe&&!!b.anisotropyMap,Ce=xt&&!!b.clearcoatMap,ve=xt&&!!b.clearcoatNormalMap,Ie=xt&&!!b.clearcoatRoughnessMap,ze=Yt&&!!b.iridescenceMap,Te=Yt&&!!b.iridescenceThicknessMap,oe=N&&!!b.sheenColorMap,tt=N&&!!b.sheenRoughnessMap,it=!!b.specularMap,ot=!!b.specularColorMap,$e=!!b.specularIntensityMap,je=F&&!!b.transmissionMap,Ct=F&&!!b.thicknessMap,Qt=!!b.gradientMap,Z=!!b.alphaMap,De=b.alphaTest>0,ae=!!b.alphaHash,Re=!!b.extensions,Ge=!!W.attributes.uv1,zt=!!W.attributes.uv2,dn=!!W.attributes.uv3;let zn=Rs;return b.toneMapped&&(we===null||we.isXRRenderTarget===!0)&&(zn=t.toneMapping),{isWebGL2:u,shaderID:K,shaderType:b.type,shaderName:b.name,vertexShader:le,fragmentShader:pe,defines:b.defines,customVertexShaderID:ye,customFragmentShaderID:Se,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:m,instancing:Me,instancingColor:Me&&U.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:we===null?t.outputColorSpace:we.isXRRenderTarget===!0?we.texture.colorSpace:ho,map:Ve,matcap:We,envMap:xe,envMapMode:xe&&Y.mapping,envMapCubeUVHeight:k,aoMap:j,lightMap:Ae,bumpMap:ue,normalMap:_e,displacementMap:d&&Ee,emissiveMap:Qe,normalMapObjectSpace:_e&&b.normalMapType===wD,normalMapTangentSpace:_e&&b.normalMapType===Ic,metalnessMap:Oe,roughnessMap:ke,anisotropy:qe,anisotropyMap:ne,clearcoat:xt,clearcoatMap:Ce,clearcoatNormalMap:ve,clearcoatRoughnessMap:Ie,iridescence:Yt,iridescenceMap:ze,iridescenceThicknessMap:Te,sheen:N,sheenColorMap:oe,sheenRoughnessMap:tt,specularMap:it,specularColorMap:ot,specularIntensityMap:$e,transmission:F,transmissionMap:je,thicknessMap:Ct,gradientMap:Qt,opaque:b.transparent===!1&&b.blending===Xo,alphaMap:Z,alphaTest:De,alphaHash:ae,combine:b.combine,mapUv:Ve&&x(b.map.channel),aoMapUv:j&&x(b.aoMap.channel),lightMapUv:Ae&&x(b.lightMap.channel),bumpMapUv:ue&&x(b.bumpMap.channel),normalMapUv:_e&&x(b.normalMap.channel),displacementMapUv:Ee&&x(b.displacementMap.channel),emissiveMapUv:Qe&&x(b.emissiveMap.channel),metalnessMapUv:Oe&&x(b.metalnessMap.channel),roughnessMapUv:ke&&x(b.roughnessMap.channel),anisotropyMapUv:ne&&x(b.anisotropyMap.channel),clearcoatMapUv:Ce&&x(b.clearcoatMap.channel),clearcoatNormalMapUv:ve&&x(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ie&&x(b.clearcoatRoughnessMap.channel),iridescenceMapUv:ze&&x(b.iridescenceMap.channel),iridescenceThicknessMapUv:Te&&x(b.iridescenceThicknessMap.channel),sheenColorMapUv:oe&&x(b.sheenColorMap.channel),sheenRoughnessMapUv:tt&&x(b.sheenRoughnessMap.channel),specularMapUv:it&&x(b.specularMap.channel),specularColorMapUv:ot&&x(b.specularColorMap.channel),specularIntensityMapUv:$e&&x(b.specularIntensityMap.channel),transmissionMapUv:je&&x(b.transmissionMap.channel),thicknessMapUv:Ct&&x(b.thicknessMap.channel),alphaMapUv:Z&&x(b.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(_e||qe),vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,vertexUv1s:Ge,vertexUv2s:zt,vertexUv3s:dn,pointsUvs:U.isPoints===!0&&!!W.attributes.uv&&(Ve||Z),fog:!!V,useFog:b.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:U.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:X,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:t.shadowMap.enabled&&L.length>0,shadowMapType:t.shadowMap.type,toneMapping:zn,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Ve&&b.map.isVideoTexture===!0&&b.map.colorSpace===An,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===In,flipSided:b.side===ei,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:Re&&b.extensions.derivatives===!0,extensionFragDepth:Re&&b.extensions.fragDepth===!0,extensionDrawBuffers:Re&&b.extensions.drawBuffers===!0,extensionShaderTextureLOD:Re&&b.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function g(b){const B=[];if(b.shaderID?B.push(b.shaderID):(B.push(b.customVertexShaderID),B.push(b.customFragmentShaderID)),b.defines!==void 0)for(const L in b.defines)B.push(L),B.push(b.defines[L]);return b.isRawShaderMaterial===!1&&(y(B,b),v(B,b),B.push(t.outputColorSpace)),B.push(b.customProgramCacheKey),B.join()}function y(b,B){b.push(B.precision),b.push(B.outputColorSpace),b.push(B.envMapMode),b.push(B.envMapCubeUVHeight),b.push(B.mapUv),b.push(B.alphaMapUv),b.push(B.lightMapUv),b.push(B.aoMapUv),b.push(B.bumpMapUv),b.push(B.normalMapUv),b.push(B.displacementMapUv),b.push(B.emissiveMapUv),b.push(B.metalnessMapUv),b.push(B.roughnessMapUv),b.push(B.anisotropyMapUv),b.push(B.clearcoatMapUv),b.push(B.clearcoatNormalMapUv),b.push(B.clearcoatRoughnessMapUv),b.push(B.iridescenceMapUv),b.push(B.iridescenceThicknessMapUv),b.push(B.sheenColorMapUv),b.push(B.sheenRoughnessMapUv),b.push(B.specularMapUv),b.push(B.specularColorMapUv),b.push(B.specularIntensityMapUv),b.push(B.transmissionMapUv),b.push(B.thicknessMapUv),b.push(B.combine),b.push(B.fogExp2),b.push(B.sizeAttenuation),b.push(B.morphTargetsCount),b.push(B.morphAttributeCount),b.push(B.numDirLights),b.push(B.numPointLights),b.push(B.numSpotLights),b.push(B.numSpotLightMaps),b.push(B.numHemiLights),b.push(B.numRectAreaLights),b.push(B.numDirLightShadows),b.push(B.numPointLightShadows),b.push(B.numSpotLightShadows),b.push(B.numSpotLightShadowsWithMaps),b.push(B.shadowMapType),b.push(B.toneMapping),b.push(B.numClippingPlanes),b.push(B.numClipIntersection),b.push(B.depthPacking)}function v(b,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),b.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),B.decodeVideoTexture&&a.enable(19),b.push(a.mask)}function S(b){const B=A[b.type];let L;if(B){const H=io[B];L=Nn.clone(H.uniforms)}else L=b.uniforms;return L}function w(b,B){let L;for(let H=0,U=c.length;H<U;H++){const V=c[H];if(V.cacheKey===B){L=V,++L.usedTimes;break}}return L===void 0&&(L=new DK(t,B,b,s),c.push(L)),L}function T(b){if(--b.usedTimes===0){const B=c.indexOf(b);c[B]=c[c.length-1],c.pop(),b.destroy()}}function M(b){l.remove(b)}function P(){l.dispose()}return{getParameters:E,getProgramCacheKey:g,getUniforms:S,acquireProgram:w,releaseProgram:T,releaseShaderCache:M,programs:c,dispose:P}}function kK(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function UK(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Dw(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Lw(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(h,d,m,A,x,E){let g=t[e];return g===void 0?(g={id:h.id,object:h,geometry:d,material:m,groupOrder:A,renderOrder:h.renderOrder,z:x,group:E},t[e]=g):(g.id=h.id,g.object=h,g.geometry=d,g.material=m,g.groupOrder=A,g.renderOrder=h.renderOrder,g.z=x,g.group=E),e++,g}function a(h,d,m,A,x,E){const g=o(h,d,m,A,x,E);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(h,d,m,A,x,E){const g=o(h,d,m,A,x,E);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function c(h,d){n.length>1&&n.sort(h||UK),r.length>1&&r.sort(d||Dw),i.length>1&&i.sort(d||Dw)}function u(){for(let h=e,d=t.length;h<d;h++){const m=t[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function GK(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new Lw,t.set(r,[o])):i>=s.length?(o=new Lw,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function QK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new O,color:new be};break;case"SpotLight":n={position:new O,direction:new O,color:new be,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new O,color:new be,distance:0,decay:0};break;case"HemisphereLight":n={direction:new O,skyColor:new be,groundColor:new be};break;case"RectAreaLight":n={color:new be,position:new O,halfWidth:new O,halfHeight:new O};break}return t[e.id]=n,n}}}function HK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new fe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new fe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new fe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let zK=0;function VK(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function WK(t,e){const n=new QK,r=HK(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new O);const s=new O,o=new et,a=new et;function l(u,h){let d=0,m=0,A=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let x=0,E=0,g=0,y=0,v=0,S=0,w=0,T=0,M=0,P=0;u.sort(VK);const b=h===!0?Math.PI:1;for(let L=0,H=u.length;L<H;L++){const U=u[L],V=U.color,W=U.intensity,q=U.distance,Y=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)d+=V.r*W*b,m+=V.g*W*b,A+=V.b*W*b;else if(U.isLightProbe)for(let k=0;k<9;k++)i.probe[k].addScaledVector(U.sh.coefficients[k],W);else if(U.isDirectionalLight){const k=n.get(U);if(k.color.copy(U.color).multiplyScalar(U.intensity*b),U.castShadow){const K=U.shadow,$=r.get(U);$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,i.directionalShadow[x]=$,i.directionalShadowMap[x]=Y,i.directionalShadowMatrix[x]=U.shadow.matrix,S++}i.directional[x]=k,x++}else if(U.isSpotLight){const k=n.get(U);k.position.setFromMatrixPosition(U.matrixWorld),k.color.copy(V).multiplyScalar(W*b),k.distance=q,k.coneCos=Math.cos(U.angle),k.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),k.decay=U.decay,i.spot[g]=k;const K=U.shadow;if(U.map&&(i.spotLightMap[M]=U.map,M++,K.updateMatrices(U),U.castShadow&&P++),i.spotLightMatrix[g]=K.matrix,U.castShadow){const $=r.get(U);$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,i.spotShadow[g]=$,i.spotShadowMap[g]=Y,T++}g++}else if(U.isRectAreaLight){const k=n.get(U);k.color.copy(V).multiplyScalar(W),k.halfWidth.set(U.width*.5,0,0),k.halfHeight.set(0,U.height*.5,0),i.rectArea[y]=k,y++}else if(U.isPointLight){const k=n.get(U);if(k.color.copy(U.color).multiplyScalar(U.intensity*b),k.distance=U.distance,k.decay=U.decay,U.castShadow){const K=U.shadow,$=r.get(U);$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,$.shadowCameraNear=K.camera.near,$.shadowCameraFar=K.camera.far,i.pointShadow[E]=$,i.pointShadowMap[E]=Y,i.pointShadowMatrix[E]=U.shadow.matrix,w++}i.point[E]=k,E++}else if(U.isHemisphereLight){const k=n.get(U);k.skyColor.copy(U.color).multiplyScalar(W*b),k.groundColor.copy(U.groundColor).multiplyScalar(W*b),i.hemi[v]=k,v++}}y>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Fe.LTC_FLOAT_1,i.rectAreaLTC2=Fe.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Fe.LTC_HALF_1,i.rectAreaLTC2=Fe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=m,i.ambient[2]=A;const B=i.hash;(B.directionalLength!==x||B.pointLength!==E||B.spotLength!==g||B.rectAreaLength!==y||B.hemiLength!==v||B.numDirectionalShadows!==S||B.numPointShadows!==w||B.numSpotShadows!==T||B.numSpotMaps!==M)&&(i.directional.length=x,i.spot.length=g,i.rectArea.length=y,i.point.length=E,i.hemi.length=v,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=T+M-P,i.spotLightMap.length=M,i.numSpotLightShadowsWithMaps=P,B.directionalLength=x,B.pointLength=E,B.spotLength=g,B.rectAreaLength=y,B.hemiLength=v,B.numDirectionalShadows=S,B.numPointShadows=w,B.numSpotShadows=T,B.numSpotMaps=M,i.version=zK++)}function c(u,h){let d=0,m=0,A=0,x=0,E=0;const g=h.matrixWorldInverse;for(let y=0,v=u.length;y<v;y++){const S=u[y];if(S.isDirectionalLight){const w=i.directional[d];w.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(g),d++}else if(S.isSpotLight){const w=i.spot[A];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(g),w.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(g),A++}else if(S.isRectAreaLight){const w=i.rectArea[x];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(g),a.identity(),o.copy(S.matrixWorld),o.premultiply(g),a.extractRotation(o),w.halfWidth.set(S.width*.5,0,0),w.halfHeight.set(0,S.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),x++}else if(S.isPointLight){const w=i.point[m];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(g),m++}else if(S.isHemisphereLight){const w=i.hemi[E];w.direction.setFromMatrixPosition(S.matrixWorld),w.direction.transformDirection(g),E++}}}return{setup:l,setupView:c,state:i}}function Fw(t,e){const n=new WK(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){n.setup(r,h)}function c(h){n.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function $K(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new Fw(t,e),n.set(s,[l])):o>=a.length?(l=new Fw(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class nv extends fr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_D,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class E9 extends fr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const jK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,KK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function JK(t,e,n){let r=new ev;const i=new fe,s=new fe,o=new Wt,a=new nv({depthPacking:h9}),l=new E9,c={},u=n.maxTextureSize,h={[ia]:ei,[ei]:ia,[In]:In},d=new Jt({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new fe},radius:{value:4}},vertexShader:jK,fragmentShader:KK}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const A=new It;A.setAttribute("position",new tn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new sn(A,d),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=W2;let g=this.type;this.render=function(w,T,M){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||w.length===0)return;const P=t.getRenderTarget(),b=t.getActiveCubeFace(),B=t.getActiveMipmapLevel(),L=t.state;L.setBlending(Gt),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const H=g!==to&&this.type===to,U=g===to&&this.type!==to;for(let V=0,W=w.length;V<W;V++){const q=w[V],Y=q.shadow;if(Y===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(Y.autoUpdate===!1&&Y.needsUpdate===!1)continue;i.copy(Y.mapSize);const k=Y.getFrameExtents();if(i.multiply(k),s.copy(Y.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/k.x),i.x=s.x*k.x,Y.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/k.y),i.y=s.y*k.y,Y.mapSize.y=s.y)),Y.map===null||H===!0||U===!0){const $=this.type!==to?{minFilter:_t,magFilter:_t}:{};Y.map!==null&&Y.map.dispose(),Y.map=new hn(i.x,i.y,$),Y.map.texture.name=q.name+".shadowMap",Y.camera.updateProjectionMatrix()}t.setRenderTarget(Y.map),t.clear();const K=Y.getViewportCount();for(let $=0;$<K;$++){const G=Y.getViewport($);o.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),L.viewport(o),Y.updateMatrices(q,$),r=Y.getFrustum(),S(T,M,Y.camera,q,this.type)}Y.isPointLightShadow!==!0&&this.type===to&&y(Y,M),Y.needsUpdate=!1}g=this.type,E.needsUpdate=!1,t.setRenderTarget(P,b,B)};function y(w,T){const M=e.update(x);d.defines.VSM_SAMPLES!==w.blurSamples&&(d.defines.VSM_SAMPLES=w.blurSamples,m.defines.VSM_SAMPLES=w.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new hn(i.x,i.y)),d.uniforms.shadow_pass.value=w.map.texture,d.uniforms.resolution.value=w.mapSize,d.uniforms.radius.value=w.radius,t.setRenderTarget(w.mapPass),t.clear(),t.renderBufferDirect(T,null,M,d,x,null),m.uniforms.shadow_pass.value=w.mapPass.texture,m.uniforms.resolution.value=w.mapSize,m.uniforms.radius.value=w.radius,t.setRenderTarget(w.map),t.clear(),t.renderBufferDirect(T,null,M,m,x,null)}function v(w,T,M,P){let b=null;const B=M.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(B!==void 0)b=B;else if(b=M.isPointLight===!0?l:a,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const L=b.uuid,H=T.uuid;let U=c[L];U===void 0&&(U={},c[L]=U);let V=U[H];V===void 0&&(V=b.clone(),U[H]=V),b=V}if(b.visible=T.visible,b.wireframe=T.wireframe,P===to?b.side=T.shadowSide!==null?T.shadowSide:T.side:b.side=T.shadowSide!==null?T.shadowSide:h[T.side],b.alphaMap=T.alphaMap,b.alphaTest=T.alphaTest,b.map=T.map,b.clipShadows=T.clipShadows,b.clippingPlanes=T.clippingPlanes,b.clipIntersection=T.clipIntersection,b.displacementMap=T.displacementMap,b.displacementScale=T.displacementScale,b.displacementBias=T.displacementBias,b.wireframeLinewidth=T.wireframeLinewidth,b.linewidth=T.linewidth,M.isPointLight===!0&&b.isMeshDistanceMaterial===!0){const L=t.properties.get(b);L.light=M}return b}function S(w,T,M,P,b){if(w.visible===!1)return;if(w.layers.test(T.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&b===to)&&(!w.frustumCulled||r.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,w.matrixWorld);const H=e.update(w),U=w.material;if(Array.isArray(U)){const V=H.groups;for(let W=0,q=V.length;W<q;W++){const Y=V[W],k=U[Y.materialIndex];if(k&&k.visible){const K=v(w,k,P,b);t.renderBufferDirect(M,null,H,K,w,Y)}}}else if(U.visible){const V=v(w,U,P,b);t.renderBufferDirect(M,null,H,V,w,null)}}const L=w.children;for(let H=0,U=L.length;H<U;H++)S(L[H],T,M,P,b)}}function XK(t,e,n){const r=n.isWebGL2;function i(){let Z=!1;const De=new Wt;let ae=null;const Re=new Wt(0,0,0,0);return{setMask:function(Ge){ae!==Ge&&!Z&&(t.colorMask(Ge,Ge,Ge,Ge),ae=Ge)},setLocked:function(Ge){Z=Ge},setClear:function(Ge,zt,dn,zn,Ws){Ws===!0&&(Ge*=zn,zt*=zn,dn*=zn),De.set(Ge,zt,dn,zn),Re.equals(De)===!1&&(t.clearColor(Ge,zt,dn,zn),Re.copy(De))},reset:function(){Z=!1,ae=null,Re.set(-1,0,0,0)}}}function s(){let Z=!1,De=null,ae=null,Re=null;return{setTest:function(Ge){Ge?we(t.DEPTH_TEST):Me(t.DEPTH_TEST)},setMask:function(Ge){De!==Ge&&!Z&&(t.depthMask(Ge),De=Ge)},setFunc:function(Ge){if(ae!==Ge){switch(Ge){case nD:t.depthFunc(t.NEVER);break;case rD:t.depthFunc(t.ALWAYS);break;case iD:t.depthFunc(t.LESS);break;case O1:t.depthFunc(t.LEQUAL);break;case sD:t.depthFunc(t.EQUAL);break;case oD:t.depthFunc(t.GEQUAL);break;case aD:t.depthFunc(t.GREATER);break;case lD:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ae=Ge}},setLocked:function(Ge){Z=Ge},setClear:function(Ge){Re!==Ge&&(t.clearDepth(Ge),Re=Ge)},reset:function(){Z=!1,De=null,ae=null,Re=null}}}function o(){let Z=!1,De=null,ae=null,Re=null,Ge=null,zt=null,dn=null,zn=null,Ws=null;return{setTest:function(an){Z||(an?we(t.STENCIL_TEST):Me(t.STENCIL_TEST))},setMask:function(an){De!==an&&!Z&&(t.stencilMask(an),De=an)},setFunc:function(an,Ui,Or){(ae!==an||Re!==Ui||Ge!==Or)&&(t.stencilFunc(an,Ui,Or),ae=an,Re=Ui,Ge=Or)},setOp:function(an,Ui,Or){(zt!==an||dn!==Ui||zn!==Or)&&(t.stencilOp(an,Ui,Or),zt=an,dn=Ui,zn=Or)},setLocked:function(an){Z=an},setClear:function(an){Ws!==an&&(t.clearStencil(an),Ws=an)},reset:function(){Z=!1,De=null,ae=null,Re=null,Ge=null,zt=null,dn=null,zn=null,Ws=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,h=new WeakMap;let d={},m={},A=new WeakMap,x=[],E=null,g=!1,y=null,v=null,S=null,w=null,T=null,M=null,P=null,b=!1,B=null,L=null,H=null,U=null,V=null;const W=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,Y=0;const k=t.getParameter(t.VERSION);k.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(k)[1]),q=Y>=1):k.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),q=Y>=2);let K=null,$={};const G=t.getParameter(t.SCISSOR_BOX),X=t.getParameter(t.VIEWPORT),le=new Wt().fromArray(G),pe=new Wt().fromArray(X);function ye(Z,De,ae,Re){const Ge=new Uint8Array(4),zt=t.createTexture();t.bindTexture(Z,zt),t.texParameteri(Z,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Z,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let dn=0;dn<ae;dn++)r&&(Z===t.TEXTURE_3D||Z===t.TEXTURE_2D_ARRAY)?t.texImage3D(De,0,t.RGBA,1,1,Re,0,t.RGBA,t.UNSIGNED_BYTE,Ge):t.texImage2D(De+dn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ge);return zt}const Se={};Se[t.TEXTURE_2D]=ye(t.TEXTURE_2D,t.TEXTURE_2D,1),Se[t.TEXTURE_CUBE_MAP]=ye(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Se[t.TEXTURE_2D_ARRAY]=ye(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Se[t.TEXTURE_3D]=ye(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),we(t.DEPTH_TEST),l.setFunc(O1),Ee(!1),Qe(d4),we(t.CULL_FACE),ue(Gt);function we(Z){d[Z]!==!0&&(t.enable(Z),d[Z]=!0)}function Me(Z){d[Z]!==!1&&(t.disable(Z),d[Z]=!1)}function Ve(Z,De){return m[Z]!==De?(t.bindFramebuffer(Z,De),m[Z]=De,r&&(Z===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=De),Z===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=De)),!0):!1}function We(Z,De){let ae=x,Re=!1;if(Z)if(ae=A.get(De),ae===void 0&&(ae=[],A.set(De,ae)),Z.isWebGLMultipleRenderTargets){const Ge=Z.texture;if(ae.length!==Ge.length||ae[0]!==t.COLOR_ATTACHMENT0){for(let zt=0,dn=Ge.length;zt<dn;zt++)ae[zt]=t.COLOR_ATTACHMENT0+zt;ae.length=Ge.length,Re=!0}}else ae[0]!==t.COLOR_ATTACHMENT0&&(ae[0]=t.COLOR_ATTACHMENT0,Re=!0);else ae[0]!==t.BACK&&(ae[0]=t.BACK,Re=!0);Re&&(n.isWebGL2?t.drawBuffers(ae):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ae))}function xe(Z){return E!==Z?(t.useProgram(Z),E=Z,!0):!1}const j={[Ji]:t.FUNC_ADD,[KP]:t.FUNC_SUBTRACT,[JP]:t.FUNC_REVERSE_SUBTRACT};if(r)j[g4]=t.MIN,j[A4]=t.MAX;else{const Z=e.get("EXT_blend_minmax");Z!==null&&(j[g4]=Z.MIN_EXT,j[A4]=Z.MAX_EXT)}const Ae={[Nh]:t.ZERO,[XP]:t.ONE,[YP]:t.SRC_COLOR,[R0]:t.SRC_ALPHA,[tD]:t.SRC_ALPHA_SATURATE,[j2]:t.DST_COLOR,[$2]:t.DST_ALPHA,[qP]:t.ONE_MINUS_SRC_COLOR,[P0]:t.ONE_MINUS_SRC_ALPHA,[eD]:t.ONE_MINUS_DST_COLOR,[ZP]:t.ONE_MINUS_DST_ALPHA};function ue(Z,De,ae,Re,Ge,zt,dn,zn){if(Z===Gt){g===!0&&(Me(t.BLEND),g=!1);return}if(g===!1&&(we(t.BLEND),g=!0),Z!==B0){if(Z!==y||zn!==b){if((v!==Ji||T!==Ji)&&(t.blendEquation(t.FUNC_ADD),v=Ji,T=Ji),zn)switch(Z){case Xo:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case b0:t.blendFunc(t.ONE,t.ONE);break;case p4:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case m4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case Xo:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case b0:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case p4:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case m4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}S=null,w=null,M=null,P=null,y=Z,b=zn}return}Ge=Ge||De,zt=zt||ae,dn=dn||Re,(De!==v||Ge!==T)&&(t.blendEquationSeparate(j[De],j[Ge]),v=De,T=Ge),(ae!==S||Re!==w||zt!==M||dn!==P)&&(t.blendFuncSeparate(Ae[ae],Ae[Re],Ae[zt],Ae[dn]),S=ae,w=Re,M=zt,P=dn),y=Z,b=!1}function _e(Z,De){Z.side===In?Me(t.CULL_FACE):we(t.CULL_FACE);let ae=Z.side===ei;De&&(ae=!ae),Ee(ae),Z.blending===Xo&&Z.transparent===!1?ue(Gt):ue(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),a.setMask(Z.colorWrite);const Re=Z.stencilWrite;c.setTest(Re),Re&&(c.setMask(Z.stencilWriteMask),c.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),c.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),ke(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?we(t.SAMPLE_ALPHA_TO_COVERAGE):Me(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ee(Z){B!==Z&&(Z?t.frontFace(t.CW):t.frontFace(t.CCW),B=Z)}function Qe(Z){Z!==WP?(we(t.CULL_FACE),Z!==L&&(Z===d4?t.cullFace(t.BACK):Z===$P?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Me(t.CULL_FACE),L=Z}function Oe(Z){Z!==H&&(q&&t.lineWidth(Z),H=Z)}function ke(Z,De,ae){Z?(we(t.POLYGON_OFFSET_FILL),(U!==De||V!==ae)&&(t.polygonOffset(De,ae),U=De,V=ae)):Me(t.POLYGON_OFFSET_FILL)}function qe(Z){Z?we(t.SCISSOR_TEST):Me(t.SCISSOR_TEST)}function xt(Z){Z===void 0&&(Z=t.TEXTURE0+W-1),K!==Z&&(t.activeTexture(Z),K=Z)}function Yt(Z,De,ae){ae===void 0&&(K===null?ae=t.TEXTURE0+W-1:ae=K);let Re=$[ae];Re===void 0&&(Re={type:void 0,texture:void 0},$[ae]=Re),(Re.type!==Z||Re.texture!==De)&&(K!==ae&&(t.activeTexture(ae),K=ae),t.bindTexture(Z,De||Se[Z]),Re.type=Z,Re.texture=De)}function N(){const Z=$[K];Z!==void 0&&Z.type!==void 0&&(t.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function F(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ne(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ce(){try{t.texSubImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ve(){try{t.texSubImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ie(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ze(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Te(){try{t.texStorage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function oe(){try{t.texStorage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function tt(){try{t.texImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function it(){try{t.texImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ot(Z){le.equals(Z)===!1&&(t.scissor(Z.x,Z.y,Z.z,Z.w),le.copy(Z))}function $e(Z){pe.equals(Z)===!1&&(t.viewport(Z.x,Z.y,Z.z,Z.w),pe.copy(Z))}function je(Z,De){let ae=h.get(De);ae===void 0&&(ae=new WeakMap,h.set(De,ae));let Re=ae.get(Z);Re===void 0&&(Re=t.getUniformBlockIndex(De,Z.name),ae.set(Z,Re))}function Ct(Z,De){const Re=h.get(De).get(Z);u.get(De)!==Re&&(t.uniformBlockBinding(De,Re,Z.__bindingPointIndex),u.set(De,Re))}function Qt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},K=null,$={},m={},A=new WeakMap,x=[],E=null,g=!1,y=null,v=null,S=null,w=null,T=null,M=null,P=null,b=!1,B=null,L=null,H=null,U=null,V=null,le.set(0,0,t.canvas.width,t.canvas.height),pe.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:we,disable:Me,bindFramebuffer:Ve,drawBuffers:We,useProgram:xe,setBlending:ue,setMaterial:_e,setFlipSided:Ee,setCullFace:Qe,setLineWidth:Oe,setPolygonOffset:ke,setScissorTest:qe,activeTexture:xt,bindTexture:Yt,unbindTexture:N,compressedTexImage2D:F,compressedTexImage3D:ne,texImage2D:tt,texImage3D:it,updateUBOMapping:je,uniformBlockBinding:Ct,texStorage2D:Te,texStorage3D:oe,texSubImage2D:Ce,texSubImage3D:ve,compressedTexSubImage2D:Ie,compressedTexSubImage3D:ze,scissor:ot,viewport:$e,reset:Qt}}function YK(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),A=new WeakMap;let x;const E=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(N,F){return g?new OffscreenCanvas(N,F):V0("canvas")}function v(N,F,ne,Ce){let ve=1;if((N.width>Ce||N.height>Ce)&&(ve=Ce/Math.max(N.width,N.height)),ve<1||F===!0)if(typeof HTMLImageElement<"u"&&N instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&N instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&N instanceof ImageBitmap){const Ie=F?U1:Math.floor,ze=Ie(ve*N.width),Te=Ie(ve*N.height);x===void 0&&(x=y(ze,Te));const oe=ne?y(ze,Te):x;return oe.width=ze,oe.height=Te,oe.getContext("2d").drawImage(N,0,0,ze,Te),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+N.width+"x"+N.height+") to ("+ze+"x"+Te+")."),oe}else return"data"in N&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+N.width+"x"+N.height+")."),N;return N}function S(N){return U4(N.width)&&U4(N.height)}function w(N){return a?!1:N.wrapS!==On||N.wrapT!==On||N.minFilter!==_t&&N.minFilter!==fn}function T(N,F){return N.generateMipmaps&&F&&N.minFilter!==_t&&N.minFilter!==fn}function M(N){t.generateMipmap(N)}function P(N,F,ne,Ce,ve=!1){if(a===!1)return F;if(N!==null){if(t[N]!==void 0)return t[N];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+N+"'")}let Ie=F;return F===t.RED&&(ne===t.FLOAT&&(Ie=t.R32F),ne===t.HALF_FLOAT&&(Ie=t.R16F),ne===t.UNSIGNED_BYTE&&(Ie=t.R8)),F===t.RED_INTEGER&&(ne===t.UNSIGNED_BYTE&&(Ie=t.R8UI),ne===t.UNSIGNED_SHORT&&(Ie=t.R16UI),ne===t.UNSIGNED_INT&&(Ie=t.R32UI),ne===t.BYTE&&(Ie=t.R8I),ne===t.SHORT&&(Ie=t.R16I),ne===t.INT&&(Ie=t.R32I)),F===t.RG&&(ne===t.FLOAT&&(Ie=t.RG32F),ne===t.HALF_FLOAT&&(Ie=t.RG16F),ne===t.UNSIGNED_BYTE&&(Ie=t.RG8)),F===t.RGBA&&(ne===t.FLOAT&&(Ie=t.RGBA32F),ne===t.HALF_FLOAT&&(Ie=t.RGBA16F),ne===t.UNSIGNED_BYTE&&(Ie=Ce===An&&ve===!1?t.SRGB8_ALPHA8:t.RGBA8),ne===t.UNSIGNED_SHORT_4_4_4_4&&(Ie=t.RGBA4),ne===t.UNSIGNED_SHORT_5_5_5_1&&(Ie=t.RGB5_A1)),(Ie===t.R16F||Ie===t.R32F||Ie===t.RG16F||Ie===t.RG32F||Ie===t.RGBA16F||Ie===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function b(N,F,ne){return T(N,ne)===!0||N.isFramebufferTexture&&N.minFilter!==_t&&N.minFilter!==fn?Math.log2(Math.max(F.width,F.height))+1:N.mipmaps!==void 0&&N.mipmaps.length>0?N.mipmaps.length:N.isCompressedTexture&&Array.isArray(N.image)?F.mipmaps.length:1}function B(N){return N===_t||N===F0||N===Ah?t.NEAREST:t.LINEAR}function L(N){const F=N.target;F.removeEventListener("dispose",L),U(F),F.isVideoTexture&&A.delete(F)}function H(N){const F=N.target;F.removeEventListener("dispose",H),W(F)}function U(N){const F=r.get(N);if(F.__webglInit===void 0)return;const ne=N.source,Ce=E.get(ne);if(Ce){const ve=Ce[F.__cacheKey];ve.usedTimes--,ve.usedTimes===0&&V(N),Object.keys(Ce).length===0&&E.delete(ne)}r.remove(N)}function V(N){const F=r.get(N);t.deleteTexture(F.__webglTexture);const ne=N.source,Ce=E.get(ne);delete Ce[F.__cacheKey],o.memory.textures--}function W(N){const F=N.texture,ne=r.get(N),Ce=r.get(F);if(Ce.__webglTexture!==void 0&&(t.deleteTexture(Ce.__webglTexture),o.memory.textures--),N.depthTexture&&N.depthTexture.dispose(),N.isWebGLCubeRenderTarget)for(let ve=0;ve<6;ve++){if(Array.isArray(ne.__webglFramebuffer[ve]))for(let Ie=0;Ie<ne.__webglFramebuffer[ve].length;Ie++)t.deleteFramebuffer(ne.__webglFramebuffer[ve][Ie]);else t.deleteFramebuffer(ne.__webglFramebuffer[ve]);ne.__webglDepthbuffer&&t.deleteRenderbuffer(ne.__webglDepthbuffer[ve])}else{if(Array.isArray(ne.__webglFramebuffer))for(let ve=0;ve<ne.__webglFramebuffer.length;ve++)t.deleteFramebuffer(ne.__webglFramebuffer[ve]);else t.deleteFramebuffer(ne.__webglFramebuffer);if(ne.__webglDepthbuffer&&t.deleteRenderbuffer(ne.__webglDepthbuffer),ne.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ne.__webglMultisampledFramebuffer),ne.__webglColorRenderbuffer)for(let ve=0;ve<ne.__webglColorRenderbuffer.length;ve++)ne.__webglColorRenderbuffer[ve]&&t.deleteRenderbuffer(ne.__webglColorRenderbuffer[ve]);ne.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ne.__webglDepthRenderbuffer)}if(N.isWebGLMultipleRenderTargets)for(let ve=0,Ie=F.length;ve<Ie;ve++){const ze=r.get(F[ve]);ze.__webglTexture&&(t.deleteTexture(ze.__webglTexture),o.memory.textures--),r.remove(F[ve])}r.remove(F),r.remove(N)}let q=0;function Y(){q=0}function k(){const N=q;return N>=l&&console.warn("THREE.WebGLTextures: Trying to use "+N+" texture units while this GPU supports only "+l),q+=1,N}function K(N){const F=[];return F.push(N.wrapS),F.push(N.wrapT),F.push(N.wrapR||0),F.push(N.magFilter),F.push(N.minFilter),F.push(N.anisotropy),F.push(N.internalFormat),F.push(N.format),F.push(N.type),F.push(N.generateMipmaps),F.push(N.premultiplyAlpha),F.push(N.flipY),F.push(N.unpackAlignment),F.push(N.colorSpace),F.join()}function $(N,F){const ne=r.get(N);if(N.isVideoTexture&&xt(N),N.isRenderTargetTexture===!1&&N.version>0&&ne.__version!==N.version){const Ce=N.image;if(Ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ve(ne,N,F);return}}n.bindTexture(t.TEXTURE_2D,ne.__webglTexture,t.TEXTURE0+F)}function G(N,F){const ne=r.get(N);if(N.version>0&&ne.__version!==N.version){Ve(ne,N,F);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ne.__webglTexture,t.TEXTURE0+F)}function X(N,F){const ne=r.get(N);if(N.version>0&&ne.__version!==N.version){Ve(ne,N,F);return}n.bindTexture(t.TEXTURE_3D,ne.__webglTexture,t.TEXTURE0+F)}function le(N,F){const ne=r.get(N);if(N.version>0&&ne.__version!==N.version){We(ne,N,F);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ne.__webglTexture,t.TEXTURE0+F)}const pe={[Os]:t.REPEAT,[On]:t.CLAMP_TO_EDGE,[kh]:t.MIRRORED_REPEAT},ye={[_t]:t.NEAREST,[F0]:t.NEAREST_MIPMAP_NEAREST,[Ah]:t.NEAREST_MIPMAP_LINEAR,[fn]:t.LINEAR,[J2]:t.LINEAR_MIPMAP_NEAREST,[Ns]:t.LINEAR_MIPMAP_LINEAR},Se={[TD]:t.NEVER,[LD]:t.ALWAYS,[MD]:t.LESS,[BD]:t.LEQUAL,[bD]:t.EQUAL,[DD]:t.GEQUAL,[RD]:t.GREATER,[PD]:t.NOTEQUAL};function we(N,F,ne){if(ne?(t.texParameteri(N,t.TEXTURE_WRAP_S,pe[F.wrapS]),t.texParameteri(N,t.TEXTURE_WRAP_T,pe[F.wrapT]),(N===t.TEXTURE_3D||N===t.TEXTURE_2D_ARRAY)&&t.texParameteri(N,t.TEXTURE_WRAP_R,pe[F.wrapR]),t.texParameteri(N,t.TEXTURE_MAG_FILTER,ye[F.magFilter]),t.texParameteri(N,t.TEXTURE_MIN_FILTER,ye[F.minFilter])):(t.texParameteri(N,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(N,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(N===t.TEXTURE_3D||N===t.TEXTURE_2D_ARRAY)&&t.texParameteri(N,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(F.wrapS!==On||F.wrapT!==On)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(N,t.TEXTURE_MAG_FILTER,B(F.magFilter)),t.texParameteri(N,t.TEXTURE_MIN_FILTER,B(F.minFilter)),F.minFilter!==_t&&F.minFilter!==fn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),F.compareFunction&&(t.texParameteri(N,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(N,t.TEXTURE_COMPARE_FUNC,Se[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ce=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===_t||F.minFilter!==Ah&&F.minFilter!==Ns||F.type===pi&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===ir&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||r.get(F).__currentAnisotropy)&&(t.texParameterf(N,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,i.getMaxAnisotropy())),r.get(F).__currentAnisotropy=F.anisotropy)}}function Me(N,F){let ne=!1;N.__webglInit===void 0&&(N.__webglInit=!0,F.addEventListener("dispose",L));const Ce=F.source;let ve=E.get(Ce);ve===void 0&&(ve={},E.set(Ce,ve));const Ie=K(F);if(Ie!==N.__cacheKey){ve[Ie]===void 0&&(ve[Ie]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ne=!0),ve[Ie].usedTimes++;const ze=ve[N.__cacheKey];ze!==void 0&&(ve[N.__cacheKey].usedTimes--,ze.usedTimes===0&&V(F)),N.__cacheKey=Ie,N.__webglTexture=ve[Ie].texture}return ne}function Ve(N,F,ne){let Ce=t.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Ce=t.TEXTURE_2D_ARRAY),F.isData3DTexture&&(Ce=t.TEXTURE_3D);const ve=Me(N,F),Ie=F.source;n.bindTexture(Ce,N.__webglTexture,t.TEXTURE0+ne);const ze=r.get(Ie);if(Ie.version!==ze.__version||ve===!0){n.activeTexture(t.TEXTURE0+ne),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Te=w(F)&&S(F.image)===!1;let oe=v(F.image,Te,!1,u);oe=Yt(F,oe);const tt=S(oe)||a,it=s.convert(F.format,F.colorSpace);let ot=s.convert(F.type),$e=P(F.internalFormat,it,ot,F.colorSpace,F.isVideoTexture);we(Ce,F,tt);let je;const Ct=F.mipmaps,Qt=a&&F.isVideoTexture!==!0,Z=ze.__version===void 0||ve===!0,De=b(F,oe,tt);if(F.isDepthTexture)$e=t.DEPTH_COMPONENT,a?F.type===pi?$e=t.DEPTH_COMPONENT32F:F.type===ka?$e=t.DEPTH_COMPONENT24:F.type===Ha?$e=t.DEPTH24_STENCIL8:$e=t.DEPTH_COMPONENT16:F.type===pi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===rc&&$e===t.DEPTH_COMPONENT&&F.type!==Wu&&F.type!==ka&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=ka,ot=s.convert(F.type)),F.format===fc&&$e===t.DEPTH_COMPONENT&&($e=t.DEPTH_STENCIL,F.type!==Ha&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=Ha,ot=s.convert(F.type))),Z&&(Qt?n.texStorage2D(t.TEXTURE_2D,1,$e,oe.width,oe.height):n.texImage2D(t.TEXTURE_2D,0,$e,oe.width,oe.height,0,it,ot,null));else if(F.isDataTexture)if(Ct.length>0&&tt){Qt&&Z&&n.texStorage2D(t.TEXTURE_2D,De,$e,Ct[0].width,Ct[0].height);for(let ae=0,Re=Ct.length;ae<Re;ae++)je=Ct[ae],Qt?n.texSubImage2D(t.TEXTURE_2D,ae,0,0,je.width,je.height,it,ot,je.data):n.texImage2D(t.TEXTURE_2D,ae,$e,je.width,je.height,0,it,ot,je.data);F.generateMipmaps=!1}else Qt?(Z&&n.texStorage2D(t.TEXTURE_2D,De,$e,oe.width,oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,oe.width,oe.height,it,ot,oe.data)):n.texImage2D(t.TEXTURE_2D,0,$e,oe.width,oe.height,0,it,ot,oe.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Qt&&Z&&n.texStorage3D(t.TEXTURE_2D_ARRAY,De,$e,Ct[0].width,Ct[0].height,oe.depth);for(let ae=0,Re=Ct.length;ae<Re;ae++)je=Ct[ae],F.format!==Yn?it!==null?Qt?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ae,0,0,0,je.width,je.height,oe.depth,it,je.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ae,$e,je.width,je.height,oe.depth,0,je.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Qt?n.texSubImage3D(t.TEXTURE_2D_ARRAY,ae,0,0,0,je.width,je.height,oe.depth,it,ot,je.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ae,$e,je.width,je.height,oe.depth,0,it,ot,je.data)}else{Qt&&Z&&n.texStorage2D(t.TEXTURE_2D,De,$e,Ct[0].width,Ct[0].height);for(let ae=0,Re=Ct.length;ae<Re;ae++)je=Ct[ae],F.format!==Yn?it!==null?Qt?n.compressedTexSubImage2D(t.TEXTURE_2D,ae,0,0,je.width,je.height,it,je.data):n.compressedTexImage2D(t.TEXTURE_2D,ae,$e,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Qt?n.texSubImage2D(t.TEXTURE_2D,ae,0,0,je.width,je.height,it,ot,je.data):n.texImage2D(t.TEXTURE_2D,ae,$e,je.width,je.height,0,it,ot,je.data)}else if(F.isDataArrayTexture)Qt?(Z&&n.texStorage3D(t.TEXTURE_2D_ARRAY,De,$e,oe.width,oe.height,oe.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,oe.width,oe.height,oe.depth,it,ot,oe.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,$e,oe.width,oe.height,oe.depth,0,it,ot,oe.data);else if(F.isData3DTexture)Qt?(Z&&n.texStorage3D(t.TEXTURE_3D,De,$e,oe.width,oe.height,oe.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,oe.width,oe.height,oe.depth,it,ot,oe.data)):n.texImage3D(t.TEXTURE_3D,0,$e,oe.width,oe.height,oe.depth,0,it,ot,oe.data);else if(F.isFramebufferTexture){if(Z)if(Qt)n.texStorage2D(t.TEXTURE_2D,De,$e,oe.width,oe.height);else{let ae=oe.width,Re=oe.height;for(let Ge=0;Ge<De;Ge++)n.texImage2D(t.TEXTURE_2D,Ge,$e,ae,Re,0,it,ot,null),ae>>=1,Re>>=1}}else if(Ct.length>0&&tt){Qt&&Z&&n.texStorage2D(t.TEXTURE_2D,De,$e,Ct[0].width,Ct[0].height);for(let ae=0,Re=Ct.length;ae<Re;ae++)je=Ct[ae],Qt?n.texSubImage2D(t.TEXTURE_2D,ae,0,0,it,ot,je):n.texImage2D(t.TEXTURE_2D,ae,$e,it,ot,je);F.generateMipmaps=!1}else Qt?(Z&&n.texStorage2D(t.TEXTURE_2D,De,$e,oe.width,oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,it,ot,oe)):n.texImage2D(t.TEXTURE_2D,0,$e,it,ot,oe);T(F,tt)&&M(Ce),ze.__version=Ie.version,F.onUpdate&&F.onUpdate(F)}N.__version=F.version}function We(N,F,ne){if(F.image.length!==6)return;const Ce=Me(N,F),ve=F.source;n.bindTexture(t.TEXTURE_CUBE_MAP,N.__webglTexture,t.TEXTURE0+ne);const Ie=r.get(ve);if(ve.version!==Ie.__version||Ce===!0){n.activeTexture(t.TEXTURE0+ne),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const ze=F.isCompressedTexture||F.image[0].isCompressedTexture,Te=F.image[0]&&F.image[0].isDataTexture,oe=[];for(let ae=0;ae<6;ae++)!ze&&!Te?oe[ae]=v(F.image[ae],!1,!0,c):oe[ae]=Te?F.image[ae].image:F.image[ae],oe[ae]=Yt(F,oe[ae]);const tt=oe[0],it=S(tt)||a,ot=s.convert(F.format,F.colorSpace),$e=s.convert(F.type),je=P(F.internalFormat,ot,$e,F.colorSpace),Ct=a&&F.isVideoTexture!==!0,Qt=Ie.__version===void 0||Ce===!0;let Z=b(F,tt,it);we(t.TEXTURE_CUBE_MAP,F,it);let De;if(ze){Ct&&Qt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Z,je,tt.width,tt.height);for(let ae=0;ae<6;ae++){De=oe[ae].mipmaps;for(let Re=0;Re<De.length;Re++){const Ge=De[Re];F.format!==Yn?ot!==null?Ct?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Re,0,0,Ge.width,Ge.height,ot,Ge.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Re,je,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ct?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Re,0,0,Ge.width,Ge.height,ot,$e,Ge.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Re,je,Ge.width,Ge.height,0,ot,$e,Ge.data)}}}else{De=F.mipmaps,Ct&&Qt&&(De.length>0&&Z++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Z,je,oe[0].width,oe[0].height));for(let ae=0;ae<6;ae++)if(Te){Ct?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,0,0,oe[ae].width,oe[ae].height,ot,$e,oe[ae].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,je,oe[ae].width,oe[ae].height,0,ot,$e,oe[ae].data);for(let Re=0;Re<De.length;Re++){const zt=De[Re].image[ae].image;Ct?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Re+1,0,0,zt.width,zt.height,ot,$e,zt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Re+1,je,zt.width,zt.height,0,ot,$e,zt.data)}}else{Ct?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,0,0,ot,$e,oe[ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,je,ot,$e,oe[ae]);for(let Re=0;Re<De.length;Re++){const Ge=De[Re];Ct?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Re+1,0,0,ot,$e,Ge.image[ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Re+1,je,ot,$e,Ge.image[ae])}}}T(F,it)&&M(t.TEXTURE_CUBE_MAP),Ie.__version=ve.version,F.onUpdate&&F.onUpdate(F)}N.__version=F.version}function xe(N,F,ne,Ce,ve,Ie){const ze=s.convert(ne.format,ne.colorSpace),Te=s.convert(ne.type),oe=P(ne.internalFormat,ze,Te,ne.colorSpace);if(!r.get(F).__hasExternalTextures){const it=Math.max(1,F.width>>Ie),ot=Math.max(1,F.height>>Ie);ve===t.TEXTURE_3D||ve===t.TEXTURE_2D_ARRAY?n.texImage3D(ve,Ie,oe,it,ot,F.depth,0,ze,Te,null):n.texImage2D(ve,Ie,oe,it,ot,0,ze,Te,null)}n.bindFramebuffer(t.FRAMEBUFFER,N),qe(F)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ce,ve,r.get(ne).__webglTexture,0,ke(F)):(ve===t.TEXTURE_2D||ve>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ve<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ce,ve,r.get(ne).__webglTexture,Ie),n.bindFramebuffer(t.FRAMEBUFFER,null)}function j(N,F,ne){if(t.bindRenderbuffer(t.RENDERBUFFER,N),F.depthBuffer&&!F.stencilBuffer){let Ce=t.DEPTH_COMPONENT16;if(ne||qe(F)){const ve=F.depthTexture;ve&&ve.isDepthTexture&&(ve.type===pi?Ce=t.DEPTH_COMPONENT32F:ve.type===ka&&(Ce=t.DEPTH_COMPONENT24));const Ie=ke(F);qe(F)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ie,Ce,F.width,F.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ie,Ce,F.width,F.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ce,F.width,F.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,N)}else if(F.depthBuffer&&F.stencilBuffer){const Ce=ke(F);ne&&qe(F)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ce,t.DEPTH24_STENCIL8,F.width,F.height):qe(F)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ce,t.DEPTH24_STENCIL8,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,F.width,F.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,N)}else{const Ce=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let ve=0;ve<Ce.length;ve++){const Ie=Ce[ve],ze=s.convert(Ie.format,Ie.colorSpace),Te=s.convert(Ie.type),oe=P(Ie.internalFormat,ze,Te,Ie.colorSpace),tt=ke(F);ne&&qe(F)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,tt,oe,F.width,F.height):qe(F)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,tt,oe,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,oe,F.width,F.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ae(N,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,N),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),$(F.depthTexture,0);const Ce=r.get(F.depthTexture).__webglTexture,ve=ke(F);if(F.depthTexture.format===rc)qe(F)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ce,0,ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ce,0);else if(F.depthTexture.format===fc)qe(F)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ce,0,ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ce,0);else throw new Error("Unknown depthTexture format")}function ue(N){const F=r.get(N),ne=N.isWebGLCubeRenderTarget===!0;if(N.depthTexture&&!F.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");Ae(F.__webglFramebuffer,N)}else if(ne){F.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer[Ce]),F.__webglDepthbuffer[Ce]=t.createRenderbuffer(),j(F.__webglDepthbuffer[Ce],N,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer=t.createRenderbuffer(),j(F.__webglDepthbuffer,N,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function _e(N,F,ne){const Ce=r.get(N);F!==void 0&&xe(Ce.__webglFramebuffer,N,N.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ne!==void 0&&ue(N)}function Ee(N){const F=N.texture,ne=r.get(N),Ce=r.get(F);N.addEventListener("dispose",H),N.isWebGLMultipleRenderTargets!==!0&&(Ce.__webglTexture===void 0&&(Ce.__webglTexture=t.createTexture()),Ce.__version=F.version,o.memory.textures++);const ve=N.isWebGLCubeRenderTarget===!0,Ie=N.isWebGLMultipleRenderTargets===!0,ze=S(N)||a;if(ve){ne.__webglFramebuffer=[];for(let Te=0;Te<6;Te++)if(a&&F.mipmaps&&F.mipmaps.length>0){ne.__webglFramebuffer[Te]=[];for(let oe=0;oe<F.mipmaps.length;oe++)ne.__webglFramebuffer[Te][oe]=t.createFramebuffer()}else ne.__webglFramebuffer[Te]=t.createFramebuffer()}else{if(a&&F.mipmaps&&F.mipmaps.length>0){ne.__webglFramebuffer=[];for(let Te=0;Te<F.mipmaps.length;Te++)ne.__webglFramebuffer[Te]=t.createFramebuffer()}else ne.__webglFramebuffer=t.createFramebuffer();if(Ie)if(i.drawBuffers){const Te=N.texture;for(let oe=0,tt=Te.length;oe<tt;oe++){const it=r.get(Te[oe]);it.__webglTexture===void 0&&(it.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&N.samples>0&&qe(N)===!1){const Te=Ie?F:[F];ne.__webglMultisampledFramebuffer=t.createFramebuffer(),ne.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ne.__webglMultisampledFramebuffer);for(let oe=0;oe<Te.length;oe++){const tt=Te[oe];ne.__webglColorRenderbuffer[oe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ne.__webglColorRenderbuffer[oe]);const it=s.convert(tt.format,tt.colorSpace),ot=s.convert(tt.type),$e=P(tt.internalFormat,it,ot,tt.colorSpace,N.isXRRenderTarget===!0),je=ke(N);t.renderbufferStorageMultisample(t.RENDERBUFFER,je,$e,N.width,N.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+oe,t.RENDERBUFFER,ne.__webglColorRenderbuffer[oe])}t.bindRenderbuffer(t.RENDERBUFFER,null),N.depthBuffer&&(ne.__webglDepthRenderbuffer=t.createRenderbuffer(),j(ne.__webglDepthRenderbuffer,N,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ve){n.bindTexture(t.TEXTURE_CUBE_MAP,Ce.__webglTexture),we(t.TEXTURE_CUBE_MAP,F,ze);for(let Te=0;Te<6;Te++)if(a&&F.mipmaps&&F.mipmaps.length>0)for(let oe=0;oe<F.mipmaps.length;oe++)xe(ne.__webglFramebuffer[Te][oe],N,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,oe);else xe(ne.__webglFramebuffer[Te],N,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0);T(F,ze)&&M(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ie){const Te=N.texture;for(let oe=0,tt=Te.length;oe<tt;oe++){const it=Te[oe],ot=r.get(it);n.bindTexture(t.TEXTURE_2D,ot.__webglTexture),we(t.TEXTURE_2D,it,ze),xe(ne.__webglFramebuffer,N,it,t.COLOR_ATTACHMENT0+oe,t.TEXTURE_2D,0),T(it,ze)&&M(t.TEXTURE_2D)}n.unbindTexture()}else{let Te=t.TEXTURE_2D;if((N.isWebGL3DRenderTarget||N.isWebGLArrayRenderTarget)&&(a?Te=N.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Te,Ce.__webglTexture),we(Te,F,ze),a&&F.mipmaps&&F.mipmaps.length>0)for(let oe=0;oe<F.mipmaps.length;oe++)xe(ne.__webglFramebuffer[oe],N,F,t.COLOR_ATTACHMENT0,Te,oe);else xe(ne.__webglFramebuffer,N,F,t.COLOR_ATTACHMENT0,Te,0);T(F,ze)&&M(Te),n.unbindTexture()}N.depthBuffer&&ue(N)}function Qe(N){const F=S(N)||a,ne=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Ce=0,ve=ne.length;Ce<ve;Ce++){const Ie=ne[Ce];if(T(Ie,F)){const ze=N.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Te=r.get(Ie).__webglTexture;n.bindTexture(ze,Te),M(ze),n.unbindTexture()}}}function Oe(N){if(a&&N.samples>0&&qe(N)===!1){const F=N.isWebGLMultipleRenderTargets?N.texture:[N.texture],ne=N.width,Ce=N.height;let ve=t.COLOR_BUFFER_BIT;const Ie=[],ze=N.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Te=r.get(N),oe=N.isWebGLMultipleRenderTargets===!0;if(oe)for(let tt=0;tt<F.length;tt++)n.bindFramebuffer(t.FRAMEBUFFER,Te.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+tt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Te.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+tt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Te.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Te.__webglFramebuffer);for(let tt=0;tt<F.length;tt++){Ie.push(t.COLOR_ATTACHMENT0+tt),N.depthBuffer&&Ie.push(ze);const it=Te.__ignoreDepthValues!==void 0?Te.__ignoreDepthValues:!1;if(it===!1&&(N.depthBuffer&&(ve|=t.DEPTH_BUFFER_BIT),N.stencilBuffer&&(ve|=t.STENCIL_BUFFER_BIT)),oe&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Te.__webglColorRenderbuffer[tt]),it===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ze]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ze])),oe){const ot=r.get(F[tt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ot,0)}t.blitFramebuffer(0,0,ne,Ce,0,0,ne,Ce,ve,t.NEAREST),m&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ie)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),oe)for(let tt=0;tt<F.length;tt++){n.bindFramebuffer(t.FRAMEBUFFER,Te.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+tt,t.RENDERBUFFER,Te.__webglColorRenderbuffer[tt]);const it=r.get(F[tt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Te.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+tt,t.TEXTURE_2D,it,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Te.__webglMultisampledFramebuffer)}}function ke(N){return Math.min(h,N.samples)}function qe(N){const F=r.get(N);return a&&N.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function xt(N){const F=o.render.frame;A.get(N)!==F&&(A.set(N,F),N.update())}function Yt(N,F){const ne=N.colorSpace,Ce=N.format,ve=N.type;return N.isCompressedTexture===!0||N.isVideoTexture===!0||N.format===k1||ne!==ho&&ne!==sc&&(ne===An||ne===x3?a===!1?e.has("EXT_sRGB")===!0&&Ce===Yn?(N.format=k1,N.minFilter=fn,N.generateMipmaps=!1):F=p9.sRGBToLinear(F):(Ce!==Yn||ve!==yr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ne)),F}this.allocateTextureUnit=k,this.resetTextureUnits=Y,this.setTexture2D=$,this.setTexture2DArray=G,this.setTexture3D=X,this.setTextureCube=le,this.rebindTextures=_e,this.setupRenderTarget=Ee,this.updateRenderTargetMipmap=Qe,this.updateMultisampleRenderTarget=Oe,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=qe}const qK=0,mr=1;function $D(t,e,n){const r=n.isWebGL2;function i(s,o=sc){let a;const l=o===An||o===x3?mr:qK;if(s===yr)return t.UNSIGNED_BYTE;if(s===r9)return t.UNSIGNED_SHORT_4_4_4_4;if(s===i9)return t.UNSIGNED_SHORT_5_5_5_1;if(s===mD)return t.BYTE;if(s===gD)return t.SHORT;if(s===Wu)return t.UNSIGNED_SHORT;if(s===n9)return t.INT;if(s===ka)return t.UNSIGNED_INT;if(s===pi)return t.FLOAT;if(s===ir)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===AD)return t.ALPHA;if(s===Yn)return t.RGBA;if(s===s9)return t.LUMINANCE;if(s===vD)return t.LUMINANCE_ALPHA;if(s===rc)return t.DEPTH_COMPONENT;if(s===fc)return t.DEPTH_STENCIL;if(s===k1)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===pu)return t.RED;if(s===o9)return t.RED_INTEGER;if(s===ih)return t.RG;if(s===a9)return t.RG_INTEGER;if(s===l9)return t.RGBA_INTEGER;if(s===vh||s===KA||s===JA||s===yh)if(l===mr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===vh)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===KA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===JA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===yh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===vh)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===KA)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===JA)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===yh)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===O0||s===v4||s===N0||s===y4)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===O0)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===v4)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===N0)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===y4)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===X2)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===k0||s===U0)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===k0)return l===mr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===U0)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===G0||s===E4||s===x4||s===C4||s===S4||s===_4||s===w4||s===I4||s===T4||s===M4||s===b4||s===B4||s===R4||s===P4)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===G0)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===E4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===x4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===C4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===S4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===_4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===w4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===I4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===T4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===M4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===b4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===B4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===R4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===P4)return l===mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Eh||s===D4||s===L4)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Eh)return l===mr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===D4)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===L4)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===yD||s===F4||s===O4||s===N4)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Eh)return a.COMPRESSED_RED_RGTC1_EXT;if(s===F4)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===O4)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===N4)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Ha?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class jD extends Rn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ua extends jt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ZK={type:"move"};class c6{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ua,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ua,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new O,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new O),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ua,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new O,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new O),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const E=n.getJointPose(x,r),g=this._getHandJoint(c,x);E!==null&&(g.matrix.fromArray(E.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=E.radius),g.visible=E!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],d=u.position.distanceTo(h.position),m=.02,A=.005;c.inputState.pinching&&d>m+A?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=m-A&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(ZK)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Ua;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class fd extends Mn{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:rc,u!==rc&&u!==fc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===rc&&(r=ka),r===void 0&&u===fc&&(r=Ha),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:_t,this.minFilter=l!==void 0?l:_t,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class eJ extends ol{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,d=null,m=null,A=null;const x=n.getContextAttributes();let E=null,g=null;const y=[],v=[],S=new Rn;S.layers.enable(1),S.viewport=new Wt;const w=new Rn;w.layers.enable(2),w.viewport=new Wt;const T=[S,w],M=new jD;M.layers.enable(1),M.layers.enable(2);let P=null,b=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let X=y[G];return X===void 0&&(X=new c6,y[G]=X),X.getTargetRaySpace()},this.getControllerGrip=function(G){let X=y[G];return X===void 0&&(X=new c6,y[G]=X),X.getGripSpace()},this.getHand=function(G){let X=y[G];return X===void 0&&(X=new c6,y[G]=X),X.getHandSpace()};function B(G){const X=v.indexOf(G.inputSource);if(X===-1)return;const le=y[X];le!==void 0&&(le.update(G.inputSource,G.frame,c||o),le.dispatchEvent({type:G.type,data:G.inputSource}))}function L(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",L),i.removeEventListener("inputsourceschange",H);for(let G=0;G<y.length;G++){const X=v[G];X!==null&&(v[G]=null,y[G].disconnect(X))}P=null,b=null,e.setRenderTarget(E),m=null,d=null,h=null,i=null,g=null,$.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){a=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(G){c=G},this.getBaseLayer=function(){return d!==null?d:m},this.getBinding=function(){return h},this.getFrame=function(){return A},this.getSession=function(){return i},this.setSession=async function(G){if(i=G,i!==null){if(E=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",L),i.addEventListener("inputsourceschange",H),x.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const X={antialias:i.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,X),i.updateRenderState({baseLayer:m}),g=new hn(m.framebufferWidth,m.framebufferHeight,{format:Yn,type:yr,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let X=null,le=null,pe=null;x.depth&&(pe=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,X=x.stencil?fc:rc,le=x.stencil?Ha:ka);const ye={colorFormat:n.RGBA8,depthFormat:pe,scaleFactor:s};h=new XRWebGLBinding(i,n),d=h.createProjectionLayer(ye),i.updateRenderState({layers:[d]}),g=new hn(d.textureWidth,d.textureHeight,{format:Yn,type:yr,depthTexture:new fd(d.textureWidth,d.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,X),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const Se=e.properties.get(g);Se.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),$.setContext(i),$.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function H(G){for(let X=0;X<G.removed.length;X++){const le=G.removed[X],pe=v.indexOf(le);pe>=0&&(v[pe]=null,y[pe].disconnect(le))}for(let X=0;X<G.added.length;X++){const le=G.added[X];let pe=v.indexOf(le);if(pe===-1){for(let Se=0;Se<y.length;Se++)if(Se>=v.length){v.push(le),pe=Se;break}else if(v[Se]===null){v[Se]=le,pe=Se;break}if(pe===-1)break}const ye=y[pe];ye&&ye.connect(le)}}const U=new O,V=new O;function W(G,X,le){U.setFromMatrixPosition(X.matrixWorld),V.setFromMatrixPosition(le.matrixWorld);const pe=U.distanceTo(V),ye=X.projectionMatrix.elements,Se=le.projectionMatrix.elements,we=ye[14]/(ye[10]-1),Me=ye[14]/(ye[10]+1),Ve=(ye[9]+1)/ye[5],We=(ye[9]-1)/ye[5],xe=(ye[8]-1)/ye[0],j=(Se[8]+1)/Se[0],Ae=we*xe,ue=we*j,_e=pe/(-xe+j),Ee=_e*-xe;X.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(Ee),G.translateZ(_e),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const Qe=we+_e,Oe=Me+_e,ke=Ae-Ee,qe=ue+(pe-Ee),xt=Ve*Me/Oe*Qe,Yt=We*Me/Oe*Qe;G.projectionMatrix.makePerspective(ke,qe,xt,Yt,Qe,Oe),G.projectionMatrixInverse.copy(G.projectionMatrix).invert()}function q(G,X){X===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(X.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(i===null)return;M.near=w.near=S.near=G.near,M.far=w.far=S.far=G.far,(P!==M.near||b!==M.far)&&(i.updateRenderState({depthNear:M.near,depthFar:M.far}),P=M.near,b=M.far);const X=G.parent,le=M.cameras;q(M,X);for(let pe=0;pe<le.length;pe++)q(le[pe],X);le.length===2?W(M,S,w):M.projectionMatrix.copy(S.projectionMatrix),Y(G,M,X)};function Y(G,X,le){le===null?G.matrix.copy(X.matrixWorld):(G.matrix.copy(le.matrixWorld),G.matrix.invert(),G.matrix.multiply(X.matrixWorld)),G.matrix.decompose(G.position,G.quaternion,G.scale),G.updateMatrixWorld(!0),G.projectionMatrix.copy(X.projectionMatrix),G.projectionMatrixInverse.copy(X.projectionMatrixInverse),G.isPerspectiveCamera&&(G.fov=Gh*2*Math.atan(1/G.projectionMatrix.elements[5]),G.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(d===null&&m===null))return l},this.setFoveation=function(G){l=G,d!==null&&(d.fixedFoveation=G),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=G)};let k=null;function K(G,X){if(u=X.getViewerPose(c||o),A=X,u!==null){const le=u.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let pe=!1;le.length!==M.cameras.length&&(M.cameras.length=0,pe=!0);for(let ye=0;ye<le.length;ye++){const Se=le[ye];let we=null;if(m!==null)we=m.getViewport(Se);else{const Ve=h.getViewSubImage(d,Se);we=Ve.viewport,ye===0&&(e.setRenderTargetTextures(g,Ve.colorTexture,d.ignoreDepthValues?void 0:Ve.depthStencilTexture),e.setRenderTarget(g))}let Me=T[ye];Me===void 0&&(Me=new Rn,Me.layers.enable(ye),Me.viewport=new Wt,T[ye]=Me),Me.matrix.fromArray(Se.transform.matrix),Me.matrix.decompose(Me.position,Me.quaternion,Me.scale),Me.projectionMatrix.fromArray(Se.projectionMatrix),Me.projectionMatrixInverse.copy(Me.projectionMatrix).invert(),Me.viewport.set(we.x,we.y,we.width,we.height),ye===0&&(M.matrix.copy(Me.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),pe===!0&&M.cameras.push(Me)}}for(let le=0;le<y.length;le++){const pe=v[le],ye=y[le];pe!==null&&ye!==void 0&&ye.update(pe,X,c||o)}k&&k(G,X),X.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:X}),A=null}const $=new QD;$.setAnimationLoop(K),this.setAnimationLoop=function(G){k=G},this.dispose=function(){}}}function tJ(t,e){function n(E,g){E.matrixAutoUpdate===!0&&E.updateMatrix(),g.value.copy(E.matrix)}function r(E,g){g.color.getRGB(E.fogColor.value,GD(t)),g.isFog?(E.fogNear.value=g.near,E.fogFar.value=g.far):g.isFogExp2&&(E.fogDensity.value=g.density)}function i(E,g,y,v,S){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(E,g):g.isMeshToonMaterial?(s(E,g),h(E,g)):g.isMeshPhongMaterial?(s(E,g),u(E,g)):g.isMeshStandardMaterial?(s(E,g),d(E,g),g.isMeshPhysicalMaterial&&m(E,g,S)):g.isMeshMatcapMaterial?(s(E,g),A(E,g)):g.isMeshDepthMaterial?s(E,g):g.isMeshDistanceMaterial?(s(E,g),x(E,g)):g.isMeshNormalMaterial?s(E,g):g.isLineBasicMaterial?(o(E,g),g.isLineDashedMaterial&&a(E,g)):g.isPointsMaterial?l(E,g,y,v):g.isSpriteMaterial?c(E,g):g.isShadowMaterial?(E.color.value.copy(g.color),E.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(E,g){E.opacity.value=g.opacity,g.color&&E.diffuse.value.copy(g.color),g.emissive&&E.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(E.map.value=g.map,n(g.map,E.mapTransform)),g.alphaMap&&(E.alphaMap.value=g.alphaMap,n(g.alphaMap,E.alphaMapTransform)),g.bumpMap&&(E.bumpMap.value=g.bumpMap,n(g.bumpMap,E.bumpMapTransform),E.bumpScale.value=g.bumpScale,g.side===ei&&(E.bumpScale.value*=-1)),g.normalMap&&(E.normalMap.value=g.normalMap,n(g.normalMap,E.normalMapTransform),E.normalScale.value.copy(g.normalScale),g.side===ei&&E.normalScale.value.negate()),g.displacementMap&&(E.displacementMap.value=g.displacementMap,n(g.displacementMap,E.displacementMapTransform),E.displacementScale.value=g.displacementScale,E.displacementBias.value=g.displacementBias),g.emissiveMap&&(E.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,E.emissiveMapTransform)),g.specularMap&&(E.specularMap.value=g.specularMap,n(g.specularMap,E.specularMapTransform)),g.alphaTest>0&&(E.alphaTest.value=g.alphaTest);const y=e.get(g).envMap;if(y&&(E.envMap.value=y,E.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=g.reflectivity,E.ior.value=g.ior,E.refractionRatio.value=g.refractionRatio),g.lightMap){E.lightMap.value=g.lightMap;const v=t._useLegacyLights===!0?Math.PI:1;E.lightMapIntensity.value=g.lightMapIntensity*v,n(g.lightMap,E.lightMapTransform)}g.aoMap&&(E.aoMap.value=g.aoMap,E.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,E.aoMapTransform))}function o(E,g){E.diffuse.value.copy(g.color),E.opacity.value=g.opacity,g.map&&(E.map.value=g.map,n(g.map,E.mapTransform))}function a(E,g){E.dashSize.value=g.dashSize,E.totalSize.value=g.dashSize+g.gapSize,E.scale.value=g.scale}function l(E,g,y,v){E.diffuse.value.copy(g.color),E.opacity.value=g.opacity,E.size.value=g.size*y,E.scale.value=v*.5,g.map&&(E.map.value=g.map,n(g.map,E.uvTransform)),g.alphaMap&&(E.alphaMap.value=g.alphaMap,n(g.alphaMap,E.alphaMapTransform)),g.alphaTest>0&&(E.alphaTest.value=g.alphaTest)}function c(E,g){E.diffuse.value.copy(g.color),E.opacity.value=g.opacity,E.rotation.value=g.rotation,g.map&&(E.map.value=g.map,n(g.map,E.mapTransform)),g.alphaMap&&(E.alphaMap.value=g.alphaMap,n(g.alphaMap,E.alphaMapTransform)),g.alphaTest>0&&(E.alphaTest.value=g.alphaTest)}function u(E,g){E.specular.value.copy(g.specular),E.shininess.value=Math.max(g.shininess,1e-4)}function h(E,g){g.gradientMap&&(E.gradientMap.value=g.gradientMap)}function d(E,g){E.metalness.value=g.metalness,g.metalnessMap&&(E.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,E.metalnessMapTransform)),E.roughness.value=g.roughness,g.roughnessMap&&(E.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,E.roughnessMapTransform)),e.get(g).envMap&&(E.envMapIntensity.value=g.envMapIntensity)}function m(E,g,y){E.ior.value=g.ior,g.sheen>0&&(E.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),E.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(E.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,E.sheenColorMapTransform)),g.sheenRoughnessMap&&(E.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,E.sheenRoughnessMapTransform))),g.clearcoat>0&&(E.clearcoat.value=g.clearcoat,E.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(E.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,E.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(E.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===ei&&E.clearcoatNormalScale.value.negate())),g.iridescence>0&&(E.iridescence.value=g.iridescence,E.iridescenceIOR.value=g.iridescenceIOR,E.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(E.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,E.iridescenceMapTransform)),g.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),g.transmission>0&&(E.transmission.value=g.transmission,E.transmissionSamplerMap.value=y.texture,E.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(E.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,E.transmissionMapTransform)),E.thickness.value=g.thickness,g.thicknessMap&&(E.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=g.attenuationDistance,E.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(E.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(E.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=g.specularIntensity,E.specularColor.value.copy(g.specularColor),g.specularColorMap&&(E.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,E.specularColorMapTransform)),g.specularIntensityMap&&(E.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,E.specularIntensityMapTransform))}function A(E,g){g.matcap&&(E.matcap.value=g.matcap)}function x(E,g){const y=e.get(g).light;E.referencePosition.value.setFromMatrixPosition(y.matrixWorld),E.nearDistance.value=y.shadow.camera.near,E.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function nJ(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(y,v){const S=v.program;r.uniformBlockBinding(y,S)}function c(y,v){let S=i[y.id];S===void 0&&(A(y),S=u(y),i[y.id]=S,y.addEventListener("dispose",E));const w=v.program;r.updateUBOMapping(y,w);const T=e.render.frame;s[y.id]!==T&&(d(y),s[y.id]=T)}function u(y){const v=h();y.__bindingPointIndex=v;const S=t.createBuffer(),w=y.__size,T=y.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,w,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,v,S),S}function h(){for(let y=0;y<a;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(y){const v=i[y.id],S=y.uniforms,w=y.__cache;t.bindBuffer(t.UNIFORM_BUFFER,v);for(let T=0,M=S.length;T<M;T++){const P=S[T];if(m(P,T,w)===!0){const b=P.__offset,B=Array.isArray(P.value)?P.value:[P.value];let L=0;for(let H=0;H<B.length;H++){const U=B[H],V=x(U);typeof U=="number"?(P.__data[0]=U,t.bufferSubData(t.UNIFORM_BUFFER,b+L,P.__data)):U.isMatrix3?(P.__data[0]=U.elements[0],P.__data[1]=U.elements[1],P.__data[2]=U.elements[2],P.__data[3]=U.elements[0],P.__data[4]=U.elements[3],P.__data[5]=U.elements[4],P.__data[6]=U.elements[5],P.__data[7]=U.elements[0],P.__data[8]=U.elements[6],P.__data[9]=U.elements[7],P.__data[10]=U.elements[8],P.__data[11]=U.elements[0]):(U.toArray(P.__data,L),L+=V.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,b,P.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(y,v,S){const w=y.value;if(S[v]===void 0){if(typeof w=="number")S[v]=w;else{const T=Array.isArray(w)?w:[w],M=[];for(let P=0;P<T.length;P++)M.push(T[P].clone());S[v]=M}return!0}else if(typeof w=="number"){if(S[v]!==w)return S[v]=w,!0}else{const T=Array.isArray(S[v])?S[v]:[S[v]],M=Array.isArray(w)?w:[w];for(let P=0;P<T.length;P++){const b=T[P];if(b.equals(M[P])===!1)return b.copy(M[P]),!0}}return!1}function A(y){const v=y.uniforms;let S=0;const w=16;let T=0;for(let M=0,P=v.length;M<P;M++){const b=v[M],B={boundary:0,storage:0},L=Array.isArray(b.value)?b.value:[b.value];for(let H=0,U=L.length;H<U;H++){const V=L[H],W=x(V);B.boundary+=W.boundary,B.storage+=W.storage}if(b.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),b.__offset=S,M>0){T=S%w;const H=w-T;T!==0&&H-B.boundary<0&&(S+=w-T,b.__offset=S)}S+=B.storage}return T=S%w,T>0&&(S+=w-T),y.__size=S,y.__cache={},this}function x(y){const v={boundary:0,storage:0};return typeof y=="number"?(v.boundary=4,v.storage=4):y.isVector2?(v.boundary=8,v.storage=8):y.isVector3||y.isColor?(v.boundary=16,v.storage=12):y.isVector4?(v.boundary=16,v.storage=16):y.isMatrix3?(v.boundary=48,v.storage=48):y.isMatrix4?(v.boundary=64,v.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),v}function E(y){const v=y.target;v.removeEventListener("dispose",E);const S=o.indexOf(v.__bindingPointIndex);o.splice(S,1),t.deleteBuffer(i[v.id]),delete i[v.id],delete s[v.id]}function g(){for(const y in i)t.deleteBuffer(i[y]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}class x9{constructor(e={}){const{canvas:n=ND(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let d;r!==null?d=r.getContextAttributes().alpha:d=o;const m=new Uint32Array(4),A=new Int32Array(4);let x=null,E=null;const g=[],y=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=An,this._useLegacyLights=!1,this.toneMapping=Rs,this.toneMappingExposure=1;const v=this;let S=!1,w=0,T=0,M=null,P=-1,b=null;const B=new Wt,L=new Wt;let H=null;const U=new be(0);let V=0,W=n.width,q=n.height,Y=1,k=null,K=null;const $=new Wt(0,0,W,q),G=new Wt(0,0,W,q);let X=!1;const le=new ev;let pe=!1,ye=!1,Se=null;const we=new et,Me=new fe,Ve=new O,We={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return M===null?Y:1}let j=r;function Ae(Q,re){for(let me=0;me<Q.length;me++){const se=Q[me],ge=n.getContext(se,re);if(ge!==null)return ge}return null}try{const Q={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${sl}`),n.addEventListener("webglcontextlost",De,!1),n.addEventListener("webglcontextrestored",ae,!1),n.addEventListener("webglcontextcreationerror",Re,!1),j===null){const re=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&re.shift(),j=Ae(re,Q),j===null)throw Ae(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&j instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),j.getShaderPrecisionFormat===void 0&&(j.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Q){throw console.error("THREE.WebGLRenderer: "+Q.message),Q}let ue,_e,Ee,Qe,Oe,ke,qe,xt,Yt,N,F,ne,Ce,ve,Ie,ze,Te,oe,tt,it,ot,$e,je,Ct;function Qt(){ue=new Aj(j),_e=new fj(j,ue,e),ue.init(_e),$e=new $D(j,ue,_e),Ee=new XK(j,ue,_e),Qe=new Ej(j),Oe=new kK,ke=new YK(j,ue,Ee,Oe,_e,$e,Qe),qe=new dj(v),xt=new gj(v),Yt=new BV(j,_e),je=new cj(j,ue,Yt,_e),N=new vj(j,Yt,Qe,je),F=new _j(j,N,Yt,Qe),tt=new Sj(j,_e,ke),ze=new hj(Oe),ne=new NK(v,qe,xt,ue,_e,je,ze),Ce=new tJ(v,Oe),ve=new GK,Ie=new $K(ue,_e),oe=new lj(v,qe,xt,Ee,F,d,l),Te=new JK(v,F,_e),Ct=new nJ(j,Qe,_e,Ee),it=new uj(j,ue,Qe,_e),ot=new yj(j,ue,Qe,_e),Qe.programs=ne.programs,v.capabilities=_e,v.extensions=ue,v.properties=Oe,v.renderLists=ve,v.shadowMap=Te,v.state=Ee,v.info=Qe}Qt();const Z=new eJ(v,j);this.xr=Z,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){const Q=ue.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=ue.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(Q){Q!==void 0&&(Y=Q,this.setSize(W,q,!1))},this.getSize=function(Q){return Q.set(W,q)},this.setSize=function(Q,re,me=!0){if(Z.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=Q,q=re,n.width=Math.floor(Q*Y),n.height=Math.floor(re*Y),me===!0&&(n.style.width=Q+"px",n.style.height=re+"px"),this.setViewport(0,0,Q,re)},this.getDrawingBufferSize=function(Q){return Q.set(W*Y,q*Y).floor()},this.setDrawingBufferSize=function(Q,re,me){W=Q,q=re,Y=me,n.width=Math.floor(Q*me),n.height=Math.floor(re*me),this.setViewport(0,0,Q,re)},this.getCurrentViewport=function(Q){return Q.copy(B)},this.getViewport=function(Q){return Q.copy($)},this.setViewport=function(Q,re,me,se){Q.isVector4?$.set(Q.x,Q.y,Q.z,Q.w):$.set(Q,re,me,se),Ee.viewport(B.copy($).multiplyScalar(Y).floor())},this.getScissor=function(Q){return Q.copy(G)},this.setScissor=function(Q,re,me,se){Q.isVector4?G.set(Q.x,Q.y,Q.z,Q.w):G.set(Q,re,me,se),Ee.scissor(L.copy(G).multiplyScalar(Y).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(Q){Ee.setScissorTest(X=Q)},this.setOpaqueSort=function(Q){k=Q},this.setTransparentSort=function(Q){K=Q},this.getClearColor=function(Q){return Q.copy(oe.getClearColor())},this.setClearColor=function(){oe.setClearColor.apply(oe,arguments)},this.getClearAlpha=function(){return oe.getClearAlpha()},this.setClearAlpha=function(){oe.setClearAlpha.apply(oe,arguments)},this.clear=function(Q=!0,re=!0,me=!0){let se=0;if(Q){let ge=!1;if(M!==null){const Je=M.texture.format;ge=Je===l9||Je===a9||Je===o9}if(ge){const Je=M.texture.type,ut=Je===yr||Je===ka||Je===Wu||Je===Ha||Je===r9||Je===i9,At=oe.getClearColor(),vt=oe.getClearAlpha(),kt=At.r,pt=At.g,St=At.b;ut?(m[0]=kt,m[1]=pt,m[2]=St,m[3]=vt,j.clearBufferuiv(j.COLOR,0,m)):(A[0]=kt,A[1]=pt,A[2]=St,A[3]=vt,j.clearBufferiv(j.COLOR,0,A))}else se|=j.COLOR_BUFFER_BIT}re&&(se|=j.DEPTH_BUFFER_BIT),me&&(se|=j.STENCIL_BUFFER_BIT),j.clear(se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",De,!1),n.removeEventListener("webglcontextrestored",ae,!1),n.removeEventListener("webglcontextcreationerror",Re,!1),ve.dispose(),Ie.dispose(),Oe.dispose(),qe.dispose(),xt.dispose(),F.dispose(),je.dispose(),Ct.dispose(),ne.dispose(),Z.dispose(),Z.removeEventListener("sessionstart",an),Z.removeEventListener("sessionend",Ui),Se&&(Se.dispose(),Se=null),Or.stop()};function De(Q){Q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function ae(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const Q=Qe.autoReset,re=Te.enabled,me=Te.autoUpdate,se=Te.needsUpdate,ge=Te.type;Qt(),Qe.autoReset=Q,Te.enabled=re,Te.autoUpdate=me,Te.needsUpdate=se,Te.type=ge}function Re(Q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function Ge(Q){const re=Q.target;re.removeEventListener("dispose",Ge),zt(re)}function zt(Q){dn(Q),Oe.remove(Q)}function dn(Q){const re=Oe.get(Q).programs;re!==void 0&&(re.forEach(function(me){ne.releaseProgram(me)}),Q.isShaderMaterial&&ne.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,re,me,se,ge,Je){re===null&&(re=We);const ut=ge.isMesh&&ge.matrixWorld.determinant()<0,At=u5(Q,re,me,se,ge);Ee.setMaterial(se,ut);let vt=me.index,kt=1;if(se.wireframe===!0){if(vt=N.getWireframeAttribute(me),vt===void 0)return;kt=2}const pt=me.drawRange,St=me.attributes.position;let pn=pt.start*kt,Cn=(pt.start+pt.count)*kt;Je!==null&&(pn=Math.max(pn,Je.start*kt),Cn=Math.min(Cn,(Je.start+Je.count)*kt)),vt!==null?(pn=Math.max(pn,0),Cn=Math.min(Cn,vt.count)):St!=null&&(pn=Math.max(pn,0),Cn=Math.min(Cn,St.count));const xi=Cn-pn;if(xi<0||xi===1/0)return;je.setup(ge,se,At,me,vt);let Gi,cn=it;if(vt!==null&&(Gi=Yt.get(vt),cn=ot,cn.setIndex(Gi)),ge.isMesh)se.wireframe===!0?(Ee.setLineWidth(se.wireframeLinewidth*xe()),cn.setMode(j.LINES)):cn.setMode(j.TRIANGLES);else if(ge.isLine){let wt=se.linewidth;wt===void 0&&(wt=1),Ee.setLineWidth(wt*xe()),ge.isLineSegments?cn.setMode(j.LINES):ge.isLineLoop?cn.setMode(j.LINE_LOOP):cn.setMode(j.LINE_STRIP)}else ge.isPoints?cn.setMode(j.POINTS):ge.isSprite&&cn.setMode(j.TRIANGLES);if(ge.isInstancedMesh)cn.renderInstances(pn,xi,ge.count);else if(me.isInstancedBufferGeometry){const wt=me._maxInstanceCount!==void 0?me._maxInstanceCount:1/0,rn=Math.min(me.instanceCount,wt);cn.renderInstances(pn,xi,rn)}else cn.render(pn,xi)},this.compile=function(Q,re){function me(se,ge,Je){se.transparent===!0&&se.side===In&&se.forceSinglePass===!1?(se.side=ei,se.needsUpdate=!0,Bo(se,ge,Je),se.side=ia,se.needsUpdate=!0,Bo(se,ge,Je),se.side=In):Bo(se,ge,Je)}E=Ie.get(Q),E.init(),y.push(E),Q.traverseVisible(function(se){se.isLight&&se.layers.test(re.layers)&&(E.pushLight(se),se.castShadow&&E.pushShadow(se))}),E.setupLights(v._useLegacyLights),Q.traverse(function(se){const ge=se.material;if(ge)if(Array.isArray(ge))for(let Je=0;Je<ge.length;Je++){const ut=ge[Je];me(ut,Q,se)}else me(ge,Q,se)}),y.pop(),E=null};let zn=null;function Ws(Q){zn&&zn(Q)}function an(){Or.stop()}function Ui(){Or.start()}const Or=new QD;Or.setAnimationLoop(Ws),typeof self<"u"&&Or.setContext(self),this.setAnimationLoop=function(Q){zn=Q,Z.setAnimationLoop(Q),Q===null?Or.stop():Or.start()},Z.addEventListener("sessionstart",an),Z.addEventListener("sessionend",Ui),this.render=function(Q,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),Z.enabled===!0&&Z.isPresenting===!0&&(Z.cameraAutoUpdate===!0&&Z.updateCamera(re),re=Z.getCamera()),Q.isScene===!0&&Q.onBeforeRender(v,Q,re,M),E=Ie.get(Q,y.length),E.init(),y.push(E),we.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),le.setFromProjectionMatrix(we),ye=this.localClippingEnabled,pe=ze.init(this.clippingPlanes,ye),x=ve.get(Q,g.length),x.init(),g.push(x),am(Q,re,0,v.sortObjects),x.finish(),v.sortObjects===!0&&x.sort(k,K),this.info.render.frame++,pe===!0&&ze.beginShadows();const me=E.state.shadowsArray;if(Te.render(me,Q,re),pe===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset(),oe.render(x,Q),E.setupLights(v._useLegacyLights),re.isArrayCamera){const se=re.cameras;for(let ge=0,Je=se.length;ge<Je;ge++){const ut=se[ge];lm(x,Q,ut,ut.viewport)}}else lm(x,Q,re);M!==null&&(ke.updateMultisampleRenderTarget(M),ke.updateRenderTargetMipmap(M)),Q.isScene===!0&&Q.onAfterRender(v,Q,re),je.resetDefaultState(),P=-1,b=null,y.pop(),y.length>0?E=y[y.length-1]:E=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function am(Q,re,me,se){if(Q.visible===!1)return;if(Q.layers.test(re.layers)){if(Q.isGroup)me=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(re);else if(Q.isLight)E.pushLight(Q),Q.castShadow&&E.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||le.intersectsSprite(Q)){se&&Ve.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(we);const ut=F.update(Q),At=Q.material;At.visible&&x.push(Q,ut,At,me,Ve.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(!Q.frustumCulled||le.intersectsObject(Q))){const ut=F.update(Q),At=Q.material;if(se&&(Q.boundingSphere!==void 0?(Q.boundingSphere===null&&Q.computeBoundingSphere(),Ve.copy(Q.boundingSphere.center)):(ut.boundingSphere===null&&ut.computeBoundingSphere(),Ve.copy(ut.boundingSphere.center)),Ve.applyMatrix4(Q.matrixWorld).applyMatrix4(we)),Array.isArray(At)){const vt=ut.groups;for(let kt=0,pt=vt.length;kt<pt;kt++){const St=vt[kt],pn=At[St.materialIndex];pn&&pn.visible&&x.push(Q,ut,pn,me,Ve.z,St)}}else At.visible&&x.push(Q,ut,At,me,Ve.z,null)}}const Je=Q.children;for(let ut=0,At=Je.length;ut<At;ut++)am(Je[ut],re,me,se)}function lm(Q,re,me,se){const ge=Q.opaque,Je=Q.transmissive,ut=Q.transparent;E.setupLightsView(me),pe===!0&&ze.setGlobalState(v.clippingPlanes,me),Je.length>0&&cm(ge,Je,re,me),se&&Ee.viewport(B.copy(se)),ge.length>0&&ml(ge,re,me),Je.length>0&&ml(Je,re,me),ut.length>0&&ml(ut,re,me),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function cm(Q,re,me,se){const ge=_e.isWebGL2;Se===null&&(Se=new hn(1,1,{generateMipmaps:!0,type:ue.has("EXT_color_buffer_half_float")?ir:yr,minFilter:Ns,samples:ge?4:0})),v.getDrawingBufferSize(Me),ge?Se.setSize(Me.x,Me.y):Se.setSize(U1(Me.x),U1(Me.y));const Je=v.getRenderTarget();v.setRenderTarget(Se),v.getClearColor(U),V=v.getClearAlpha(),V<1&&v.setClearColor(16777215,.5),v.clear();const ut=v.toneMapping;v.toneMapping=Rs,ml(Q,me,se),ke.updateMultisampleRenderTarget(Se),ke.updateRenderTargetMipmap(Se);let At=!1;for(let vt=0,kt=re.length;vt<kt;vt++){const pt=re[vt],St=pt.object,pn=pt.geometry,Cn=pt.material,xi=pt.group;if(Cn.side===In&&St.layers.test(se.layers)){const Gi=Cn.side;Cn.side=ei,Cn.needsUpdate=!0,um(St,me,se,pn,Cn,xi),Cn.side=Gi,Cn.needsUpdate=!0,At=!0}}At===!0&&(ke.updateMultisampleRenderTarget(Se),ke.updateRenderTargetMipmap(Se)),v.setRenderTarget(Je),v.setClearColor(U,V),v.toneMapping=ut}function ml(Q,re,me){const se=re.isScene===!0?re.overrideMaterial:null;for(let ge=0,Je=Q.length;ge<Je;ge++){const ut=Q[ge],At=ut.object,vt=ut.geometry,kt=se===null?ut.material:se,pt=ut.group;At.layers.test(me.layers)&&um(At,re,me,vt,kt,pt)}}function um(Q,re,me,se,ge,Je){Q.onBeforeRender(v,re,me,se,ge,Je),Q.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),ge.onBeforeRender(v,re,me,se,Q,Je),ge.transparent===!0&&ge.side===In&&ge.forceSinglePass===!1?(ge.side=ei,ge.needsUpdate=!0,v.renderBufferDirect(me,re,se,ge,Q,Je),ge.side=ia,ge.needsUpdate=!0,v.renderBufferDirect(me,re,se,ge,Q,Je),ge.side=In):v.renderBufferDirect(me,re,se,ge,Q,Je),Q.onAfterRender(v,re,me,se,ge,Je)}function Bo(Q,re,me){re.isScene!==!0&&(re=We);const se=Oe.get(Q),ge=E.state.lights,Je=E.state.shadowsArray,ut=ge.state.version,At=ne.getParameters(Q,ge.state,Je,re,me),vt=ne.getProgramCacheKey(At);let kt=se.programs;se.environment=Q.isMeshStandardMaterial?re.environment:null,se.fog=re.fog,se.envMap=(Q.isMeshStandardMaterial?xt:qe).get(Q.envMap||se.environment),kt===void 0&&(Q.addEventListener("dispose",Ge),kt=new Map,se.programs=kt);let pt=kt.get(vt);if(pt!==void 0){if(se.currentProgram===pt&&se.lightsStateVersion===ut)return fm(Q,At),pt}else At.uniforms=ne.getUniforms(Q),Q.onBuild(me,At,v),Q.onBeforeCompile(At,v),pt=ne.acquireProgram(At,vt),kt.set(vt,pt),se.uniforms=At.uniforms;const St=se.uniforms;(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&(St.clippingPlanes=ze.uniform),fm(Q,At),se.needsLights=h5(Q),se.lightsStateVersion=ut,se.needsLights&&(St.ambientLightColor.value=ge.state.ambient,St.lightProbe.value=ge.state.probe,St.directionalLights.value=ge.state.directional,St.directionalLightShadows.value=ge.state.directionalShadow,St.spotLights.value=ge.state.spot,St.spotLightShadows.value=ge.state.spotShadow,St.rectAreaLights.value=ge.state.rectArea,St.ltc_1.value=ge.state.rectAreaLTC1,St.ltc_2.value=ge.state.rectAreaLTC2,St.pointLights.value=ge.state.point,St.pointLightShadows.value=ge.state.pointShadow,St.hemisphereLights.value=ge.state.hemi,St.directionalShadowMap.value=ge.state.directionalShadowMap,St.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,St.spotShadowMap.value=ge.state.spotShadowMap,St.spotLightMatrix.value=ge.state.spotLightMatrix,St.spotLightMap.value=ge.state.spotLightMap,St.pointShadowMap.value=ge.state.pointShadowMap,St.pointShadowMatrix.value=ge.state.pointShadowMatrix);const pn=pt.getUniforms(),Cn=ZA.seqWithValue(pn.seq,St);return se.currentProgram=pt,se.uniformsList=Cn,pt}function fm(Q,re){const me=Oe.get(Q);me.outputColorSpace=re.outputColorSpace,me.instancing=re.instancing,me.instancingColor=re.instancingColor,me.skinning=re.skinning,me.morphTargets=re.morphTargets,me.morphNormals=re.morphNormals,me.morphColors=re.morphColors,me.morphTargetsCount=re.morphTargetsCount,me.numClippingPlanes=re.numClippingPlanes,me.numIntersection=re.numClipIntersection,me.vertexAlphas=re.vertexAlphas,me.vertexTangents=re.vertexTangents,me.toneMapping=re.toneMapping}function u5(Q,re,me,se,ge){re.isScene!==!0&&(re=We),ke.resetTextureUnits();const Je=re.fog,ut=se.isMeshStandardMaterial?re.environment:null,At=M===null?v.outputColorSpace:M.isXRRenderTarget===!0?M.texture.colorSpace:ho,vt=(se.isMeshStandardMaterial?xt:qe).get(se.envMap||ut),kt=se.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,pt=!!me.attributes.tangent&&(!!se.normalMap||se.anisotropy>0),St=!!me.morphAttributes.position,pn=!!me.morphAttributes.normal,Cn=!!me.morphAttributes.color;let xi=Rs;se.toneMapped&&(M===null||M.isXRRenderTarget===!0)&&(xi=v.toneMapping);const Gi=me.morphAttributes.position||me.morphAttributes.normal||me.morphAttributes.color,cn=Gi!==void 0?Gi.length:0,wt=Oe.get(se),rn=E.state.lights;if(pe===!0&&(ye===!0||Q!==b)){const zr=Q===b&&se.id===P;ze.setState(se,Q,zr)}let yt=!1;se.version===wt.__version?(wt.needsLights&&wt.lightsStateVersion!==rn.state.version||wt.outputColorSpace!==At||ge.isInstancedMesh&&wt.instancing===!1||!ge.isInstancedMesh&&wt.instancing===!0||ge.isSkinnedMesh&&wt.skinning===!1||!ge.isSkinnedMesh&&wt.skinning===!0||ge.isInstancedMesh&&wt.instancingColor===!0&&ge.instanceColor===null||ge.isInstancedMesh&&wt.instancingColor===!1&&ge.instanceColor!==null||wt.envMap!==vt||se.fog===!0&&wt.fog!==Je||wt.numClippingPlanes!==void 0&&(wt.numClippingPlanes!==ze.numPlanes||wt.numIntersection!==ze.numIntersection)||wt.vertexAlphas!==kt||wt.vertexTangents!==pt||wt.morphTargets!==St||wt.morphNormals!==pn||wt.morphColors!==Cn||wt.toneMapping!==xi||_e.isWebGL2===!0&&wt.morphTargetsCount!==cn)&&(yt=!0):(yt=!0,wt.__version=se.version);let Hr=wt.currentProgram;yt===!0&&(Hr=Bo(se,re,ge));let dr=!1,sr=!1,$s=!1;const Vn=Hr.getUniforms(),Wn=wt.uniforms;if(Ee.useProgram(Hr.program)&&(dr=!0,sr=!0,$s=!0),se.id!==P&&(P=se.id,sr=!0),dr||b!==Q){Vn.setValue(j,"projectionMatrix",Q.projectionMatrix),Vn.setValue(j,"viewMatrix",Q.matrixWorldInverse);const zr=Vn.map.cameraPosition;zr!==void 0&&zr.setValue(j,Ve.setFromMatrixPosition(Q.matrixWorld)),_e.logarithmicDepthBuffer&&Vn.setValue(j,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial)&&Vn.setValue(j,"isOrthographic",Q.isOrthographicCamera===!0),b!==Q&&(b=Q,sr=!0,$s=!0)}if(ge.isSkinnedMesh){Vn.setOptional(j,ge,"bindMatrix"),Vn.setOptional(j,ge,"bindMatrixInverse");const zr=ge.skeleton;zr&&(_e.floatVertexTextures?(zr.boneTexture===null&&zr.computeBoneTexture(),Vn.setValue(j,"boneTexture",zr.boneTexture,ke),Vn.setValue(j,"boneTextureSize",zr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const gl=me.morphAttributes;if((gl.position!==void 0||gl.normal!==void 0||gl.color!==void 0&&_e.isWebGL2===!0)&&tt.update(ge,me,Hr),(sr||wt.receiveShadow!==ge.receiveShadow)&&(wt.receiveShadow=ge.receiveShadow,Vn.setValue(j,"receiveShadow",ge.receiveShadow)),se.isMeshGouraudMaterial&&se.envMap!==null&&(Wn.envMap.value=vt,Wn.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1),sr&&(Vn.setValue(j,"toneMappingExposure",v.toneMappingExposure),wt.needsLights&&f5(Wn,$s),Je&&se.fog===!0&&Ce.refreshFogUniforms(Wn,Je),Ce.refreshMaterialUniforms(Wn,se,Y,q,Se),ZA.upload(j,wt.uniformsList,Wn,ke)),se.isShaderMaterial&&se.uniformsNeedUpdate===!0&&(ZA.upload(j,wt.uniformsList,Wn,ke),se.uniformsNeedUpdate=!1),se.isSpriteMaterial&&Vn.setValue(j,"center",ge.center),Vn.setValue(j,"modelViewMatrix",ge.modelViewMatrix),Vn.setValue(j,"normalMatrix",ge.normalMatrix),Vn.setValue(j,"modelMatrix",ge.matrixWorld),se.isShaderMaterial||se.isRawShaderMaterial){const zr=se.uniformsGroups;for(let Zu=0,ef=zr.length;Zu<ef;Zu++)if(_e.isWebGL2){const Td=zr[Zu];Ct.update(Td,Hr),Ct.bind(Td,Hr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Hr}function f5(Q,re){Q.ambientLightColor.needsUpdate=re,Q.lightProbe.needsUpdate=re,Q.directionalLights.needsUpdate=re,Q.directionalLightShadows.needsUpdate=re,Q.pointLights.needsUpdate=re,Q.pointLightShadows.needsUpdate=re,Q.spotLights.needsUpdate=re,Q.spotLightShadows.needsUpdate=re,Q.rectAreaLights.needsUpdate=re,Q.hemisphereLights.needsUpdate=re}function h5(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(Q,re,me){Oe.get(Q.texture).__webglTexture=re,Oe.get(Q.depthTexture).__webglTexture=me;const se=Oe.get(Q);se.__hasExternalTextures=!0,se.__hasExternalTextures&&(se.__autoAllocateDepthBuffer=me===void 0,se.__autoAllocateDepthBuffer||ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),se.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Q,re){const me=Oe.get(Q);me.__webglFramebuffer=re,me.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(Q,re=0,me=0){M=Q,w=re,T=me;let se=!0,ge=null,Je=!1,ut=!1;if(Q){const vt=Oe.get(Q);vt.__useDefaultFramebuffer!==void 0?(Ee.bindFramebuffer(j.FRAMEBUFFER,null),se=!1):vt.__webglFramebuffer===void 0?ke.setupRenderTarget(Q):vt.__hasExternalTextures&&ke.rebindTextures(Q,Oe.get(Q.texture).__webglTexture,Oe.get(Q.depthTexture).__webglTexture);const kt=Q.texture;(kt.isData3DTexture||kt.isDataArrayTexture||kt.isCompressedArrayTexture)&&(ut=!0);const pt=Oe.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Array.isArray(pt[re])?ge=pt[re][me]:ge=pt[re],Je=!0):_e.isWebGL2&&Q.samples>0&&ke.useMultisampledRTT(Q)===!1?ge=Oe.get(Q).__webglMultisampledFramebuffer:Array.isArray(pt)?ge=pt[me]:ge=pt,B.copy(Q.viewport),L.copy(Q.scissor),H=Q.scissorTest}else B.copy($).multiplyScalar(Y).floor(),L.copy(G).multiplyScalar(Y).floor(),H=X;if(Ee.bindFramebuffer(j.FRAMEBUFFER,ge)&&_e.drawBuffers&&se&&Ee.drawBuffers(Q,ge),Ee.viewport(B),Ee.scissor(L),Ee.setScissorTest(H),Je){const vt=Oe.get(Q.texture);j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_CUBE_MAP_POSITIVE_X+re,vt.__webglTexture,me)}else if(ut){const vt=Oe.get(Q.texture),kt=re||0;j.framebufferTextureLayer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,vt.__webglTexture,me||0,kt)}P=-1},this.readRenderTargetPixels=function(Q,re,me,se,ge,Je,ut){if(!(Q&&Q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let At=Oe.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&ut!==void 0&&(At=At[ut]),At){Ee.bindFramebuffer(j.FRAMEBUFFER,At);try{const vt=Q.texture,kt=vt.format,pt=vt.type;if(kt!==Yn&&$e.convert(kt)!==j.getParameter(j.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const St=pt===ir&&(ue.has("EXT_color_buffer_half_float")||_e.isWebGL2&&ue.has("EXT_color_buffer_float"));if(pt!==yr&&$e.convert(pt)!==j.getParameter(j.IMPLEMENTATION_COLOR_READ_TYPE)&&!(pt===pi&&(_e.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float")))&&!St){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=Q.width-se&&me>=0&&me<=Q.height-ge&&j.readPixels(re,me,se,ge,$e.convert(kt),$e.convert(pt),Je)}finally{const vt=M!==null?Oe.get(M).__webglFramebuffer:null;Ee.bindFramebuffer(j.FRAMEBUFFER,vt)}}},this.copyFramebufferToTexture=function(Q,re,me=0){const se=Math.pow(2,-me),ge=Math.floor(re.image.width*se),Je=Math.floor(re.image.height*se);ke.setTexture2D(re,0),j.copyTexSubImage2D(j.TEXTURE_2D,me,0,0,Q.x,Q.y,ge,Je),Ee.unbindTexture()},this.copyTextureToTexture=function(Q,re,me,se=0){const ge=re.image.width,Je=re.image.height,ut=$e.convert(me.format),At=$e.convert(me.type);ke.setTexture2D(me,0),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,me.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,me.unpackAlignment),re.isDataTexture?j.texSubImage2D(j.TEXTURE_2D,se,Q.x,Q.y,ge,Je,ut,At,re.image.data):re.isCompressedTexture?j.compressedTexSubImage2D(j.TEXTURE_2D,se,Q.x,Q.y,re.mipmaps[0].width,re.mipmaps[0].height,ut,re.mipmaps[0].data):j.texSubImage2D(j.TEXTURE_2D,se,Q.x,Q.y,ut,At,re.image),se===0&&me.generateMipmaps&&j.generateMipmap(j.TEXTURE_2D),Ee.unbindTexture()},this.copyTextureToTexture3D=function(Q,re,me,se,ge=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Je=Q.max.x-Q.min.x+1,ut=Q.max.y-Q.min.y+1,At=Q.max.z-Q.min.z+1,vt=$e.convert(se.format),kt=$e.convert(se.type);let pt;if(se.isData3DTexture)ke.setTexture3D(se,0),pt=j.TEXTURE_3D;else if(se.isDataArrayTexture)ke.setTexture2DArray(se,0),pt=j.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,se.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,se.unpackAlignment);const St=j.getParameter(j.UNPACK_ROW_LENGTH),pn=j.getParameter(j.UNPACK_IMAGE_HEIGHT),Cn=j.getParameter(j.UNPACK_SKIP_PIXELS),xi=j.getParameter(j.UNPACK_SKIP_ROWS),Gi=j.getParameter(j.UNPACK_SKIP_IMAGES),cn=me.isCompressedTexture?me.mipmaps[0]:me.image;j.pixelStorei(j.UNPACK_ROW_LENGTH,cn.width),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,cn.height),j.pixelStorei(j.UNPACK_SKIP_PIXELS,Q.min.x),j.pixelStorei(j.UNPACK_SKIP_ROWS,Q.min.y),j.pixelStorei(j.UNPACK_SKIP_IMAGES,Q.min.z),me.isDataTexture||me.isData3DTexture?j.texSubImage3D(pt,ge,re.x,re.y,re.z,Je,ut,At,vt,kt,cn.data):me.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),j.compressedTexSubImage3D(pt,ge,re.x,re.y,re.z,Je,ut,At,vt,cn.data)):j.texSubImage3D(pt,ge,re.x,re.y,re.z,Je,ut,At,vt,kt,cn),j.pixelStorei(j.UNPACK_ROW_LENGTH,St),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,pn),j.pixelStorei(j.UNPACK_SKIP_PIXELS,Cn),j.pixelStorei(j.UNPACK_SKIP_ROWS,xi),j.pixelStorei(j.UNPACK_SKIP_IMAGES,Gi),ge===0&&se.generateMipmaps&&j.generateMipmap(pt),Ee.unbindTexture()},this.initTexture=function(Q){Q.isCubeTexture?ke.setTextureCube(Q,0):Q.isData3DTexture?ke.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?ke.setTexture2DArray(Q,0):ke.setTexture2D(Q,0),Ee.unbindTexture()},this.resetState=function(){w=0,T=0,M=null,Ee.reset(),je.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return $o}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===An?ic:f9}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===ic?An:ho}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class KD extends x9{}KD.prototype.isWebGL1Renderer=!0;class rv{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new be(e),this.density=n}clone(){return new rv(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class iv{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new be(e),this.near=n,this.far=r}clone(){return new iv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class G1 extends jt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class w3{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=H0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=qi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=qi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=qi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ai=new O;class hc{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.applyMatrix4(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.applyNormalMatrix(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.transformDirection(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Bi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Bi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Bi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Bi(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new tn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new hc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class C9 extends fr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new be(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Rf;const sp=new O,Pf=new O,Df=new O,Lf=new fe,op=new fe,JD=new et,Qg=new O,ap=new O,Hg=new O,Ow=new fe,u6=new fe,Nw=new fe;class XD extends jt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Rf===void 0){Rf=new It;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new w3(n,5);Rf.setIndex([0,1,2,0,2,3]),Rf.setAttribute("position",new hc(r,3,0,!1)),Rf.setAttribute("uv",new hc(r,2,3,!1))}this.geometry=Rf,this.material=e!==void 0?e:new C9,this.center=new fe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Pf.setFromMatrixScale(this.matrixWorld),JD.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Df.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Pf.multiplyScalar(-Df.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;zg(Qg.set(-.5,-.5,0),Df,o,Pf,i,s),zg(ap.set(.5,-.5,0),Df,o,Pf,i,s),zg(Hg.set(.5,.5,0),Df,o,Pf,i,s),Ow.set(0,0),u6.set(1,0),Nw.set(1,1);let a=e.ray.intersectTriangle(Qg,ap,Hg,!1,sp);if(a===null&&(zg(ap.set(-.5,.5,0),Df,o,Pf,i,s),u6.set(0,1),a=e.ray.intersectTriangle(Qg,Hg,ap,!1,sp),a===null))return;const l=e.ray.origin.distanceTo(sp);l<e.near||l>e.far||n.push({distance:l,point:sp.clone(),uv:Mi.getInterpolation(sp,Qg,ap,Hg,Ow,u6,Nw,new fe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function zg(t,e,n,r,i,s){Lf.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(op.x=s*Lf.x-i*Lf.y,op.y=i*Lf.x+s*Lf.y):op.copy(Lf),t.copy(e),t.x+=op.x,t.y+=op.y,t.applyMatrix4(JD)}const Vg=new O,kw=new O;class YD extends jt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Vg.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Vg);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Vg.setFromMatrixPosition(e.matrixWorld),kw.setFromMatrixPosition(this.matrixWorld);const r=Vg.distanceTo(kw)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const Uw=new O,Gw=new Wt,Qw=new Wt,rJ=new O,Hw=new et,Ff=new O,f6=new Qs,zw=new et,h6=new ld;class S9 extends sn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new et,this.bindMatrixInverse=new et,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Eo),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Ff.fromBufferAttribute(n,r),this.applyBoneTransform(r,Ff),this.boundingBox.expandByPoint(Ff)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Qs),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Ff.fromBufferAttribute(n,r),this.applyBoneTransform(r,Ff),this.boundingSphere.expandByPoint(Ff)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),f6.copy(this.boundingSphere),f6.applyMatrix4(i),e.ray.intersectsSphere(f6)!==!1&&(zw.copy(i).invert(),h6.copy(e.ray).applyMatrix4(zw),!(this.boundingBox!==null&&h6.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,h6)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Wt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;Gw.fromBufferAttribute(i.attributes.skinIndex,e),Qw.fromBufferAttribute(i.attributes.skinWeight,e),Uw.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=Qw.getComponent(s);if(o!==0){const a=Gw.getComponent(s);Hw.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(rJ.copy(Uw).applyMatrix4(Hw),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class sv extends jt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yo extends Mn{constructor(e=null,n=1,r=1,i,s,o,a,l,c=_t,u=_t,h,d){super(null,o,a,l,c,u,i,s,h,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Vw=new et,iJ=new et;class I3{constructor(e=[],n=[]){this.uuid=qi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new et)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new et;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:iJ;Vw.multiplyMatrices(a,n[s]),Vw.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new I3(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=FD(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Yo(n,e,e,Yn,pi);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new sv),this.bones.push(o),this.boneInverses.push(new et().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Hh extends tn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Of=new et,Ww=new et,Wg=[],$w=new Eo,sJ=new et,lp=new sn,cp=new Qs;class _9 extends sn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Hh(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,sJ)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Eo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Of),$w.copy(e.boundingBox).applyMatrix4(Of),this.boundingBox.union($w)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Qs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Of),cp.copy(e.boundingSphere).applyMatrix4(Of),this.boundingSphere.union(cp)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(lp.geometry=this.geometry,lp.material=this.material,lp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),cp.copy(this.boundingSphere),cp.applyMatrix4(r),e.ray.intersectsSphere(cp)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Of),Ww.multiplyMatrices(r,Of),lp.matrixWorld=Ww,lp.raycast(e,Wg);for(let o=0,a=Wg.length;o<a;o++){const l=Wg[o];l.instanceId=s,l.object=this,n.push(l)}Wg.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Hh(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ri extends fr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new be(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const jw=new O,Kw=new O,Jw=new et,d6=new ld,$g=new Qs;class Xa extends jt{constructor(e=new It,n=new ri){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)jw.fromBufferAttribute(n,i-1),Kw.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=jw.distanceTo(Kw);e.setAttribute("lineDistance",new rt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$g.copy(r.boundingSphere),$g.applyMatrix4(i),$g.radius+=s,e.ray.intersectsSphere($g)===!1)return;Jw.copy(i).invert(),d6.copy(e.ray).applyMatrix4(Jw);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new O,u=new O,h=new O,d=new O,m=this.isLineSegments?2:1,A=r.index,E=r.attributes.position;if(A!==null){const g=Math.max(0,o.start),y=Math.min(A.count,o.start+o.count);for(let v=g,S=y-1;v<S;v+=m){const w=A.getX(v),T=A.getX(v+1);if(c.fromBufferAttribute(E,w),u.fromBufferAttribute(E,T),d6.distanceSqToSegment(c,u,d,h)>l)continue;d.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(d);P<e.near||P>e.far||n.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),y=Math.min(E.count,o.start+o.count);for(let v=g,S=y-1;v<S;v+=m){if(c.fromBufferAttribute(E,v),u.fromBufferAttribute(E,v+1),d6.distanceSqToSegment(c,u,d,h)>l)continue;d.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(d);T<e.near||T>e.far||n.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const Xw=new O,Yw=new O;class xo extends Xa{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)Xw.fromBufferAttribute(n,i),Yw.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Xw.distanceTo(Yw);e.setAttribute("lineDistance",new rt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class w9 extends Xa{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class ov extends fr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const qw=new et,H4=new ld,jg=new Qs,Kg=new O;class av extends jt{constructor(e=new It,n=new ov){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),jg.copy(r.boundingSphere),jg.applyMatrix4(i),jg.radius+=s,e.ray.intersectsSphere(jg)===!1)return;qw.copy(i).invert(),H4.copy(e.ray).applyMatrix4(qw);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,h=r.attributes.position;if(c!==null){const d=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let A=d,x=m;A<x;A++){const E=c.getX(A);Kg.fromBufferAttribute(h,E),Zw(Kg,E,l,i,e,n,this)}}else{const d=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let A=d,x=m;A<x;A++)Kg.fromBufferAttribute(h,A),Zw(Kg,A,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Zw(t,e,n,r,i,s,o){const a=H4.distanceSqToPoint(t);if(a<n){const l=new O;H4.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class oJ extends Mn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:fn,this.magFilter=s!==void 0?s:fn,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class aJ extends Mn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=_t,this.minFilter=_t,this.generateMipmaps=!1,this.needsUpdate=!0}}class dc extends Mn{constructor(e,n,r,i,s,o,a,l,c,u,h,d){super(null,o,a,l,c,u,i,s,h,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}let lJ=class extends dc{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=On}};class cJ extends dc{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Ja),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class uJ extends Mn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Co{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],d=r[i+1]-u,m=(o-u)/d;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new fe:new O);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new O,i=[],s=[],o=[],a=new O,l=new et;for(let m=0;m<=e;m++){const A=m/e;i[m]=this.getTangentAt(A,new O)}s[0]=new O,o[0]=new O;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),h=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),d<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const A=Math.acos(Jn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,A))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Jn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let A=1;A<=e;A++)s[A].applyMatrix4(l.makeRotationAxis(i[A],m*A)),o[A].crossVectors(i[A],s[A])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class lv extends Co{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new fe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=l-this.aX,m=c-this.aY;l=d*u-m*h+this.aX,c=d*h+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class qD extends lv{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function I9(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+h)+(l-a)/h;d*=u,m*=u,i(o,a,d,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const Jg=new O,p6=new I9,m6=new I9,g6=new I9;class ZD extends Co{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new O){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(Jg.subVectors(i[0],i[1]).add(i[0]),c=Jg);const h=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(Jg.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=Jg),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let A=Math.pow(c.distanceToSquared(h),m),x=Math.pow(h.distanceToSquared(d),m),E=Math.pow(d.distanceToSquared(u),m);x<1e-4&&(x=1),A<1e-4&&(A=x),E<1e-4&&(E=x),p6.initNonuniformCatmullRom(c.x,h.x,d.x,u.x,A,x,E),m6.initNonuniformCatmullRom(c.y,h.y,d.y,u.y,A,x,E),g6.initNonuniformCatmullRom(c.z,h.z,d.z,u.z,A,x,E)}else this.curveType==="catmullrom"&&(p6.initCatmullRom(c.x,h.x,d.x,u.x,this.tension),m6.initCatmullRom(c.y,h.y,d.y,u.y,this.tension),g6.initCatmullRom(c.z,h.z,d.z,u.z,this.tension));return r.set(p6.calc(l),m6.calc(l),g6.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new O().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function eI(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function fJ(t,e){const n=1-t;return n*n*e}function hJ(t,e){return 2*(1-t)*t*e}function dJ(t,e){return t*t*e}function qp(t,e,n,r){return fJ(t,e)+hJ(t,n)+dJ(t,r)}function pJ(t,e){const n=1-t;return n*n*n*e}function mJ(t,e){const n=1-t;return 3*n*n*t*e}function gJ(t,e){return 3*(1-t)*t*t*e}function AJ(t,e){return t*t*t*e}function Zp(t,e,n,r,i){return pJ(t,e)+mJ(t,n)+gJ(t,r)+AJ(t,i)}class T9 extends Co{constructor(e=new fe,n=new fe,r=new fe,i=new fe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new fe){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Zp(e,i.x,s.x,o.x,a.x),Zp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eL extends Co{constructor(e=new O,n=new O,r=new O,i=new O){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new O){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Zp(e,i.x,s.x,o.x,a.x),Zp(e,i.y,s.y,o.y,a.y),Zp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cv extends Co{constructor(e=new fe,n=new fe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new fe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new fe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tL extends Co{constructor(e=new O,n=new O){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new O){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new O){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class M9 extends Co{constructor(e=new fe,n=new fe,r=new fe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new fe){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(qp(e,i.x,s.x,o.x),qp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class b9 extends Co{constructor(e=new O,n=new O,r=new O){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new O){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(qp(e,i.x,s.x,o.x),qp(e,i.y,s.y,o.y),qp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class B9 extends Co{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new fe){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(eI(a,l.x,c.x,u.x,h.x),eI(a,l.y,c.y,u.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new fe().fromArray(i))}return this}}var R9=Object.freeze({__proto__:null,ArcCurve:qD,CatmullRomCurve3:ZD,CubicBezierCurve:T9,CubicBezierCurve3:eL,EllipseCurve:lv,LineCurve:cv,LineCurve3:tL,QuadraticBezierCurve:M9,QuadraticBezierCurve3:b9,SplineCurve:B9});class nL extends Co{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new cv(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new R9[i.type]().fromJSON(i))}return this}}let W0=class extends nL{constructor(e){super(),this.type="Path",this.currentPoint=new fe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new cv(this.currentPoint.clone(),new fe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new M9(this.currentPoint.clone(),new fe(e,n),new fe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new T9(this.currentPoint.clone(),new fe(e,n),new fe(r,i),new fe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new B9(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new lv(e,n,r,i,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class T3 extends It{constructor(e=[new fe(0,-.5),new fe(.5,0),new fe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Jn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,h=new O,d=new fe,m=new O,A=new O,x=new O;let E=0,g=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:E=e[y+1].x-e[y].x,g=e[y+1].y-e[y].y,m.x=g*1,m.y=-E,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:E=e[y+1].x-e[y].x,g=e[y+1].y-e[y].y,m.x=g*1,m.y=-E,m.z=g*0,A.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(A)}for(let y=0;y<=n;y++){const v=r+y*u*i,S=Math.sin(v),w=Math.cos(v);for(let T=0;T<=e.length-1;T++){h.x=e[T].x*S,h.y=e[T].y,h.z=e[T].x*w,o.push(h.x,h.y,h.z),d.x=y/n,d.y=T/(e.length-1),a.push(d.x,d.y);const M=l[3*T+0]*S,P=l[3*T+1],b=l[3*T+0]*w;c.push(M,P,b)}}for(let y=0;y<n;y++)for(let v=0;v<e.length-1;v++){const S=v+y*e.length,w=S,T=S+e.length,M=S+e.length+1,P=S+1;s.push(w,T,P),s.push(M,P,T)}this.setIndex(s),this.setAttribute("position",new rt(o,3)),this.setAttribute("uv",new rt(a,2)),this.setAttribute("normal",new rt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new T3(e.points,e.segments,e.phiStart,e.phiLength)}}class uv extends T3{constructor(e=1,n=1,r=4,i=8){const s=new W0;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new uv(e.radius,e.length,e.capSegments,e.radialSegments)}}class fv extends It{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new O,u=new fe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,d=3;h<=n;h++,d+=3){const m=r+h/n*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[d]/e+1)/2,u.y=(o[d+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new rt(o,3)),this.setAttribute("normal",new rt(a,3)),this.setAttribute("uv",new rt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class hd extends It{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],h=[],d=[],m=[];let A=0;const x=[],E=r/2;let g=0;y(),o===!1&&(e>0&&v(!0),n>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new rt(h,3)),this.setAttribute("normal",new rt(d,3)),this.setAttribute("uv",new rt(m,2));function y(){const S=new O,w=new O;let T=0;const M=(n-e)/r;for(let P=0;P<=s;P++){const b=[],B=P/s,L=B*(n-e)+e;for(let H=0;H<=i;H++){const U=H/i,V=U*l+a,W=Math.sin(V),q=Math.cos(V);w.x=L*W,w.y=-B*r+E,w.z=L*q,h.push(w.x,w.y,w.z),S.set(W,M,q).normalize(),d.push(S.x,S.y,S.z),m.push(U,1-B),b.push(A++)}x.push(b)}for(let P=0;P<i;P++)for(let b=0;b<s;b++){const B=x[b][P],L=x[b+1][P],H=x[b+1][P+1],U=x[b][P+1];u.push(B,L,U),u.push(L,H,U),T+=6}c.addGroup(g,T,0),g+=T}function v(S){const w=A,T=new fe,M=new O;let P=0;const b=S===!0?e:n,B=S===!0?1:-1;for(let H=1;H<=i;H++)h.push(0,E*B,0),d.push(0,B,0),m.push(.5,.5),A++;const L=A;for(let H=0;H<=i;H++){const V=H/i*l+a,W=Math.cos(V),q=Math.sin(V);M.x=b*q,M.y=E*B,M.z=b*W,h.push(M.x,M.y,M.z),d.push(0,B,0),T.x=W*.5+.5,T.y=q*.5*B+.5,m.push(T.x,T.y),A++}for(let H=0;H<i;H++){const U=w+H,V=L+H;S===!0?u.push(V,V+1,U):u.push(V+1,V,U),P+=3}c.addGroup(g,P,S===!0?1:2),g+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hv extends hd{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new hv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Mc extends It{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new rt(s,3)),this.setAttribute("normal",new rt(s.slice(),3)),this.setAttribute("uv",new rt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(y){const v=new O,S=new O,w=new O;for(let T=0;T<n.length;T+=3)m(n[T+0],v),m(n[T+1],S),m(n[T+2],w),l(v,S,w,y)}function l(y,v,S,w){const T=w+1,M=[];for(let P=0;P<=T;P++){M[P]=[];const b=y.clone().lerp(S,P/T),B=v.clone().lerp(S,P/T),L=T-P;for(let H=0;H<=L;H++)H===0&&P===T?M[P][H]=b:M[P][H]=b.clone().lerp(B,H/L)}for(let P=0;P<T;P++)for(let b=0;b<2*(T-P)-1;b++){const B=Math.floor(b/2);b%2===0?(d(M[P][B+1]),d(M[P+1][B]),d(M[P][B])):(d(M[P][B+1]),d(M[P+1][B+1]),d(M[P+1][B]))}}function c(y){const v=new O;for(let S=0;S<s.length;S+=3)v.x=s[S+0],v.y=s[S+1],v.z=s[S+2],v.normalize().multiplyScalar(y),s[S+0]=v.x,s[S+1]=v.y,s[S+2]=v.z}function u(){const y=new O;for(let v=0;v<s.length;v+=3){y.x=s[v+0],y.y=s[v+1],y.z=s[v+2];const S=E(y)/2/Math.PI+.5,w=g(y)/Math.PI+.5;o.push(S,1-w)}A(),h()}function h(){for(let y=0;y<o.length;y+=6){const v=o[y+0],S=o[y+2],w=o[y+4],T=Math.max(v,S,w),M=Math.min(v,S,w);T>.9&&M<.1&&(v<.2&&(o[y+0]+=1),S<.2&&(o[y+2]+=1),w<.2&&(o[y+4]+=1))}}function d(y){s.push(y.x,y.y,y.z)}function m(y,v){const S=y*3;v.x=e[S+0],v.y=e[S+1],v.z=e[S+2]}function A(){const y=new O,v=new O,S=new O,w=new O,T=new fe,M=new fe,P=new fe;for(let b=0,B=0;b<s.length;b+=9,B+=6){y.set(s[b+0],s[b+1],s[b+2]),v.set(s[b+3],s[b+4],s[b+5]),S.set(s[b+6],s[b+7],s[b+8]),T.set(o[B+0],o[B+1]),M.set(o[B+2],o[B+3]),P.set(o[B+4],o[B+5]),w.copy(y).add(v).add(S).divideScalar(3);const L=E(w);x(T,B+0,y,L),x(M,B+2,v,L),x(P,B+4,S,L)}}function x(y,v,S,w){w<0&&y.x===1&&(o[v]=y.x-1),S.x===0&&S.z===0&&(o[v]=w/2/Math.PI+.5)}function E(y){return Math.atan2(y.z,-y.x)}function g(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mc(e.vertices,e.indices,e.radius,e.details)}}class dv extends Mc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new dv(e.radius,e.detail)}}const Xg=new O,Yg=new O,A6=new O,qg=new Mi;class rL extends It{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Su*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),d={},m=[];for(let A=0;A<l;A+=3){o?(c[0]=o.getX(A),c[1]=o.getX(A+1),c[2]=o.getX(A+2)):(c[0]=A,c[1]=A+1,c[2]=A+2);const{a:x,b:E,c:g}=qg;if(x.fromBufferAttribute(a,c[0]),E.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),qg.getNormal(A6),h[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[1]=`${Math.round(E.x*i)},${Math.round(E.y*i)},${Math.round(E.z*i)}`,h[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let y=0;y<3;y++){const v=(y+1)%3,S=h[y],w=h[v],T=qg[u[y]],M=qg[u[v]],P=`${S}_${w}`,b=`${w}_${S}`;b in d&&d[b]?(A6.dot(d[b].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(M.x,M.y,M.z)),d[b]=null):P in d||(d[P]={index0:c[y],index1:c[v],normal:A6.clone()})}}for(const A in d)if(d[A]){const{index0:x,index1:E}=d[A];Xg.fromBufferAttribute(a,x),Yg.fromBufferAttribute(a,E),m.push(Xg.x,Xg.y,Xg.z),m.push(Yg.x,Yg.y,Yg.z)}this.setAttribute("position",new rt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class wu extends W0{constructor(e){super(e),this.uuid=qi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new W0().fromJSON(i))}return this}}const vJ={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=iL(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,d,m;if(r&&(s=SJ(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let A=n;A<i;A+=n)h=t[A],d=t[A+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return $0(s,o,n,a,l,m,0),o}};function iL(t,e,n,r,i){let s,o;if(i===LJ(t,e,n,r)>0)for(s=e;s<n;s+=r)o=tI(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=tI(s,t[s],t[s+1],o);return o&&pv(o,o.next)&&(K0(o),o=o.next),o}function Lu(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(pv(n,n.next)||kn(n.prev,n,n.next)===0)){if(K0(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function $0(t,e,n,r,i,s,o){if(!t)return;!o&&s&&MJ(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?EJ(t,r,i,s):yJ(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),K0(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=xJ(Lu(t),e,n),$0(t,e,n,r,i,s,2)):o===2&&CJ(t,e,n,r,i,s):$0(Lu(t),e,n,r,i,s,1);break}}}function yJ(t){const e=t.prev,n=t,r=t.next;if(kn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,d=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let A=r.next;for(;A!==e;){if(A.x>=u&&A.x<=d&&A.y>=h&&A.y<=m&&ah(i,a,s,l,o,c,A.x,A.y)&&kn(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function EJ(t,e,n,r){const i=t.prev,s=t,o=t.next;if(kn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,h=s.y,d=o.y,m=a<l?a<c?a:c:l<c?l:c,A=u<h?u<d?u:d:h<d?h:d,x=a>l?a>c?a:c:l>c?l:c,E=u>h?u>d?u:d:h>d?h:d,g=z4(m,A,e,n,r),y=z4(x,E,e,n,r);let v=t.prevZ,S=t.nextZ;for(;v&&v.z>=g&&S&&S.z<=y;){if(v.x>=m&&v.x<=x&&v.y>=A&&v.y<=E&&v!==i&&v!==o&&ah(a,u,l,h,c,d,v.x,v.y)&&kn(v.prev,v,v.next)>=0||(v=v.prevZ,S.x>=m&&S.x<=x&&S.y>=A&&S.y<=E&&S!==i&&S!==o&&ah(a,u,l,h,c,d,S.x,S.y)&&kn(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;v&&v.z>=g;){if(v.x>=m&&v.x<=x&&v.y>=A&&v.y<=E&&v!==i&&v!==o&&ah(a,u,l,h,c,d,v.x,v.y)&&kn(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;S&&S.z<=y;){if(S.x>=m&&S.x<=x&&S.y>=A&&S.y<=E&&S!==i&&S!==o&&ah(a,u,l,h,c,d,S.x,S.y)&&kn(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function xJ(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!pv(i,s)&&sL(i,r,r.next,s)&&j0(i,s)&&j0(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),K0(r),K0(r.next),r=t=s),r=r.next}while(r!==t);return Lu(r)}function CJ(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&RJ(o,a)){let l=oL(o,a);o=Lu(o,o.next),l=Lu(l,l.next),$0(o,e,n,r,i,s,0),$0(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function SJ(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=iL(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(BJ(c));for(i.sort(_J),s=0;s<i.length;s++)n=wJ(i[s],n);return n}function _J(t,e){return t.x-e.x}function wJ(t,e){const n=IJ(t,e);if(!n)return e;const r=oL(n,t);return Lu(r,r.next),Lu(n,n.next)}function IJ(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const d=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=s&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,h;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&ah(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(s-n.x),j0(n,t)&&(h<u||h===u&&(n.x>i.x||n.x===i.x&&TJ(i,n)))&&(i=n,u=h)),n=n.next;while(n!==a);return i}function TJ(t,e){return kn(t.prev,t,e.prev)<0&&kn(e.next,t,t.next)<0}function MJ(t,e,n,r){let i=t;do i.z===0&&(i.z=z4(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,bJ(i)}function bJ(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function z4(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function BJ(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ah(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function RJ(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!PJ(t,e)&&(j0(t,e)&&j0(e,t)&&DJ(t,e)&&(kn(t.prev,t,e.prev)||kn(t,e.prev,e))||pv(t,e)&&kn(t.prev,t,t.next)>0&&kn(e.prev,e,e.next)>0)}function kn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function pv(t,e){return t.x===e.x&&t.y===e.y}function sL(t,e,n,r){const i=eA(kn(t,e,n)),s=eA(kn(t,e,r)),o=eA(kn(n,r,t)),a=eA(kn(n,r,e));return!!(i!==s&&o!==a||i===0&&Zg(t,n,e)||s===0&&Zg(t,r,e)||o===0&&Zg(n,t,r)||a===0&&Zg(n,e,r))}function Zg(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function eA(t){return t>0?1:t<0?-1:0}function PJ(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&sL(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function j0(t,e){return kn(t.prev,t,t.next)<0?kn(t,e,t.next)>=0&&kn(t,t.prev,e)>=0:kn(t,e,t.prev)<0||kn(t,t.next,e)<0}function DJ(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function oL(t,e){const n=new V4(t.i,t.x,t.y),r=new V4(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function tI(t,e,n,r){const i=new V4(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function K0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function V4(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function LJ(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class qo{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return qo.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];nI(e),rI(r,e);let o=e.length;n.forEach(nI);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,rI(r,n[l]);const a=vJ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function nI(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function rI(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class mv extends It{constructor(e=new wu([new fe(.5,.5),new fe(-.5,.5),new fe(-.5,-.5),new fe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new rt(i,3)),this.setAttribute("uv",new rt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,A=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,E=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,y=n.UVGenerator!==void 0?n.UVGenerator:FJ;let v,S=!1,w,T,M,P;g&&(v=g.getSpacedPoints(u),S=!0,d=!1,w=g.computeFrenetFrames(u,!1),T=new O,M=new O,P=new O),d||(E=0,m=0,A=0,x=0);const b=a.extractPoints(c);let B=b.shape;const L=b.holes;if(!qo.isClockWise(B)){B=B.reverse();for(let j=0,Ae=L.length;j<Ae;j++){const ue=L[j];qo.isClockWise(ue)&&(L[j]=ue.reverse())}}const U=qo.triangulateShape(B,L),V=B;for(let j=0,Ae=L.length;j<Ae;j++){const ue=L[j];B=B.concat(ue)}function W(j,Ae,ue){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),j.clone().addScaledVector(Ae,ue)}const q=B.length,Y=U.length;function k(j,Ae,ue){let _e,Ee,Qe;const Oe=j.x-Ae.x,ke=j.y-Ae.y,qe=ue.x-j.x,xt=ue.y-j.y,Yt=Oe*Oe+ke*ke,N=Oe*xt-ke*qe;if(Math.abs(N)>Number.EPSILON){const F=Math.sqrt(Yt),ne=Math.sqrt(qe*qe+xt*xt),Ce=Ae.x-ke/F,ve=Ae.y+Oe/F,Ie=ue.x-xt/ne,ze=ue.y+qe/ne,Te=((Ie-Ce)*xt-(ze-ve)*qe)/(Oe*xt-ke*qe);_e=Ce+Oe*Te-j.x,Ee=ve+ke*Te-j.y;const oe=_e*_e+Ee*Ee;if(oe<=2)return new fe(_e,Ee);Qe=Math.sqrt(oe/2)}else{let F=!1;Oe>Number.EPSILON?qe>Number.EPSILON&&(F=!0):Oe<-Number.EPSILON?qe<-Number.EPSILON&&(F=!0):Math.sign(ke)===Math.sign(xt)&&(F=!0),F?(_e=-ke,Ee=Oe,Qe=Math.sqrt(Yt)):(_e=Oe,Ee=ke,Qe=Math.sqrt(Yt/2))}return new fe(_e/Qe,Ee/Qe)}const K=[];for(let j=0,Ae=V.length,ue=Ae-1,_e=j+1;j<Ae;j++,ue++,_e++)ue===Ae&&(ue=0),_e===Ae&&(_e=0),K[j]=k(V[j],V[ue],V[_e]);const $=[];let G,X=K.concat();for(let j=0,Ae=L.length;j<Ae;j++){const ue=L[j];G=[];for(let _e=0,Ee=ue.length,Qe=Ee-1,Oe=_e+1;_e<Ee;_e++,Qe++,Oe++)Qe===Ee&&(Qe=0),Oe===Ee&&(Oe=0),G[_e]=k(ue[_e],ue[Qe],ue[Oe]);$.push(G),X=X.concat(G)}for(let j=0;j<E;j++){const Ae=j/E,ue=m*Math.cos(Ae*Math.PI/2),_e=A*Math.sin(Ae*Math.PI/2)+x;for(let Ee=0,Qe=V.length;Ee<Qe;Ee++){const Oe=W(V[Ee],K[Ee],_e);we(Oe.x,Oe.y,-ue)}for(let Ee=0,Qe=L.length;Ee<Qe;Ee++){const Oe=L[Ee];G=$[Ee];for(let ke=0,qe=Oe.length;ke<qe;ke++){const xt=W(Oe[ke],G[ke],_e);we(xt.x,xt.y,-ue)}}}const le=A+x;for(let j=0;j<q;j++){const Ae=d?W(B[j],X[j],le):B[j];S?(M.copy(w.normals[0]).multiplyScalar(Ae.x),T.copy(w.binormals[0]).multiplyScalar(Ae.y),P.copy(v[0]).add(M).add(T),we(P.x,P.y,P.z)):we(Ae.x,Ae.y,0)}for(let j=1;j<=u;j++)for(let Ae=0;Ae<q;Ae++){const ue=d?W(B[Ae],X[Ae],le):B[Ae];S?(M.copy(w.normals[j]).multiplyScalar(ue.x),T.copy(w.binormals[j]).multiplyScalar(ue.y),P.copy(v[j]).add(M).add(T),we(P.x,P.y,P.z)):we(ue.x,ue.y,h/u*j)}for(let j=E-1;j>=0;j--){const Ae=j/E,ue=m*Math.cos(Ae*Math.PI/2),_e=A*Math.sin(Ae*Math.PI/2)+x;for(let Ee=0,Qe=V.length;Ee<Qe;Ee++){const Oe=W(V[Ee],K[Ee],_e);we(Oe.x,Oe.y,h+ue)}for(let Ee=0,Qe=L.length;Ee<Qe;Ee++){const Oe=L[Ee];G=$[Ee];for(let ke=0,qe=Oe.length;ke<qe;ke++){const xt=W(Oe[ke],G[ke],_e);S?we(xt.x,xt.y+v[u-1].y,v[u-1].x+ue):we(xt.x,xt.y,h+ue)}}}pe(),ye();function pe(){const j=i.length/3;if(d){let Ae=0,ue=q*Ae;for(let _e=0;_e<Y;_e++){const Ee=U[_e];Me(Ee[2]+ue,Ee[1]+ue,Ee[0]+ue)}Ae=u+E*2,ue=q*Ae;for(let _e=0;_e<Y;_e++){const Ee=U[_e];Me(Ee[0]+ue,Ee[1]+ue,Ee[2]+ue)}}else{for(let Ae=0;Ae<Y;Ae++){const ue=U[Ae];Me(ue[2],ue[1],ue[0])}for(let Ae=0;Ae<Y;Ae++){const ue=U[Ae];Me(ue[0]+q*u,ue[1]+q*u,ue[2]+q*u)}}r.addGroup(j,i.length/3-j,0)}function ye(){const j=i.length/3;let Ae=0;Se(V,Ae),Ae+=V.length;for(let ue=0,_e=L.length;ue<_e;ue++){const Ee=L[ue];Se(Ee,Ae),Ae+=Ee.length}r.addGroup(j,i.length/3-j,1)}function Se(j,Ae){let ue=j.length;for(;--ue>=0;){const _e=ue;let Ee=ue-1;Ee<0&&(Ee=j.length-1);for(let Qe=0,Oe=u+E*2;Qe<Oe;Qe++){const ke=q*Qe,qe=q*(Qe+1),xt=Ae+_e+ke,Yt=Ae+Ee+ke,N=Ae+Ee+qe,F=Ae+_e+qe;Ve(xt,Yt,N,F)}}}function we(j,Ae,ue){l.push(j),l.push(Ae),l.push(ue)}function Me(j,Ae,ue){We(j),We(Ae),We(ue);const _e=i.length/3,Ee=y.generateTopUV(r,i,_e-3,_e-2,_e-1);xe(Ee[0]),xe(Ee[1]),xe(Ee[2])}function Ve(j,Ae,ue,_e){We(j),We(Ae),We(_e),We(Ae),We(ue),We(_e);const Ee=i.length/3,Qe=y.generateSideWallUV(r,i,Ee-6,Ee-3,Ee-2,Ee-1);xe(Qe[0]),xe(Qe[1]),xe(Qe[3]),xe(Qe[1]),xe(Qe[2]),xe(Qe[3])}function We(j){i.push(l[j*3+0]),i.push(l[j*3+1]),i.push(l[j*3+2])}function xe(j){s.push(j.x),s.push(j.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return OJ(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new R9[i.type]().fromJSON(i)),new mv(r,e.options)}}const FJ={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new fe(s,o),new fe(a,l),new fe(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],h=e[r*3+2],d=e[i*3],m=e[i*3+1],A=e[i*3+2],x=e[s*3],E=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new fe(o,1-l),new fe(c,1-h),new fe(d,1-A),new fe(x,1-g)]:[new fe(a,1-l),new fe(u,1-h),new fe(m,1-A),new fe(E,1-g)]}};function OJ(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class gv extends Mc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new gv(e.radius,e.detail)}}class M3 extends Mc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new M3(e.radius,e.detail)}}class Av extends It{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let h=e;const d=(n-e)/i,m=new O,A=new fe;for(let x=0;x<=i;x++){for(let E=0;E<=r;E++){const g=s+E/r*o;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),A.x=(m.x/n+1)/2,A.y=(m.y/n+1)/2,u.push(A.x,A.y)}h+=d}for(let x=0;x<i;x++){const E=x*(r+1);for(let g=0;g<r;g++){const y=g+E,v=y,S=y+r+1,w=y+r+2,T=y+1;a.push(v,S,T),a.push(S,w,T)}}this.setIndex(a),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(c,3)),this.setAttribute("uv",new rt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Av(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class vv extends It{constructor(e=new wu([new fe(0,.5),new fe(-.5,-.5),new fe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new rt(i,3)),this.setAttribute("normal",new rt(s,3)),this.setAttribute("uv",new rt(o,2));function c(u){const h=i.length/3,d=u.extractPoints(n);let m=d.shape;const A=d.holes;qo.isClockWise(m)===!1&&(m=m.reverse());for(let E=0,g=A.length;E<g;E++){const y=A[E];qo.isClockWise(y)===!0&&(A[E]=y.reverse())}const x=qo.triangulateShape(m,A);for(let E=0,g=A.length;E<g;E++){const y=A[E];m=m.concat(y)}for(let E=0,g=m.length;E<g;E++){const y=m[E];i.push(y.x,y.y,0),s.push(0,0,1),o.push(y.x,y.y)}for(let E=0,g=x.length;E<g;E++){const y=x[E],v=y[0]+h,S=y[1]+h,w=y[2]+h;r.push(v,S,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return NJ(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new vv(r,e.curveSegments)}}function NJ(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class b3 extends It{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new O,d=new O,m=[],A=[],x=[],E=[];for(let g=0;g<=r;g++){const y=[],v=g/r;let S=0;g===0&&o===0?S=.5/n:g===r&&l===Math.PI&&(S=-.5/n);for(let w=0;w<=n;w++){const T=w/n;h.x=-e*Math.cos(i+T*s)*Math.sin(o+v*a),h.y=e*Math.cos(o+v*a),h.z=e*Math.sin(i+T*s)*Math.sin(o+v*a),A.push(h.x,h.y,h.z),d.copy(h).normalize(),x.push(d.x,d.y,d.z),E.push(T+S,1-v),y.push(c++)}u.push(y)}for(let g=0;g<r;g++)for(let y=0;y<n;y++){const v=u[g][y+1],S=u[g][y],w=u[g+1][y],T=u[g+1][y+1];(g!==0||o>0)&&m.push(v,S,T),(g!==r-1||l<Math.PI)&&m.push(S,w,T)}this.setIndex(m),this.setAttribute("position",new rt(A,3)),this.setAttribute("normal",new rt(x,3)),this.setAttribute("uv",new rt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b3(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class yv extends Mc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new yv(e.radius,e.detail)}}class Ev extends It{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new O,h=new O,d=new O;for(let m=0;m<=r;m++)for(let A=0;A<=i;A++){const x=A/i*s,E=m/r*Math.PI*2;h.x=(e+n*Math.cos(E))*Math.cos(x),h.y=(e+n*Math.cos(E))*Math.sin(x),h.z=n*Math.sin(E),a.push(h.x,h.y,h.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),d.subVectors(h,u).normalize(),l.push(d.x,d.y,d.z),c.push(A/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let A=1;A<=i;A++){const x=(i+1)*m+A-1,E=(i+1)*(m-1)+A-1,g=(i+1)*(m-1)+A,y=(i+1)*m+A;o.push(x,E,y),o.push(E,g,y)}this.setIndex(o),this.setAttribute("position",new rt(a,3)),this.setAttribute("normal",new rt(l,3)),this.setAttribute("uv",new rt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ev(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class xv extends It{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],h=new O,d=new O,m=new O,A=new O,x=new O,E=new O,g=new O;for(let v=0;v<=r;++v){const S=v/r*s*Math.PI*2;y(S,s,o,e,m),y(S+.01,s,o,e,A),E.subVectors(A,m),g.addVectors(A,m),x.crossVectors(E,g),g.crossVectors(x,E),x.normalize(),g.normalize();for(let w=0;w<=i;++w){const T=w/i*Math.PI*2,M=-n*Math.cos(T),P=n*Math.sin(T);h.x=m.x+(M*g.x+P*x.x),h.y=m.y+(M*g.y+P*x.y),h.z=m.z+(M*g.z+P*x.z),l.push(h.x,h.y,h.z),d.subVectors(h,m).normalize(),c.push(d.x,d.y,d.z),u.push(v/r),u.push(w/i)}}for(let v=1;v<=r;v++)for(let S=1;S<=i;S++){const w=(i+1)*(v-1)+(S-1),T=(i+1)*v+(S-1),M=(i+1)*v+S,P=(i+1)*(v-1)+S;a.push(w,T,P),a.push(T,M,P)}this.setIndex(a),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(c,3)),this.setAttribute("uv",new rt(u,2));function y(v,S,w,T,M){const P=Math.cos(v),b=Math.sin(v),B=w/S*v,L=Math.cos(B);M.x=T*(2+L)*.5*P,M.y=T*(2+L)*b*.5,M.z=T*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Cv extends It{constructor(e=new b9(new O(-1,-1,0),new O(-1,1,0),new O(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new O,l=new O,c=new fe;let u=new O;const h=[],d=[],m=[],A=[];x(),this.setIndex(A),this.setAttribute("position",new rt(h,3)),this.setAttribute("normal",new rt(d,3)),this.setAttribute("uv",new rt(m,2));function x(){for(let v=0;v<n;v++)E(v);E(s===!1?n:0),y(),g()}function E(v){u=e.getPointAt(v/n,u);const S=o.normals[v],w=o.binormals[v];for(let T=0;T<=i;T++){const M=T/i*Math.PI*2,P=Math.sin(M),b=-Math.cos(M);l.x=b*S.x+P*w.x,l.y=b*S.y+P*w.y,l.z=b*S.z+P*w.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let v=1;v<=n;v++)for(let S=1;S<=i;S++){const w=(i+1)*(v-1)+(S-1),T=(i+1)*v+(S-1),M=(i+1)*v+S,P=(i+1)*(v-1)+S;A.push(w,T,P),A.push(T,M,P)}}function y(){for(let v=0;v<=n;v++)for(let S=0;S<=i;S++)c.x=v/n,c.y=S/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Cv(new R9[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class aL extends It{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new O,s=new O;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],d=h.start,m=h.count;for(let A=d,x=d+m;A<x;A+=3)for(let E=0;E<3;E++){const g=a.getX(A+E),y=a.getX(A+(E+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,y),iI(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,h),iI(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new rt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function iI(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var sI=Object.freeze({__proto__:null,BoxGeometry:Tc,CapsuleGeometry:uv,CircleGeometry:fv,ConeGeometry:hv,CylinderGeometry:hd,DodecahedronGeometry:dv,EdgesGeometry:rL,ExtrudeGeometry:mv,IcosahedronGeometry:gv,LatheGeometry:T3,OctahedronGeometry:M3,PlaneGeometry:cd,PolyhedronGeometry:Mc,RingGeometry:Av,ShapeGeometry:vv,SphereGeometry:b3,TetrahedronGeometry:yv,TorusGeometry:Ev,TorusKnotGeometry:xv,TubeGeometry:Cv,WireframeGeometry:aL});class lL extends fr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new be(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class e0 extends Jt{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class dd extends fr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ic,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aa extends dd{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new fe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Jn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new be(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class cL extends fr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new be(16777215),this.specular=new be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ic,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=E3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bi extends fr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new be(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ic,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class B3 extends fr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ic,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class uL extends fr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ic,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=E3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fL extends fr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new be(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ic,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hL extends ri{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Es(t,e,n){return P9(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function vu(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function P9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dL(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function W4(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function D9(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function kJ(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],d=[];for(let m=0;m<c.times.length;++m){const A=c.times[m]*i;if(!(A<n||A>=r)){h.push(c.times[m]);for(let x=0;x<u;++x)d.push(c.values[m*u+x])}}h.length!==0&&(c.times=vu(h,c.times.constructor),c.values=vu(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function UJ(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let d=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const A=a.times.length-1;let x;if(s<=a.times[0]){const g=u,y=h-u;x=Es(a.values,g,y)}else if(s>=a.times[A]){const g=A*h+u,y=g+h-u;x=Es(a.values,g,y)}else{const g=a.createInterpolant(),y=u,v=h-u;g.evaluate(s),x=Es(g.resultBuffer,y,v)}l==="quaternion"&&new ur().fromArray(x).normalize().conjugate().toArray(x);const E=c.times.length;for(let g=0;g<E;++g){const y=g*m+d;if(l==="quaternion")ur.multiplyQuaternionsFlat(c.values,y,x,0,c.values,y);else{const v=m-d*2;for(let S=0;S<v;++S)c.values[y+S]-=x[S]}}}return t.blendMode=c9,t}const GJ={arraySlice:Es,convertArray:vu,isTypedArray:P9,getKeyframeOrder:dL,sortedArray:W4,flattenJSON:D9,subclip:kJ,makeClipAdditive:UJ};class pd{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class pL extends pd{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:mu,endingEnd:mu}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case gu:s=e,a=2*n-r;break;case Q0:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case gu:o=e,l=2*r-n;break;case Q0:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,m=this._weightNext,A=(r-n)/(i-n),x=A*A,E=x*A,g=-d*E+2*d*x-d*A,y=(1+d)*E+(-1.5-2*d)*x+(-.5+d)*A+1,v=(-1-m)*E+(1.5+m)*x+.5*A,S=m*E-m*x;for(let w=0;w!==a;++w)s[w]=g*o[u+w]+y*o[c+w]+v*o[l+w]+S*o[h+w];return s}}class L9 extends pd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),h=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*h+o[l+d]*u;return s}}class mL extends pd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class So{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=vu(n,this.TimeBufferType),this.values=vu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:vu(e.times,Array),values:vu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new mL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new L9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new pL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Uh:n=this.InterpolantFactoryMethodDiscrete;break;case Du:n=this.InterpolantFactoryMethodLinear;break;case XA:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Uh;case this.InterpolantFactoryMethodLinear:return Du;case this.InterpolantFactoryMethodSmooth:return XA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Es(r,s,o),this.values=Es(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&P9(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Es(this.times),n=Es(this.values),r=this.getValueSize(),i=this.getInterpolation()===XA,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const h=a*r,d=h-r,m=h+r;for(let A=0;A!==r;++A){const x=n[h+A];if(x!==n[d+A]||x!==n[m+A]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,d=o*r;for(let m=0;m!==r;++m)n[d+m]=n[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=Es(e,0,o),this.values=Es(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=Es(this.times,0),n=Es(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}So.prototype.TimeBufferType=Float32Array;So.prototype.ValueBufferType=Float32Array;So.prototype.DefaultInterpolation=Du;class $u extends So{}$u.prototype.ValueTypeName="bool";$u.prototype.ValueBufferType=Array;$u.prototype.DefaultInterpolation=Uh;$u.prototype.InterpolantFactoryMethodLinear=void 0;$u.prototype.InterpolantFactoryMethodSmooth=void 0;class F9 extends So{}F9.prototype.ValueTypeName="color";class zh extends So{}zh.prototype.ValueTypeName="number";class gL extends pd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)ur.slerpFlat(s,0,o,c-a,o,c,l);return s}}class pc extends So{InterpolantFactoryMethodLinear(e){return new gL(this.times,this.values,this.getValueSize(),e)}}pc.prototype.ValueTypeName="quaternion";pc.prototype.DefaultInterpolation=Du;pc.prototype.InterpolantFactoryMethodSmooth=void 0;class ju extends So{}ju.prototype.ValueTypeName="string";ju.prototype.ValueBufferType=Array;ju.prototype.DefaultInterpolation=Uh;ju.prototype.InterpolantFactoryMethodLinear=void 0;ju.prototype.InterpolantFactoryMethodSmooth=void 0;class Vh extends So{}Vh.prototype.ValueTypeName="vector";class Wh{constructor(e,n=-1,r,i=Y2){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=qi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(HJ(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(So.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=dL(l);l=W4(l,1,u),c=W4(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new zh(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let d=i[h];d||(i[h]=d=[]),d.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,d,m,A,x){if(m.length!==0){const E=[],g=[];D9(m,E,g,A),E.length!==0&&x.push(new h(d,E,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const d=c[h].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const m={};let A;for(A=0;A<d.length;A++)if(d[A].morphTargets)for(let x=0;x<d[A].morphTargets.length;x++)m[d[A].morphTargets[x]]=-1;for(const x in m){const E=[],g=[];for(let y=0;y!==d[A].morphTargets.length;++y){const v=d[A];E.push(v.time),g.push(v.morphTarget===x?1:0)}i.push(new zh(".morphTargetInfluence["+x+"]",E,g))}l=m.length*o}else{const m=".bones["+n[h].name+"]";r(Vh,m+".position",d,"pos",i),r(pc,m+".quaternion",d,"rot",i),r(Vh,m+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function QJ(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zh;case"vector":case"vector2":case"vector3":case"vector4":return Vh;case"color":return F9;case"quaternion":return pc;case"bool":case"boolean":return $u;case"string":return ju}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function HJ(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=QJ(t.type);if(t.times===void 0){const n=[],r=[];D9(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Fu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class O9{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,d=c.length;h<d;h+=2){const m=c[h],A=c[h+1];if(m.global&&(m.lastIndex=0),m.test(u))return A}return null}}}const lh=new O9;class Fr{constructor(e){this.manager=e!==void 0?e:lh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Fr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ta={};class zJ extends Error{constructor(e,n){super(e),this.response=n}}class Cr extends Fr{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Fu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Ta[e]!==void 0){Ta[e].push({onLoad:n,onProgress:r,onError:i});return}Ta[e]=[],Ta[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Ta[e],h=c.body.getReader(),d=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=d?parseInt(d):0,A=m!==0;let x=0;const E=new ReadableStream({start(g){y();function y(){h.read().then(({done:v,value:S})=>{if(v)g.close();else{x+=S.byteLength;const w=new ProgressEvent("progress",{lengthComputable:A,loaded:x,total:m});for(let T=0,M=u.length;T<M;T++){const P=u[T];P.onProgress&&P.onProgress(w)}g.enqueue(S),y()}})}}});return new Response(E)}else throw new zJ(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),d=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(d);return c.arrayBuffer().then(A=>m.decode(A))}}}).then(c=>{Fu.add(e,c);const u=Ta[e];delete Ta[e];for(let h=0,d=u.length;h<d;h++){const m=u[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Ta[e];if(u===void 0)throw this.manager.itemError(e),c;delete Ta[e];for(let h=0,d=u.length;h<d;h++){const m=u[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class VJ extends Fr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Cr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Wh.parse(e[r]);n.push(i)}return n}}class WJ extends Fr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new dc,l=new Cr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(d){const m=s.parse(d,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=fn),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let h=0,d=e.length;h<d;++h)u(h);else l.load(e,function(h){const d=s.parse(h,!0);if(d.isCubemap){const m=d.mipmaps.length/d.mipmapCount;for(let A=0;A<m;A++){o[A]={mipmaps:[]};for(let x=0;x<d.mipmapCount;x++)o[A].mipmaps.push(d.mipmaps[A*d.mipmapCount+x]),o[A].format=d.format,o[A].width=d.width,o[A].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=fn),a.format=d.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class J0 extends Fr{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Fu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=V0("img");function l(){u(),Fu.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(h){u(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class $J extends Fr{constructor(e){super(e)}load(e,n,r,i){const s=new _3;s.colorSpace=An;const o=new J0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class jJ extends Fr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Yo,a=new Cr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:On,o.wrapT=c.wrapT!==void 0?c.wrapT:On,o.magFilter=c.magFilter!==void 0?c.magFilter:fn,o.minFilter=c.minFilter!==void 0?c.minFilter:fn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ns),c.mipmapCount===1&&(o.minFilter=fn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class AL extends Fr{constructor(e){super(e)}load(e,n,r,i){const s=new Mn,o=new J0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class bc extends jt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new be(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class vL extends bc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(jt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new be(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const v6=new et,oI=new O,aI=new O;class N9{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new fe(512,512),this.map=null,this.mapPass=null,this.matrix=new et,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ev,this._frameExtents=new fe(1,1),this._viewportCount=1,this._viewports=[new Wt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;oI.setFromMatrixPosition(e.matrixWorld),n.position.copy(oI),aI.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(aI),n.updateMatrixWorld(),v6.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(v6),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(v6)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class KJ extends N9{constructor(){super(new Rn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Gh*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class k9 extends bc{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(jt.DEFAULT_UP),this.updateMatrix(),this.target=new jt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new KJ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const lI=new et,up=new O,y6=new O;class JJ extends N9{constructor(){super(new Rn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new fe(4,2),this._viewportCount=6,this._viewports=[new Wt(2,1,1,1),new Wt(0,1,1,1),new Wt(3,1,1,1),new Wt(1,1,1,1),new Wt(3,0,1,1),new Wt(1,0,1,1)],this._cubeDirections=[new O(1,0,0),new O(-1,0,0),new O(0,0,1),new O(0,0,-1),new O(0,1,0),new O(0,-1,0)],this._cubeUps=[new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,0,1),new O(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),up.setFromMatrixPosition(e.matrixWorld),r.position.copy(up),y6.copy(r.position),y6.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(y6),r.updateMatrixWorld(),i.makeTranslation(-up.x,-up.y,-up.z),lI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lI)}}class U9 extends bc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new JJ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class XJ extends N9{constructor(){super(new al(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class G9 extends bc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(jt.DEFAULT_UP),this.updateMatrix(),this.target=new jt,this.shadow=new XJ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class yL extends bc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class EL extends bc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class xL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new O)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Sv extends bc{constructor(e=new xL,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class _v extends Fr{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Cr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=_v.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new be().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new be().setHex(o.value);break;case"v2":i.uniforms[s].value=new fe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new O().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Wt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Nt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new et().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new fe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new fe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:lL,SpriteMaterial:C9,RawShaderMaterial:e0,ShaderMaterial:Jt,PointsMaterial:ov,MeshPhysicalMaterial:aa,MeshStandardMaterial:dd,MeshPhongMaterial:cL,MeshToonMaterial:bi,MeshNormalMaterial:B3,MeshLambertMaterial:uL,MeshDepthMaterial:nv,MeshDistanceMaterial:E9,MeshBasicMaterial:Pr,MeshMatcapMaterial:fL,LineDashedMaterial:hL,LineBasicMaterial:ri,Material:fr};return new n[e]}}class Zo{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class CL extends It{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class SL extends Fr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Cr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,A){if(n[A]!==void 0)return n[A];const E=m.interleavedBuffers[A],g=s(m,E.buffer),y=sh(E.type,g),v=new w3(y,E.stride);return v.uuid=E.uuid,n[A]=v,v}function s(m,A){if(r[A]!==void 0)return r[A];const E=m.arrayBuffers[A],g=new Uint32Array(E).buffer;return r[A]=g,g}const o=e.isInstancedBufferGeometry?new CL:new It,a=e.data.index;if(a!==void 0){const m=sh(a.type,a.array);o.setIndex(new tn(m,1))}const l=e.data.attributes;for(const m in l){const A=l[m];let x;if(A.isInterleavedBufferAttribute){const E=i(e.data,A.data);x=new hc(E,A.itemSize,A.offset,A.normalized)}else{const E=sh(A.type,A.array),g=A.isInstancedBufferAttribute?Hh:tn;x=new g(E,A.itemSize,A.normalized)}A.name!==void 0&&(x.name=A.name),A.usage!==void 0&&x.setUsage(A.usage),A.updateRange!==void 0&&(x.updateRange.offset=A.updateRange.offset,x.updateRange.count=A.updateRange.count),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const A=c[m],x=[];for(let E=0,g=A.length;E<g;E++){const y=A[E];let v;if(y.isInterleavedBufferAttribute){const S=i(e.data,y.data);v=new hc(S,y.itemSize,y.offset,y.normalized)}else{const S=sh(y.type,y.array);v=new tn(S,y.itemSize,y.normalized)}y.name!==void 0&&(v.name=y.name),x.push(v)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,A=h.length;m!==A;++m){const x=h[m];o.addGroup(x.start,x.count,x.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const m=new O;d.center!==void 0&&m.fromArray(d.center),o.boundingSphere=new Qs(m,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class YJ extends Fr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Zo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Cr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Zo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Cr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let h=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new wu().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new I3().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new SL;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in sI?a=sI[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new _v;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Wh.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:sh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new O9(n);s=new J0(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],d=h.url;if(Array.isArray(d)){const m=[];for(let A=0,x=d.length;A<x;A++){const E=d[A],g=a(E);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Yo(g.data,g.width,g.height)))}i[h.uuid]=new Au(m)}else{const m=a(h.url);i[h.uuid]=new Au(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:sh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new J0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,d=c.length;h<d;h++){const m=c[h],A=await s(m);A!==null&&(A instanceof HTMLImageElement?u.push(A):u.push(new Yo(A.data,A.width,A.height)))}r[l.uuid]=new Au(u)}else{const u=await s(l.url);r[l.uuid]=new Au(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new _3,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Yo:u=new Mn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,qJ)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],cI),u.wrapT=r(a.wrap[1],cI)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,uI)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,uI)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let A=0,x=d.length;A<x;A++){const E=d[A];r[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),m.push(r[E])}return m}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,h;switch(e.type){case"Scene":o=new G1,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new be(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new iv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new rv(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Rn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new al(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new yL(e.color,e.intensity);break;case"DirectionalLight":o=new G9(e.color,e.intensity);break;case"PointLight":o=new U9(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new EL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new k9(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new vL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Sv().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),o=new S9(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),o=new sn(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const d=e.count,m=e.instanceMatrix,A=e.instanceColor;o=new _9(u,h,d),o.instanceMatrix=new Hh(new Float32Array(m.array),16),A!==void 0&&(o.instanceColor=new Hh(new Float32Array(A.array),A.itemSize));break;case"LOD":o=new YD;break;case"Line":o=new Xa(a(e.geometry),l(e.material));break;case"LineLoop":o=new w9(a(e.geometry),l(e.material));break;case"LineSegments":o=new xo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new av(a(e.geometry),l(e.material));break;case"Sprite":o=new XD(l(e.material));break;case"Group":o=new Ua;break;case"Bone":o=new sv;break;default:o=new jt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let m=0;m<d.length;m++)o.add(this.parseObject(d[m],n,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let m=0;m<d.length;m++){const A=d[m];o.animations.push(s[A])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let m=0;m<d.length;m++){const A=d[m],x=o.getObjectByProperty("uuid",A.object);x!==void 0&&o.addLevel(x,A.distance,A.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const qJ={UVMapping:K2,CubeReflectionMapping:Ja,CubeRefractionMapping:uc,EquirectangularReflectionMapping:D0,EquirectangularRefractionMapping:L0,CubeUVReflectionMapping:ad},cI={RepeatWrapping:Os,ClampToEdgeWrapping:On,MirroredRepeatWrapping:kh},uI={NearestFilter:_t,NearestMipmapNearestFilter:F0,NearestMipmapLinearFilter:Ah,LinearFilter:fn,LinearMipmapNearestFilter:J2,LinearMipmapLinearFilter:Ns};class _L extends Fr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Fu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Fu.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let tA;class Q9{static getContext(){return tA===void 0&&(tA=new(window.AudioContext||window.webkitAudioContext)),tA}static setContext(e){tA=e}}class ZJ extends Fr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Cr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);Q9.getContext().decodeAudioData(c,function(h){n(h)},a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class eX extends Sv{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new be().set(e),s=new be().set(n),o=new O(i.r,i.g,i.b),a=new O(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class tX extends Sv{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new be().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const fI=new et,hI=new et,jc=new et;class nX{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Rn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Rn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,jc.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Su*n.fov*.5)/n.zoom;let a,l;hI.elements[12]=-i,fI.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,jc.elements[0]=2*n.near/(l-a),jc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(jc),a=-o*n.aspect-s,l=o*n.aspect-s,jc.elements[0]=2*n.near/(l-a),jc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(jc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(hI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(fI)}}class wv{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=dI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=dI();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function dI(){return(typeof performance>"u"?Date:performance).now()}const Kc=new O,pI=new ur,rX=new O,Jc=new O;class iX extends jt{constructor(){super(),this.type="AudioListener",this.context=Q9.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new wv}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Kc,pI,rX),Jc.set(0,0,-1).applyQuaternion(pI),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Kc.x,i),n.positionY.linearRampToValueAtTime(Kc.y,i),n.positionZ.linearRampToValueAtTime(Kc.z,i),n.forwardX.linearRampToValueAtTime(Jc.x,i),n.forwardY.linearRampToValueAtTime(Jc.y,i),n.forwardZ.linearRampToValueAtTime(Jc.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Kc.x,Kc.y,Kc.z),n.setOrientation(Jc.x,Jc.y,Jc.z,r.x,r.y,r.z)}}class wL extends jt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Xc=new O,mI=new ur,sX=new O,Yc=new O;class oX extends wL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Xc,mI,sX),Yc.set(0,0,1).applyQuaternion(mI);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Xc.x,r),n.positionY.linearRampToValueAtTime(Xc.y,r),n.positionZ.linearRampToValueAtTime(Xc.z,r),n.orientationX.linearRampToValueAtTime(Yc.x,r),n.orientationY.linearRampToValueAtTime(Yc.y,r),n.orientationZ.linearRampToValueAtTime(Yc.z,r)}else n.setPosition(Xc.x,Xc.y,Xc.z),n.setOrientation(Yc.x,Yc.y,Yc.z)}}class aX{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class IL{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){ur.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;ur.multiplyQuaternionsFlat(e,o,e,n,e,r),ur.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const H9="\\[\\]\\.:\\/",lX=new RegExp("["+H9+"]","g"),z9="[^"+H9+"]",cX="[^"+H9.replace("\\.","")+"]",uX=/((?:WC+[\/:])*)/.source.replace("WC",z9),fX=/(WCOD+)?/.source.replace("WCOD",cX),hX=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",z9),dX=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",z9),pX=new RegExp("^"+uX+fX+hX+dX+"$"),mX=["material","materials","bones","map"];class gX{constructor(e,n,r){const i=r||$t.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class $t{constructor(e,n,r){this.path=n,this.parsedPath=r||$t.parseTrackName(n),this.node=$t.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new $t.Composite(e,n,r):new $t(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(lX,"")}static parseTrackName(e){const n=pX.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);mX.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=$t.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}$t.Composite=gX;$t.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};$t.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};$t.prototype.GetterByBindingType=[$t.prototype._getValue_direct,$t.prototype._getValue_array,$t.prototype._getValue_arrayElement,$t.prototype._getValue_toArray];$t.prototype.SetterByBindingTypeAndVersioning=[[$t.prototype._setValue_direct,$t.prototype._setValue_direct_setNeedsUpdate,$t.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_array,$t.prototype._setValue_array_setNeedsUpdate,$t.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_arrayElement,$t.prototype._setValue_arrayElement_setNeedsUpdate,$t.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_fromArray,$t.prototype._setValue_fromArray_setNeedsUpdate,$t.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AX{constructor(){this.isAnimationObjectGroup=!0,this.uuid=qi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const d=arguments[u],m=d.uuid;let A=n[m];if(A===void 0){A=l++,n[m]=A,e.push(d);for(let x=0,E=o;x!==E;++x)s[x].push(new $t(d,r[x],i[x]))}else if(A<c){a=e[A];const x=--c,E=e[x];n[E.uuid]=A,e[A]=E,n[m]=x,e[x]=d;for(let g=0,y=o;g!==y;++g){const v=s[g],S=v[x];let w=v[A];v[A]=S,w===void 0&&(w=new $t(d,r[g],i[g])),v[x]=w}}else e[A]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const h=s++,d=e[h];n[d.uuid]=u,e[u]=d,n[c]=h,e[h]=l;for(let m=0,A=i;m!==A;++m){const x=r[m],E=x[h],g=x[u];x[u]=E,x[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=n[u];if(h!==void 0)if(delete n[u],h<s){const d=--s,m=e[d],A=--o,x=e[A];n[m.uuid]=h,e[h]=m,n[x.uuid]=d,e[d]=x,e.pop();for(let E=0,g=i;E!==g;++E){const y=r[E],v=y[d],S=y[A];y[h]=v,y[d]=S,y.pop()}}else{const d=--o,m=e[d];d>0&&(n[m.uuid]=h),e[h]=m,e.pop();for(let A=0,x=i;A!==x;++A){const E=r[A];E[h]=E[d],E.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(h);for(let d=u,m=l.length;d!==m;++d){const A=l[d];h[d]=new $t(A,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class TL{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:mu,endingEnd:mu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xD,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case c9:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Y2:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===CD;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===ED){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=gu,i.endingEnd=gu):(e?i.endingStart=this.zeroSlopeAtStart?gu:mu:i.endingStart=Q0,n?i.endingEnd=this.zeroSlopeAtEnd?gu:mu:i.endingEnd=Q0)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const vX=new Float32Array(1);class yX extends ol{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const d=i[h],m=d.name;let A=u[m];if(A!==void 0)++A.referenceCount,o[h]=A;else{if(A=o[h],A!==void 0){A._cacheIndex===null&&(++A.referenceCount,this._addInactiveBinding(A,l,m));continue}const x=n&&n._propertyBindings[h].binding.parsedPath;A=new IL($t.create(r,m,x),d.ValueTypeName,d.getValueSize()),++A.referenceCount,this._addInactiveBinding(A,l,m),o[h]=A}a[h].resultBuffer=A.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete h[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new L9(new Float32Array(2),new Float32Array(2),1,vX),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Wh.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Y2),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new TL(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Wh.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,n[u]=h,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class V9{constructor(e){this.value=e}clone(){return new V9(this.value.clone===void 0?this.value:this.value.clone())}}let EX=0;class xX extends ol{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:EX++}),this.name="",this.usage=H0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class CX extends w3{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class SX{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class ML{constructor(e,n,r=0,i=1/0){this.ray=new ld(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new _u,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return $4(e,this,r,n),r.sort(gI),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)$4(e[i],this,r,n);return r.sort(gI),r}}function gI(t,e){return t.distance-e.distance}function $4(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)$4(i[s],e,n,!0)}}class _X{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Jn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class wX{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const AI=new fe;class bL{constructor(e=new fe(1/0,1/0),n=new fe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=AI.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,AI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const vI=new O,nA=new O;class IX{constructor(e=new O,n=new O){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){vI.subVectors(e,this.start),nA.subVectors(this.end,this.start);const r=nA.dot(nA);let s=nA.dot(vI)/r;return n&&(s=Jn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const yI=new O;class TX extends jt{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new It,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new rt(i,3));const s=new ri({fog:!1,toneMapped:!1});this.cone=new xo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),yI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(yI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Bl=new O,rA=new et,E6=new et;class MX extends xo{constructor(e){const n=BL(e),r=new It,i=[],s=[],o=new be(0,0,1),a=new be(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new rt(i,3)),r.setAttribute("color",new rt(s,3));const l=new ri({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");E6.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(rA.multiplyMatrices(E6,a.matrixWorld),Bl.setFromMatrixPosition(rA),i.setXYZ(o,Bl.x,Bl.y,Bl.z),rA.multiplyMatrices(E6,a.parent.matrixWorld),Bl.setFromMatrixPosition(rA),i.setXYZ(o+1,Bl.x,Bl.y,Bl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function BL(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,BL(t.children[n]));return e}class bX extends sn{constructor(e,n,r){const i=new b3(n,4,2),s=new Pr({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const BX=new O,EI=new be,xI=new be;class RX extends jt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new M3(n);i.rotateY(Math.PI*.5),this.material=new Pr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new tn(o,3)),this.add(new sn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");EI.copy(this.light.color),xI.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?EI:xI;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(BX.setFromMatrixPosition(this.light.matrixWorld).negate())}}class PX extends xo{constructor(e=10,n=10,r=4473924,i=8947848){r=new be(r),i=new be(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let d=0,m=0,A=-a;d<=n;d++,A+=o){l.push(-a,0,A,a,0,A),l.push(A,0,-a,A,0,a);const x=d===s?r:i;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const u=new It;u.setAttribute("position",new rt(l,3)),u.setAttribute("color",new rt(c,3));const h=new ri({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class DX extends xo{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new be(s),o=new be(o);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const d=h/n*(Math.PI*2),m=Math.sin(d)*e,A=Math.cos(d)*e;a.push(0,0,0),a.push(m,0,A);const x=h&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let h=0;h<r;h++){const d=h&1?s:o,m=e-e/r*h;for(let A=0;A<i;A++){let x=A/i*(Math.PI*2),E=Math.sin(x)*m,g=Math.cos(x)*m;a.push(E,0,g),l.push(d.r,d.g,d.b),x=(A+1)/i*(Math.PI*2),E=Math.sin(x)*m,g=Math.cos(x)*m,a.push(E,0,g),l.push(d.r,d.g,d.b)}}const c=new It;c.setAttribute("position",new rt(a,3)),c.setAttribute("color",new rt(l,3));const u=new ri({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const CI=new O,iA=new O,SI=new O;class LX extends jt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new It;i.setAttribute("position",new rt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ri({fog:!1,toneMapped:!1});this.lightPlane=new Xa(i,s),this.add(this.lightPlane),i=new It,i.setAttribute("position",new rt([0,0,0,0,0,1],3)),this.targetLine=new Xa(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),CI.setFromMatrixPosition(this.light.matrixWorld),iA.setFromMatrixPosition(this.light.target.matrixWorld),SI.subVectors(iA,CI),this.lightPlane.lookAt(iA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(iA),this.targetLine.scale.z=SI.length()}}const sA=new O,jn=new S3;class FX extends xo{constructor(e){const n=new It,r=new ri({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(A,x){l(A),l(x)}function l(A){i.push(0,0,0),s.push(0,0,0),o[A]===void 0&&(o[A]=[]),o[A].push(i.length/3-1)}n.setAttribute("position",new rt(i,3)),n.setAttribute("color",new rt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new be(16755200),u=new be(16711680),h=new be(43775),d=new be(16777215),m=new be(3355443);this.setColors(c,u,h,d,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;jn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),nr("c",n,e,jn,0,0,-1),nr("t",n,e,jn,0,0,1),nr("n1",n,e,jn,-r,-i,-1),nr("n2",n,e,jn,r,-i,-1),nr("n3",n,e,jn,-r,i,-1),nr("n4",n,e,jn,r,i,-1),nr("f1",n,e,jn,-r,-i,1),nr("f2",n,e,jn,r,-i,1),nr("f3",n,e,jn,-r,i,1),nr("f4",n,e,jn,r,i,1),nr("u1",n,e,jn,r*.7,i*1.1,-1),nr("u2",n,e,jn,-r*.7,i*1.1,-1),nr("u3",n,e,jn,0,i*2,-1),nr("cf1",n,e,jn,-r,0,1),nr("cf2",n,e,jn,r,0,1),nr("cf3",n,e,jn,0,-i,1),nr("cf4",n,e,jn,0,i,1),nr("cn1",n,e,jn,-r,0,-1),nr("cn2",n,e,jn,r,0,-1),nr("cn3",n,e,jn,0,-i,-1),nr("cn4",n,e,jn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function nr(t,e,n,r,i,s,o){sA.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],sA.x,sA.y,sA.z)}}const oA=new Eo;class OX extends xo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new It;s.setIndex(new tn(r,1)),s.setAttribute("position",new tn(i,3)),super(s,new ri({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&oA.setFromObject(this.object),oA.isEmpty())return;const n=oA.min,r=oA.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class NX extends xo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new It;s.setIndex(new tn(r,1)),s.setAttribute("position",new rt(i,3)),super(s,new ri({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class kX extends Xa{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new It;o.setAttribute("position",new rt(s,3)),o.computeBoundingSphere(),super(o,new ri({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new It;l.setAttribute("position",new rt(a,3)),l.computeBoundingSphere(),this.add(new sn(l,new Pr({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _I=new O;let aA,x6;class UX extends jt{constructor(e=new O(0,0,1),n=new O(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",aA===void 0&&(aA=new It,aA.setAttribute("position",new rt([0,0,0,0,1,0],3)),x6=new hd(0,.5,1,5,1),x6.translate(0,-.5,0)),this.position.copy(n),this.line=new Xa(aA,new ri({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new sn(x6,new Pr({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_I.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(_I,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class GX extends xo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new It;i.setAttribute("position",new rt(n,3)),i.setAttribute("color",new rt(r,3));const s=new ri({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new be,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class RL{constructor(){this.type="ShapePath",this.color=new be,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new W0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const y=[];for(let v=0,S=g.length;v<S;v++){const w=g[v],T=new wu;T.curves=w.curves,y.push(T)}return y}function r(g,y){const v=y.length;let S=!1;for(let w=v-1,T=0;T<v;w=T++){let M=y[w],P=y[T],b=P.x-M.x,B=P.y-M.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(M=y[T],b=-b,P=y[w],B=-B),g.y<M.y||g.y>P.y)continue;if(g.y===M.y){if(g.x===M.x)return!0}else{const L=B*(g.x-M.x)-b*(g.y-M.y);if(L===0)return!0;if(L<0)continue;S=!S}}else{if(g.y!==M.y)continue;if(P.x<=g.x&&g.x<=M.x||M.x<=g.x&&g.x<=P.x)return!0}}return S}const i=qo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new wu,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const h=[],d=[];let m=[],A=0,x;d[A]=void 0,m[A]=[];for(let g=0,y=s.length;g<y;g++)a=s[g],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!u&&d[A]&&A++,d[A]={s:new wu,p:x},d[A].s.curves=a.curves,u&&A++,m[A]=[]):m[A].push({h:a,p:x[0]});if(!d[0])return n(s);if(d.length>1){let g=!1,y=0;for(let v=0,S=d.length;v<S;v++)h[v]=[];for(let v=0,S=d.length;v<S;v++){const w=m[v];for(let T=0;T<w.length;T++){const M=w[T];let P=!0;for(let b=0;b<d.length;b++)r(M.p,d[b].p)&&(v!==b&&y++,P?(P=!1,h[b].push(M)):g=!0);P&&h[v].push(M)}}y>0&&g===!1&&(m=h)}let E;for(let g=0,y=d.length;g<y;g++){l=d[g].s,c.push(l),E=m[g];for(let v=0,S=E.length;v<S;v++)l.holes.push(E[v].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:sl}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=sl);const PL=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:t9,AddEquation:Ji,AddOperation:uD,AdditiveAnimationBlendMode:c9,AdditiveBlending:b0,AlphaFormat:AD,AlwaysCompare:LD,AlwaysDepth:rD,AlwaysStencilFunc:ID,AmbientLight:yL,AmbientLightProbe:tX,AnimationAction:TL,AnimationClip:Wh,AnimationLoader:VJ,AnimationMixer:yX,AnimationObjectGroup:AX,AnimationUtils:GJ,ArcCurve:qD,ArrayCamera:jD,ArrowHelper:UX,Audio:wL,AudioAnalyser:aX,AudioContext:Q9,AudioListener:iX,AudioLoader:ZJ,AxesHelper:GX,BackSide:ei,BasicDepthPacking:_D,BasicShadowMap:jP,Bone:sv,BooleanKeyframeTrack:$u,Box2:bL,Box3:Eo,Box3Helper:NX,BoxGeometry:Tc,BoxHelper:OX,BufferAttribute:tn,BufferGeometry:It,BufferGeometryLoader:SL,ByteType:mD,Cache:Fu,Camera:S3,CameraHelper:FX,CanvasTexture:uJ,CapsuleGeometry:uv,CatmullRomCurve3:ZD,CineonToneMapping:dD,CircleGeometry:fv,ClampToEdgeWrapping:On,Clock:wv,Color:be,ColorKeyframeTrack:F9,ColorManagement:vs,CompressedArrayTexture:lJ,CompressedCubeTexture:cJ,CompressedTexture:dc,CompressedTextureLoader:WJ,ConeGeometry:hv,CubeCamera:A9,CubeReflectionMapping:Ja,CubeRefractionMapping:uc,CubeTexture:_3,CubeTextureLoader:$J,CubeUVReflectionMapping:ad,CubicBezierCurve:T9,CubicBezierCurve3:eL,CubicInterpolant:pL,CullFaceBack:d4,CullFaceFront:$P,CullFaceFrontBack:sz,CullFaceNone:WP,Curve:Co,CurvePath:nL,CustomBlending:B0,CustomToneMapping:pD,CylinderGeometry:hd,Cylindrical:wX,Data3DTexture:m9,DataArrayTexture:q2,DataTexture:Yo,DataTextureLoader:jJ,DataUtils:mV,DecrementStencilOp:mz,DecrementWrapStencilOp:Az,DefaultLoadingManager:lh,DepthFormat:rc,DepthStencilFormat:fc,DepthTexture:fd,DirectionalLight:G9,DirectionalLightHelper:LX,DiscreteInterpolant:mL,DisplayP3ColorSpace:x3,DodecahedronGeometry:dv,DoubleSide:In,DstAlphaFactor:$2,DstColorFactor:j2,DynamicCopyUsage:Rz,DynamicDrawUsage:qA,DynamicReadUsage:Mz,EdgesGeometry:rL,EllipseCurve:lv,EqualCompare:bD,EqualDepth:sD,EqualStencilFunc:xz,EquirectangularReflectionMapping:D0,EquirectangularRefractionMapping:L0,Euler:C3,EventDispatcher:ol,ExtrudeGeometry:mv,FileLoader:Cr,Float16BufferAttribute:xV,Float32BufferAttribute:rt,Float64BufferAttribute:CV,FloatType:pi,Fog:iv,FogExp2:rv,FramebufferTexture:aJ,FrontSide:ia,Frustum:ev,GLBufferAttribute:SX,GLSL1:Dz,GLSL3:k4,GreaterCompare:RD,GreaterDepth:aD,GreaterEqualCompare:DD,GreaterEqualDepth:oD,GreaterEqualStencilFunc:wz,GreaterStencilFunc:Sz,GridHelper:PX,Group:Ua,HalfFloatType:ir,HemisphereLight:vL,HemisphereLightHelper:RX,HemisphereLightProbe:eX,IcosahedronGeometry:gv,ImageBitmapLoader:_L,ImageLoader:J0,ImageUtils:p9,IncrementStencilOp:pz,IncrementWrapStencilOp:gz,InstancedBufferAttribute:Hh,InstancedBufferGeometry:CL,InstancedInterleavedBuffer:CX,InstancedMesh:_9,Int16BufferAttribute:yV,Int32BufferAttribute:EV,Int8BufferAttribute:gV,IntType:n9,InterleavedBuffer:w3,InterleavedBufferAttribute:hc,Interpolant:pd,InterpolateDiscrete:Uh,InterpolateLinear:Du,InterpolateSmooth:XA,InvertStencilOp:vz,KeepStencilOp:YA,KeyframeTrack:So,LOD:YD,LatheGeometry:T3,Layers:_u,LessCompare:MD,LessDepth:iD,LessEqualCompare:BD,LessEqualDepth:O1,LessEqualStencilFunc:Cz,LessStencilFunc:Ez,Light:bc,LightProbe:Sv,Line:Xa,Line3:IX,LineBasicMaterial:ri,LineCurve:cv,LineCurve3:tL,LineDashedMaterial:hL,LineLoop:w9,LineSegments:xo,LinearDisplayP3ColorSpace:fz,LinearEncoding:f9,LinearFilter:fn,LinearInterpolant:L9,LinearMipMapLinearFilter:uz,LinearMipMapNearestFilter:cz,LinearMipmapLinearFilter:Ns,LinearMipmapNearestFilter:J2,LinearSRGBColorSpace:ho,LinearToneMapping:fD,Loader:Fr,LoaderUtils:Zo,LoadingManager:O9,LoopOnce:ED,LoopPingPong:CD,LoopRepeat:xD,LuminanceAlphaFormat:vD,LuminanceFormat:s9,MOUSE:rz,Material:fr,MaterialLoader:_v,MathUtils:xh,Matrix3:Nt,Matrix4:et,MaxEquation:A4,Mesh:sn,MeshBasicMaterial:Pr,MeshDepthMaterial:nv,MeshDistanceMaterial:E9,MeshLambertMaterial:uL,MeshMatcapMaterial:fL,MeshNormalMaterial:B3,MeshPhongMaterial:cL,MeshPhysicalMaterial:aa,MeshStandardMaterial:dd,MeshToonMaterial:bi,MinEquation:g4,MirroredRepeatWrapping:kh,MixOperation:cD,MultiplyBlending:m4,MultiplyOperation:E3,NearestFilter:_t,NearestMipMapLinearFilter:lz,NearestMipMapNearestFilter:az,NearestMipmapLinearFilter:Ah,NearestMipmapNearestFilter:F0,NeverCompare:TD,NeverDepth:nD,NeverStencilFunc:yz,NoBlending:Gt,NoColorSpace:sc,NoToneMapping:Rs,NormalAnimationBlendMode:Y2,NormalBlending:Xo,NotEqualCompare:PD,NotEqualDepth:lD,NotEqualStencilFunc:_z,NumberKeyframeTrack:zh,Object3D:jt,ObjectLoader:YJ,ObjectSpaceNormalMap:wD,OctahedronGeometry:M3,OneFactor:XP,OneMinusDstAlphaFactor:ZP,OneMinusDstColorFactor:eD,OneMinusSrcAlphaFactor:P0,OneMinusSrcColorFactor:qP,OrthographicCamera:al,PCFShadowMap:W2,PCFSoftShadowMap:Jp,PMREMGenerator:G4,Path:W0,PerspectiveCamera:Rn,Plane:_s,PlaneGeometry:cd,PlaneHelper:kX,PointLight:U9,PointLightHelper:bX,Points:av,PointsMaterial:ov,PolarGridHelper:DX,PolyhedronGeometry:Mc,PositionalAudio:oX,PropertyBinding:$t,PropertyMixer:IL,QuadraticBezierCurve:M9,QuadraticBezierCurve3:b9,Quaternion:ur,QuaternionKeyframeTrack:pc,QuaternionLinearInterpolant:gL,RED_GREEN_RGTC2_Format:O4,RED_RGTC1_Format:yD,REVISION:sl,RGBADepthPacking:h9,RGBAFormat:Yn,RGBAIntegerFormat:l9,RGBA_ASTC_10x10_Format:B4,RGBA_ASTC_10x5_Format:T4,RGBA_ASTC_10x6_Format:M4,RGBA_ASTC_10x8_Format:b4,RGBA_ASTC_12x10_Format:R4,RGBA_ASTC_12x12_Format:P4,RGBA_ASTC_4x4_Format:G0,RGBA_ASTC_5x4_Format:E4,RGBA_ASTC_5x5_Format:x4,RGBA_ASTC_6x5_Format:C4,RGBA_ASTC_6x6_Format:S4,RGBA_ASTC_8x5_Format:_4,RGBA_ASTC_8x6_Format:w4,RGBA_ASTC_8x8_Format:I4,RGBA_BPTC_Format:Eh,RGBA_ETC2_EAC_Format:U0,RGBA_PVRTC_2BPPV1_Format:y4,RGBA_PVRTC_4BPPV1_Format:N0,RGBA_S3TC_DXT1_Format:KA,RGBA_S3TC_DXT3_Format:JA,RGBA_S3TC_DXT5_Format:yh,RGB_BPTC_SIGNED_Format:D4,RGB_BPTC_UNSIGNED_Format:L4,RGB_ETC1_Format:X2,RGB_ETC2_Format:k0,RGB_PVRTC_2BPPV1_Format:v4,RGB_PVRTC_4BPPV1_Format:O0,RGB_S3TC_DXT1_Format:vh,RGFormat:ih,RGIntegerFormat:a9,RawShaderMaterial:e0,Ray:ld,Raycaster:ML,RectAreaLight:EL,RedFormat:pu,RedIntegerFormat:o9,ReinhardToneMapping:hD,RenderTarget:kD,RepeatWrapping:Os,ReplaceStencilOp:dz,ReverseSubtractEquation:JP,RingGeometry:Av,SIGNED_RED_GREEN_RGTC2_Format:N4,SIGNED_RED_RGTC1_Format:F4,SRGBColorSpace:An,Scene:G1,ShaderChunk:Lt,ShaderLib:io,ShaderMaterial:Jt,ShadowMaterial:lL,Shape:wu,ShapeGeometry:vv,ShapePath:RL,ShapeUtils:qo,ShortType:gD,Skeleton:I3,SkeletonHelper:MX,SkinnedMesh:S9,Source:Au,Sphere:Qs,SphereGeometry:b3,Spherical:_X,SphericalHarmonics3:xL,SplineCurve:B9,SpotLight:k9,SpotLightHelper:TX,Sprite:XD,SpriteMaterial:C9,SrcAlphaFactor:R0,SrcAlphaSaturateFactor:tD,SrcColorFactor:YP,StaticCopyUsage:Bz,StaticDrawUsage:H0,StaticReadUsage:Tz,StereoCamera:nX,StreamCopyUsage:Pz,StreamDrawUsage:Iz,StreamReadUsage:bz,StringKeyframeTrack:ju,SubtractEquation:KP,SubtractiveBlending:p4,TOUCH:iz,TangentSpaceNormalMap:Ic,TetrahedronGeometry:yv,Texture:Mn,TextureLoader:AL,TorusGeometry:Ev,TorusKnotGeometry:xv,Triangle:Mi,TriangleFanDrawMode:N1,TriangleStripDrawMode:u9,TrianglesDrawMode:SD,TubeGeometry:Cv,TwoPassDoubleSide:oz,UVMapping:K2,Uint16BufferAttribute:g9,Uint32BufferAttribute:Z2,Uint8BufferAttribute:AV,Uint8ClampedBufferAttribute:vV,Uniform:V9,UniformsGroup:xX,UniformsLib:Fe,UniformsUtils:Nn,UnsignedByteType:yr,UnsignedInt248Type:Ha,UnsignedIntType:ka,UnsignedShort4444Type:r9,UnsignedShort5551Type:i9,UnsignedShortType:Wu,VSMShadowMap:to,Vector2:fe,Vector3:O,Vector4:Wt,VectorKeyframeTrack:Vh,VideoTexture:oJ,WebGL1Renderer:KD,WebGL3DRenderTarget:rV,WebGLArrayRenderTarget:nV,WebGLCoordinateSystem:$o,WebGLCubeRenderTarget:v9,WebGLMultipleRenderTargets:iV,WebGLRenderTarget:hn,WebGLRenderer:x9,WebGLUtils:$D,WebGPUCoordinateSystem:z0,WireframeGeometry:aL,WrapAroundEnding:Q0,ZeroCurvatureEnding:mu,ZeroFactor:Nh,ZeroSlopeEnding:gu,ZeroStencilOp:hz,_SRGBAFormat:k1,createCanvasElement:ND,sRGBEncoding:ic},Symbol.toStringTag,{value:"Module"}));var DL={exports:{}},Ku={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ku.ConcurrentRoot=1;Ku.ContinuousEventPriority=4;Ku.DefaultEventPriority=16;Ku.DiscreteEventPriority=1;Ku.IdleEventPriority=536870912;Ku.LegacyRoot=0;DL.exports=Ku;var ch=DL.exports;function QX(t){let e;const n=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const d=e;e=u?h:Object.assign({},e,h),n.forEach(m=>m(e,d))}},i=()=>e,s=(c,u=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function m(){const A=u(e);if(!h(d,A)){const x=d;c(d=A,x)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(c,u,h)=>u||h?s(c,u,h):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const HX=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),wI=HX?D.useEffect:D.useLayoutEffect;function W9(t){const e=typeof t=="function"?QX(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=D.useReducer(E=>E+1,0),o=e.getState(),a=D.useRef(o),l=D.useRef(r),c=D.useRef(i),u=D.useRef(!1),h=D.useRef();h.current===void 0&&(h.current=r(o));let d,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(d=r(o),m=!i(h.current,d)),wI(()=>{m&&(h.current=d),a.current=o,l.current=r,c.current=i,u.current=!1});const A=D.useRef(o);wI(()=>{const E=()=>{try{const y=e.getState(),v=l.current(y);c.current(h.current,v)||(a.current=y,h.current=v,s())}catch{u.current=!0,s()}},g=e.subscribe(E);return e.getState()!==A.current&&E(),g},[]);const x=m?d:h.current;return D.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var LL={exports:{}},FL={exports:{}},OL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,K){var $=k.length;k.push(K);e:for(;0<$;){var G=$-1>>>1,X=k[G];if(0<i(X,K))k[G]=K,k[$]=X,$=G;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var K=k[0],$=k.pop();if($!==K){k[0]=$;e:for(var G=0,X=k.length,le=X>>>1;G<le;){var pe=2*(G+1)-1,ye=k[pe],Se=pe+1,we=k[Se];if(0>i(ye,$))Se<X&&0>i(we,ye)?(k[G]=we,k[Se]=$,G=Se):(k[G]=ye,k[pe]=$,G=pe);else if(Se<X&&0>i(we,$))k[G]=we,k[Se]=$,G=Se;else break e}}return K}function i(k,K){var $=k.sortIndex-K.sortIndex;return $!==0?$:k.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,m=!1,A=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=k)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function S(k){if(x=!1,v(k),!A)if(n(l)!==null)A=!0,q(w);else{var K=n(c);K!==null&&Y(S,K.startTime-k)}}function w(k,K){A=!1,x&&(x=!1,g(P),P=-1),m=!0;var $=d;try{for(v(K),h=n(l);h!==null&&(!(h.expirationTime>K)||k&&!L());){var G=h.callback;if(typeof G=="function"){h.callback=null,d=h.priorityLevel;var X=G(h.expirationTime<=K);K=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),v(K)}else r(l);h=n(l)}if(h!==null)var le=!0;else{var pe=n(c);pe!==null&&Y(S,pe.startTime-K),le=!1}return le}finally{h=null,d=$,m=!1}}var T=!1,M=null,P=-1,b=5,B=-1;function L(){return!(t.unstable_now()-B<b)}function H(){if(M!==null){var k=t.unstable_now();B=k;var K=!0;try{K=M(!0,k)}finally{K?U():(T=!1,M=null)}}else T=!1}var U;if(typeof y=="function")U=function(){y(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=H,U=function(){W.postMessage(null)}}else U=function(){E(H,0)};function q(k){M=k,T||(T=!0,U())}function Y(k,K){P=E(function(){k(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){A||m||(A=!0,q(w))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var K=3;break;default:K=d}var $=d;d=K;try{return k()}finally{d=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,K){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=d;d=k;try{return K()}finally{d=$}},t.unstable_scheduleCallback=function(k,K,$){var G=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,k={id:u++,callback:K,priorityLevel:k,startTime:$,expirationTime:X,sortIndex:-1},$>G?(k.sortIndex=$,e(c,k),n(l)===null&&k===n(c)&&(x?(g(P),P=-1):x=!0,Y(S,$-G))):(k.sortIndex=X,e(l,k),A||m||(A=!0,q(w))),k},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(k){var K=d;return function(){var $=d;d=K;try{return k.apply(this,arguments)}finally{d=$}}}})(OL);FL.exports=OL;var j4=FL.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zX=function(e){var n={},r=D,i=j4,s=Object.assign;function o(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,C=1;C<arguments.length;C++)p+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),A=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),w=Symbol.iterator;function T(f){return f===null||typeof f!="object"?null:(f=w&&f[w]||f["@@iterator"],typeof f=="function"?f:null)}function M(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case h:return"StrictMode";case E:return"Suspense";case g:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case A:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case x:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case y:return p=f.displayName||null,p!==null?p:M(f.type)||"Memo";case v:p=f._payload,f=f._init;try{return M(f(p))}catch{}}return null}function P(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(p);case 8:return p===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function b(f){var p=f,C=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,p.flags&4098&&(C=p.return),f=p.return;while(f)}return p.tag===3?C:null}function B(f){if(b(f)!==f)throw Error(o(188))}function L(f){var p=f.alternate;if(!p){if(p=b(f),p===null)throw Error(o(188));return p!==f?null:f}for(var C=f,_=p;;){var I=C.return;if(I===null)break;var R=I.alternate;if(R===null){if(_=I.return,_!==null){C=_;continue}break}if(I.child===R.child){for(R=I.child;R;){if(R===C)return B(I),f;if(R===_)return B(I),p;R=R.sibling}throw Error(o(188))}if(C.return!==_.return)C=I,_=R;else{for(var z=!1,ee=I.child;ee;){if(ee===C){z=!0,C=I,_=R;break}if(ee===_){z=!0,_=I,C=R;break}ee=ee.sibling}if(!z){for(ee=R.child;ee;){if(ee===C){z=!0,C=R,_=I;break}if(ee===_){z=!0,_=R,C=I;break}ee=ee.sibling}if(!z)throw Error(o(189))}}if(C.alternate!==_)throw Error(o(190))}if(C.tag!==3)throw Error(o(188));return C.stateNode.current===C?f:p}function H(f){return f=L(f),f!==null?U(f):null}function U(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=U(f);if(p!==null)return p;f=f.sibling}return null}function V(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var p=V(f);if(p!==null)return p}f=f.sibling}return null}var W=Array.isArray,q=e.getPublicInstance,Y=e.getRootHostContext,k=e.getChildHostContext,K=e.prepareForCommit,$=e.resetAfterCommit,G=e.createInstance,X=e.appendInitialChild,le=e.finalizeInitialChildren,pe=e.prepareUpdate,ye=e.shouldSetTextContent,Se=e.createTextInstance,we=e.scheduleTimeout,Me=e.cancelTimeout,Ve=e.noTimeout,We=e.isPrimaryRenderer,xe=e.supportsMutation,j=e.supportsPersistence,Ae=e.supportsHydration,ue=e.getInstanceFromNode,_e=e.preparePortalMount,Ee=e.getCurrentEventPriority,Qe=e.detachDeletedInstance,Oe=e.supportsMicrotasks,ke=e.scheduleMicrotask,qe=e.supportsTestSelectors,xt=e.findFiberRoot,Yt=e.getBoundingRect,N=e.getTextContent,F=e.isHiddenSubtree,ne=e.matchAccessibilityRole,Ce=e.setFocusIfFocusable,ve=e.setupIntersectionObserver,Ie=e.appendChild,ze=e.appendChildToContainer,Te=e.commitTextUpdate,oe=e.commitMount,tt=e.commitUpdate,it=e.insertBefore,ot=e.insertInContainerBefore,$e=e.removeChild,je=e.removeChildFromContainer,Ct=e.resetTextContent,Qt=e.hideInstance,Z=e.hideTextInstance,De=e.unhideInstance,ae=e.unhideTextInstance,Re=e.clearContainer,Ge=e.cloneInstance,zt=e.createContainerChildSet,dn=e.appendChildToContainerChildSet,zn=e.finalizeContainerChildren,Ws=e.replaceContainerChildren,an=e.cloneHiddenInstance,Ui=e.cloneHiddenTextInstance,Or=e.canHydrateInstance,am=e.canHydrateTextInstance,lm=e.canHydrateSuspenseInstance,cm=e.isSuspenseInstancePending,ml=e.isSuspenseInstanceFallback,um=e.registerSuspenseInstanceRetry,Bo=e.getNextHydratableSibling,fm=e.getFirstHydratableChild,u5=e.getFirstHydratableChildWithinContainer,f5=e.getFirstHydratableChildWithinSuspenseInstance,h5=e.hydrateInstance,Q=e.hydrateTextInstance,re=e.hydrateSuspenseInstance,me=e.getNextHydratableInstanceAfterSuspenseInstance,se=e.commitHydratedContainer,ge=e.commitHydratedSuspenseInstance,Je=e.clearSuspenseBoundary,ut=e.clearSuspenseBoundaryFromContainer,At=e.shouldDeleteUnhydratedTailInstances,vt=e.didNotMatchHydratedContainerTextInstance,kt=e.didNotMatchHydratedTextInstance,pt;function St(f){if(pt===void 0)try{throw Error()}catch(C){var p=C.stack.trim().match(/\n( *(at )?)/);pt=p&&p[1]||""}return`
`+pt+f}var pn=!1;function Cn(f,p){if(!f||pn)return"";pn=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Pe){var _=Pe}Reflect.construct(f,[],p)}else{try{p.call()}catch(Pe){_=Pe}f.call(p.prototype)}else{try{throw Error()}catch(Pe){_=Pe}f()}}catch(Pe){if(Pe&&_&&typeof Pe.stack=="string"){for(var I=Pe.stack.split(`
`),R=_.stack.split(`
`),z=I.length-1,ee=R.length-1;1<=z&&0<=ee&&I[z]!==R[ee];)ee--;for(;1<=z&&0<=ee;z--,ee--)if(I[z]!==R[ee]){if(z!==1||ee!==1)do if(z--,ee--,0>ee||I[z]!==R[ee]){var de=`
`+I[z].replace(" at new "," at ");return f.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",f.displayName)),de}while(1<=z&&0<=ee);break}}}finally{pn=!1,Error.prepareStackTrace=C}return(f=f?f.displayName||f.name:"")?St(f):""}var xi=Object.prototype.hasOwnProperty,Gi=[],cn=-1;function wt(f){return{current:f}}function rn(f){0>cn||(f.current=Gi[cn],Gi[cn]=null,cn--)}function yt(f,p){cn++,Gi[cn]=f.current,f.current=p}var Hr={},dr=wt(Hr),sr=wt(!1),$s=Hr;function Vn(f,p){var C=f.type.contextTypes;if(!C)return Hr;var _=f.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===p)return _.__reactInternalMemoizedMaskedChildContext;var I={},R;for(R in C)I[R]=p[R];return _&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=I),I}function Wn(f){return f=f.childContextTypes,f!=null}function gl(){rn(sr),rn(dr)}function zr(f,p,C){if(dr.current!==Hr)throw Error(o(168));yt(dr,p),yt(sr,C)}function Zu(f,p,C){var _=f.stateNode;if(p=p.childContextTypes,typeof _.getChildContext!="function")return C;_=_.getChildContext();for(var I in _)if(!(I in p))throw Error(o(108,P(f)||"Unknown",I));return s({},C,_)}function ef(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Hr,$s=dr.current,yt(dr,f),yt(sr,sr.current),!0}function Td(f,p,C){var _=f.stateNode;if(!_)throw Error(o(169));C?(f=Zu(f,p,$s),_.__reactInternalMemoizedMergedChildContext=f,rn(sr),rn(dr),yt(dr,f)):rn(sr),yt(sr,C)}var js=Math.clz32?Math.clz32:QU,UU=Math.log,GU=Math.LN2;function QU(f){return f>>>=0,f===0?32:31-(UU(f)/GU|0)|0}var hm=64,dm=4194304;function Md(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function pm(f,p){var C=f.pendingLanes;if(C===0)return 0;var _=0,I=f.suspendedLanes,R=f.pingedLanes,z=C&268435455;if(z!==0){var ee=z&~I;ee!==0?_=Md(ee):(R&=z,R!==0&&(_=Md(R)))}else z=C&~I,z!==0?_=Md(z):R!==0&&(_=Md(R));if(_===0)return 0;if(p!==0&&p!==_&&!(p&I)&&(I=_&-_,R=p&-p,I>=R||I===16&&(R&4194240)!==0))return p;if(_&4&&(_|=C&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=_;0<p;)C=31-js(p),I=1<<C,_|=f[C],p&=~I;return _}function HU(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zU(f,p){for(var C=f.suspendedLanes,_=f.pingedLanes,I=f.expirationTimes,R=f.pendingLanes;0<R;){var z=31-js(R),ee=1<<z,de=I[z];de===-1?(!(ee&C)||ee&_)&&(I[z]=HU(ee,p)):de<=p&&(f.expiredLanes|=ee),R&=~ee}}function d5(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function p5(f){for(var p=[],C=0;31>C;C++)p.push(f);return p}function bd(f,p,C){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-js(p),f[p]=C}function VU(f,p){var C=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var _=f.eventTimes;for(f=f.expirationTimes;0<C;){var I=31-js(C),R=1<<I;p[I]=0,_[I]=-1,f[I]=-1,C&=~R}}function m5(f,p){var C=f.entangledLanes|=p;for(f=f.entanglements;C;){var _=31-js(C),I=1<<_;I&p|f[_]&p&&(f[_]|=p),C&=~I}}var qt=0;function pC(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var g5=i.unstable_scheduleCallback,mC=i.unstable_cancelCallback,WU=i.unstable_shouldYield,$U=i.unstable_requestPaint,Ir=i.unstable_now,A5=i.unstable_ImmediatePriority,jU=i.unstable_UserBlockingPriority,v5=i.unstable_NormalPriority,KU=i.unstable_IdlePriority,mm=null,Ro=null;function JU(f){if(Ro&&typeof Ro.onCommitFiberRoot=="function")try{Ro.onCommitFiberRoot(mm,f,void 0,(f.current.flags&128)===128)}catch{}}function XU(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Po=typeof Object.is=="function"?Object.is:XU,ma=null,gm=!1,y5=!1;function gC(f){ma===null?ma=[f]:ma.push(f)}function YU(f){gm=!0,gC(f)}function Do(){if(!y5&&ma!==null){y5=!0;var f=0,p=qt;try{var C=ma;for(qt=1;f<C.length;f++){var _=C[f];do _=_(!0);while(_!==null)}ma=null,gm=!1}catch(I){throw ma!==null&&(ma=ma.slice(f+1)),g5(A5,Do),I}finally{qt=p,y5=!1}}return null}var qU=a.ReactCurrentBatchConfig;function Am(f,p){if(Po(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var C=Object.keys(f),_=Object.keys(p);if(C.length!==_.length)return!1;for(_=0;_<C.length;_++){var I=C[_];if(!xi.call(p,I)||!Po(f[I],p[I]))return!1}return!0}function ZU(f){switch(f.tag){case 5:return St(f.type);case 16:return St("Lazy");case 13:return St("Suspense");case 19:return St("SuspenseList");case 0:case 2:case 15:return f=Cn(f.type,!1),f;case 11:return f=Cn(f.type.render,!1),f;case 1:return f=Cn(f.type,!0),f;default:return""}}function Ks(f,p){if(f&&f.defaultProps){p=s({},p),f=f.defaultProps;for(var C in f)p[C]===void 0&&(p[C]=f[C]);return p}return p}var vm=wt(null),ym=null,tf=null,E5=null;function x5(){E5=tf=ym=null}function AC(f,p,C){We?(yt(vm,p._currentValue),p._currentValue=C):(yt(vm,p._currentValue2),p._currentValue2=C)}function C5(f){var p=vm.current;rn(vm),We?f._currentValue=p:f._currentValue2=p}function S5(f,p,C){for(;f!==null;){var _=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,_!==null&&(_.childLanes|=p)):_!==null&&(_.childLanes&p)!==p&&(_.childLanes|=p),f===C)break;f=f.return}}function nf(f,p){ym=f,E5=tf=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&p&&(zi=!0),f.firstContext=null)}function cs(f){var p=We?f._currentValue:f._currentValue2;if(E5!==f)if(f={context:f,memoizedValue:p,next:null},tf===null){if(ym===null)throw Error(o(308));tf=f,ym.dependencies={lanes:0,firstContext:f}}else tf=tf.next=f;return p}var Lo=null,Al=!1;function _5(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vC(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function ga(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function vl(f,p){var C=f.updateQueue;C!==null&&(C=C.shared,or!==null&&f.mode&1&&!(Ut&2)?(f=C.interleaved,f===null?(p.next=p,Lo===null?Lo=[C]:Lo.push(C)):(p.next=f.next,f.next=p),C.interleaved=p):(f=C.pending,f===null?p.next=p:(p.next=f.next,f.next=p),C.pending=p))}function Em(f,p,C){if(p=p.updateQueue,p!==null&&(p=p.shared,(C&4194240)!==0)){var _=p.lanes;_&=f.pendingLanes,C|=_,p.lanes=C,m5(f,C)}}function yC(f,p){var C=f.updateQueue,_=f.alternate;if(_!==null&&(_=_.updateQueue,C===_)){var I=null,R=null;if(C=C.firstBaseUpdate,C!==null){do{var z={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};R===null?I=R=z:R=R.next=z,C=C.next}while(C!==null);R===null?I=R=p:R=R.next=p}else I=R=p;C={baseState:_.baseState,firstBaseUpdate:I,lastBaseUpdate:R,shared:_.shared,effects:_.effects},f.updateQueue=C;return}f=C.lastBaseUpdate,f===null?C.firstBaseUpdate=p:f.next=p,C.lastBaseUpdate=p}function xm(f,p,C,_){var I=f.updateQueue;Al=!1;var R=I.firstBaseUpdate,z=I.lastBaseUpdate,ee=I.shared.pending;if(ee!==null){I.shared.pending=null;var de=ee,Pe=de.next;de.next=null,z===null?R=Pe:z.next=Pe,z=de;var Xe=f.alternate;Xe!==null&&(Xe=Xe.updateQueue,ee=Xe.lastBaseUpdate,ee!==z&&(ee===null?Xe.firstBaseUpdate=Pe:ee.next=Pe,Xe.lastBaseUpdate=de))}if(R!==null){var Bt=I.baseState;z=0,Xe=Pe=de=null,ee=R;do{var ft=ee.lane,un=ee.eventTime;if((_&ft)===ft){Xe!==null&&(Xe=Xe.next={eventTime:un,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var lt=f,jr=ee;switch(ft=p,un=C,jr.tag){case 1:if(lt=jr.payload,typeof lt=="function"){Bt=lt.call(un,Bt,ft);break e}Bt=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=jr.payload,ft=typeof lt=="function"?lt.call(un,Bt,ft):lt,ft==null)break e;Bt=s({},Bt,ft);break e;case 2:Al=!0}}ee.callback!==null&&ee.lane!==0&&(f.flags|=64,ft=I.effects,ft===null?I.effects=[ee]:ft.push(ee))}else un={eventTime:un,lane:ft,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Xe===null?(Pe=Xe=un,de=Bt):Xe=Xe.next=un,z|=ft;if(ee=ee.next,ee===null){if(ee=I.shared.pending,ee===null)break;ft=ee,ee=ft.next,ft.next=null,I.lastBaseUpdate=ft,I.shared.pending=null}}while(1);if(Xe===null&&(de=Bt),I.baseState=de,I.firstBaseUpdate=Pe,I.lastBaseUpdate=Xe,p=I.shared.interleaved,p!==null){I=p;do z|=I.lane,I=I.next;while(I!==p)}else R===null&&(I.shared.lanes=0);hf|=z,f.lanes=z,f.memoizedState=Bt}}function EC(f,p,C){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var _=f[p],I=_.callback;if(I!==null){if(_.callback=null,_=C,typeof I!="function")throw Error(o(191,I));I.call(_)}}}var xC=new r.Component().refs;function w5(f,p,C,_){p=f.memoizedState,C=C(_,p),C=C==null?p:s({},p,C),f.memoizedState=C,f.lanes===0&&(f.updateQueue.baseState=C)}var Cm={isMounted:function(f){return(f=f._reactInternals)?b(f)===f:!1},enqueueSetState:function(f,p,C){f=f._reactInternals;var _=oi(),I=xl(f),R=ga(_,I);R.payload=p,C!=null&&(R.callback=C),vl(f,R),p=ps(f,I,_),p!==null&&Em(p,f,I)},enqueueReplaceState:function(f,p,C){f=f._reactInternals;var _=oi(),I=xl(f),R=ga(_,I);R.tag=1,R.payload=p,C!=null&&(R.callback=C),vl(f,R),p=ps(f,I,_),p!==null&&Em(p,f,I)},enqueueForceUpdate:function(f,p){f=f._reactInternals;var C=oi(),_=xl(f),I=ga(C,_);I.tag=2,p!=null&&(I.callback=p),vl(f,I),p=ps(f,_,C),p!==null&&Em(p,f,_)}};function CC(f,p,C,_,I,R,z){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(_,R,z):p.prototype&&p.prototype.isPureReactComponent?!Am(C,_)||!Am(I,R):!0}function SC(f,p,C){var _=!1,I=Hr,R=p.contextType;return typeof R=="object"&&R!==null?R=cs(R):(I=Wn(p)?$s:dr.current,_=p.contextTypes,R=(_=_!=null)?Vn(f,I):Hr),p=new p(C,R),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Cm,f.stateNode=p,p._reactInternals=f,_&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=I,f.__reactInternalMemoizedMaskedChildContext=R),p}function _C(f,p,C,_){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(C,_),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(C,_),p.state!==f&&Cm.enqueueReplaceState(p,p.state,null)}function I5(f,p,C,_){var I=f.stateNode;I.props=C,I.state=f.memoizedState,I.refs=xC,_5(f);var R=p.contextType;typeof R=="object"&&R!==null?I.context=cs(R):(R=Wn(p)?$s:dr.current,I.context=Vn(f,R)),I.state=f.memoizedState,R=p.getDerivedStateFromProps,typeof R=="function"&&(w5(f,p,R,C),I.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(p=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),p!==I.state&&Cm.enqueueReplaceState(I,I.state,null),xm(f,C,I,_),I.state=f.memoizedState),typeof I.componentDidMount=="function"&&(f.flags|=4194308)}var rf=[],sf=0,Sm=null,_m=0,us=[],fs=0,Lc=null,Aa=1,va="";function Fc(f,p){rf[sf++]=_m,rf[sf++]=Sm,Sm=f,_m=p}function wC(f,p,C){us[fs++]=Aa,us[fs++]=va,us[fs++]=Lc,Lc=f;var _=Aa;f=va;var I=32-js(_)-1;_&=~(1<<I),C+=1;var R=32-js(p)+I;if(30<R){var z=I-I%5;R=(_&(1<<z)-1).toString(32),_>>=z,I-=z,Aa=1<<32-js(p)+I|C<<I|_,va=R+f}else Aa=1<<R|C<<I|_,va=f}function T5(f){f.return!==null&&(Fc(f,1),wC(f,1,0))}function M5(f){for(;f===Sm;)Sm=rf[--sf],rf[sf]=null,_m=rf[--sf],rf[sf]=null;for(;f===Lc;)Lc=us[--fs],us[fs]=null,va=us[--fs],us[fs]=null,Aa=us[--fs],us[fs]=null}var Qi=null,Hi=null,bn=!1,Bd=!1,Js=null;function IC(f,p){var C=ms(5,null,null,0);C.elementType="DELETED",C.stateNode=p,C.return=f,p=f.deletions,p===null?(f.deletions=[C],f.flags|=16):p.push(C)}function TC(f,p){switch(f.tag){case 5:return p=Or(p,f.type,f.pendingProps),p!==null?(f.stateNode=p,Qi=f,Hi=fm(p),!0):!1;case 6:return p=am(p,f.pendingProps),p!==null?(f.stateNode=p,Qi=f,Hi=null,!0):!1;case 13:if(p=lm(p),p!==null){var C=Lc!==null?{id:Aa,overflow:va}:null;return f.memoizedState={dehydrated:p,treeContext:C,retryLane:1073741824},C=ms(18,null,null,0),C.stateNode=p,C.return=f,f.child=C,Qi=f,Hi=null,!0}return!1;default:return!1}}function b5(f){return(f.mode&1)!==0&&(f.flags&128)===0}function B5(f){if(bn){var p=Hi;if(p){var C=p;if(!TC(f,p)){if(b5(f))throw Error(o(418));p=Bo(C);var _=Qi;p&&TC(f,p)?IC(_,C):(f.flags=f.flags&-4097|2,bn=!1,Qi=f)}}else{if(b5(f))throw Error(o(418));f.flags=f.flags&-4097|2,bn=!1,Qi=f}}}function MC(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Qi=f}function Rd(f){if(!Ae||f!==Qi)return!1;if(!bn)return MC(f),bn=!0,!1;if(f.tag!==3&&(f.tag!==5||At(f.type)&&!ye(f.type,f.memoizedProps))){var p=Hi;if(p){if(b5(f)){for(f=Hi;f;)f=Bo(f);throw Error(o(418))}for(;p;)IC(f,p),p=Bo(p)}}if(MC(f),f.tag===13){if(!Ae)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Hi=me(f)}else Hi=Qi?Bo(f.stateNode):null;return!0}function of(){Ae&&(Hi=Qi=null,Bd=bn=!1)}function R5(f){Js===null?Js=[f]:Js.push(f)}function Pd(f,p,C){if(f=C.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(o(309));var _=C.stateNode}if(!_)throw Error(o(147,f));var I=_,R=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===R?p.ref:(p=function(z){var ee=I.refs;ee===xC&&(ee=I.refs={}),z===null?delete ee[R]:ee[R]=z},p._stringRef=R,p)}if(typeof f!="string")throw Error(o(284));if(!C._owner)throw Error(o(290,f))}return f}function wm(f,p){throw f=Object.prototype.toString.call(p),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function bC(f){var p=f._init;return p(f._payload)}function BC(f){function p(ie,te){if(f){var ce=ie.deletions;ce===null?(ie.deletions=[te],ie.flags|=16):ce.push(te)}}function C(ie,te){if(!f)return null;for(;te!==null;)p(ie,te),te=te.sibling;return null}function _(ie,te){for(ie=new Map;te!==null;)te.key!==null?ie.set(te.key,te):ie.set(te.index,te),te=te.sibling;return ie}function I(ie,te){return ie=Sl(ie,te),ie.index=0,ie.sibling=null,ie}function R(ie,te,ce){return ie.index=ce,f?(ce=ie.alternate,ce!==null?(ce=ce.index,ce<te?(ie.flags|=2,te):ce):(ie.flags|=2,te)):(ie.flags|=1048576,te)}function z(ie){return f&&ie.alternate===null&&(ie.flags|=2),ie}function ee(ie,te,ce,He){return te===null||te.tag!==6?(te=py(ce,ie.mode,He),te.return=ie,te):(te=I(te,ce),te.return=ie,te)}function de(ie,te,ce,He){var at=ce.type;return at===u?Xe(ie,te,ce.props.children,He,ce.key):te!==null&&(te.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===v&&bC(at)===te.type)?(He=I(te,ce.props),He.ref=Pd(ie,te,ce),He.return=ie,He):(He=ng(ce.type,ce.key,ce.props,null,ie.mode,He),He.ref=Pd(ie,te,ce),He.return=ie,He)}function Pe(ie,te,ce,He){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=my(ce,ie.mode,He),te.return=ie,te):(te=I(te,ce.children||[]),te.return=ie,te)}function Xe(ie,te,ce,He,at){return te===null||te.tag!==7?(te=Hc(ce,ie.mode,He,at),te.return=ie,te):(te=I(te,ce),te.return=ie,te)}function Bt(ie,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number")return te=py(""+te,ie.mode,ce),te.return=ie,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return ce=ng(te.type,te.key,te.props,null,ie.mode,ce),ce.ref=Pd(ie,null,te),ce.return=ie,ce;case c:return te=my(te,ie.mode,ce),te.return=ie,te;case v:var He=te._init;return Bt(ie,He(te._payload),ce)}if(W(te)||T(te))return te=Hc(te,ie.mode,ce,null),te.return=ie,te;wm(ie,te)}return null}function ft(ie,te,ce,He){var at=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return at!==null?null:ee(ie,te,""+ce,He);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===at?de(ie,te,ce,He):null;case c:return ce.key===at?Pe(ie,te,ce,He):null;case v:return at=ce._init,ft(ie,te,at(ce._payload),He)}if(W(ce)||T(ce))return at!==null?null:Xe(ie,te,ce,He,null);wm(ie,ce)}return null}function un(ie,te,ce,He,at){if(typeof He=="string"&&He!==""||typeof He=="number")return ie=ie.get(ce)||null,ee(te,ie,""+He,at);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case l:return ie=ie.get(He.key===null?ce:He.key)||null,de(te,ie,He,at);case c:return ie=ie.get(He.key===null?ce:He.key)||null,Pe(te,ie,He,at);case v:var Ot=He._init;return un(ie,te,ce,Ot(He._payload),at)}if(W(He)||T(He))return ie=ie.get(ce)||null,Xe(te,ie,He,at,null);wm(te,He)}return null}function lt(ie,te,ce,He){for(var at=null,Ot=null,Rt=te,Zt=te=0,Mr=null;Rt!==null&&Zt<ce.length;Zt++){Rt.index>Zt?(Mr=Rt,Rt=null):Mr=Rt.sibling;var en=ft(ie,Rt,ce[Zt],He);if(en===null){Rt===null&&(Rt=Mr);break}f&&Rt&&en.alternate===null&&p(ie,Rt),te=R(en,te,Zt),Ot===null?at=en:Ot.sibling=en,Ot=en,Rt=Mr}if(Zt===ce.length)return C(ie,Rt),bn&&Fc(ie,Zt),at;if(Rt===null){for(;Zt<ce.length;Zt++)Rt=Bt(ie,ce[Zt],He),Rt!==null&&(te=R(Rt,te,Zt),Ot===null?at=Rt:Ot.sibling=Rt,Ot=Rt);return bn&&Fc(ie,Zt),at}for(Rt=_(ie,Rt);Zt<ce.length;Zt++)Mr=un(Rt,ie,Zt,ce[Zt],He),Mr!==null&&(f&&Mr.alternate!==null&&Rt.delete(Mr.key===null?Zt:Mr.key),te=R(Mr,te,Zt),Ot===null?at=Mr:Ot.sibling=Mr,Ot=Mr);return f&&Rt.forEach(function(_l){return p(ie,_l)}),bn&&Fc(ie,Zt),at}function jr(ie,te,ce,He){var at=T(ce);if(typeof at!="function")throw Error(o(150));if(ce=at.call(ce),ce==null)throw Error(o(151));for(var Ot=at=null,Rt=te,Zt=te=0,Mr=null,en=ce.next();Rt!==null&&!en.done;Zt++,en=ce.next()){Rt.index>Zt?(Mr=Rt,Rt=null):Mr=Rt.sibling;var _l=ft(ie,Rt,en.value,He);if(_l===null){Rt===null&&(Rt=Mr);break}f&&Rt&&_l.alternate===null&&p(ie,Rt),te=R(_l,te,Zt),Ot===null?at=_l:Ot.sibling=_l,Ot=_l,Rt=Mr}if(en.done)return C(ie,Rt),bn&&Fc(ie,Zt),at;if(Rt===null){for(;!en.done;Zt++,en=ce.next())en=Bt(ie,en.value,He),en!==null&&(te=R(en,te,Zt),Ot===null?at=en:Ot.sibling=en,Ot=en);return bn&&Fc(ie,Zt),at}for(Rt=_(ie,Rt);!en.done;Zt++,en=ce.next())en=un(Rt,ie,Zt,en.value,He),en!==null&&(f&&en.alternate!==null&&Rt.delete(en.key===null?Zt:en.key),te=R(en,te,Zt),Ot===null?at=en:Ot.sibling=en,Ot=en);return f&&Rt.forEach(function(bG){return p(ie,bG)}),bn&&Fc(ie,Zt),at}function gs(ie,te,ce,He){if(typeof ce=="object"&&ce!==null&&ce.type===u&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var at=ce.key,Ot=te;Ot!==null;){if(Ot.key===at){if(at=ce.type,at===u){if(Ot.tag===7){C(ie,Ot.sibling),te=I(Ot,ce.props.children),te.return=ie,ie=te;break e}}else if(Ot.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===v&&bC(at)===Ot.type){C(ie,Ot.sibling),te=I(Ot,ce.props),te.ref=Pd(ie,Ot,ce),te.return=ie,ie=te;break e}C(ie,Ot);break}else p(ie,Ot);Ot=Ot.sibling}ce.type===u?(te=Hc(ce.props.children,ie.mode,He,ce.key),te.return=ie,ie=te):(He=ng(ce.type,ce.key,ce.props,null,ie.mode,He),He.ref=Pd(ie,te,ce),He.return=ie,ie=He)}return z(ie);case c:e:{for(Ot=ce.key;te!==null;){if(te.key===Ot)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){C(ie,te.sibling),te=I(te,ce.children||[]),te.return=ie,ie=te;break e}else{C(ie,te);break}else p(ie,te);te=te.sibling}te=my(ce,ie.mode,He),te.return=ie,ie=te}return z(ie);case v:return Ot=ce._init,gs(ie,te,Ot(ce._payload),He)}if(W(ce))return lt(ie,te,ce,He);if(T(ce))return jr(ie,te,ce,He);wm(ie,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,te!==null&&te.tag===6?(C(ie,te.sibling),te=I(te,ce),te.return=ie,ie=te):(C(ie,te),te=py(ce,ie.mode,He),te.return=ie,ie=te),z(ie)):C(ie,te)}return gs}var af=BC(!0),RC=BC(!1),Dd={},hs=wt(Dd),Ld=wt(Dd),lf=wt(Dd);function Fo(f){if(f===Dd)throw Error(o(174));return f}function P5(f,p){yt(lf,p),yt(Ld,f),yt(hs,Dd),f=Y(p),rn(hs),yt(hs,f)}function cf(){rn(hs),rn(Ld),rn(lf)}function PC(f){var p=Fo(lf.current),C=Fo(hs.current);p=k(C,f.type,p),C!==p&&(yt(Ld,f),yt(hs,p))}function D5(f){Ld.current===f&&(rn(hs),rn(Ld))}var Pn=wt(0);function Im(f){for(var p=f;p!==null;){if(p.tag===13){var C=p.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||cm(C)||ml(C)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var L5=[];function F5(){for(var f=0;f<L5.length;f++){var p=L5[f];We?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}L5.length=0}var Tm=a.ReactCurrentDispatcher,ds=a.ReactCurrentBatchConfig,uf=0,$n=null,Vr=null,Tr=null,Mm=!1,Fd=!1,Od=0,eG=0;function Wr(){throw Error(o(321))}function O5(f,p){if(p===null)return!1;for(var C=0;C<p.length&&C<f.length;C++)if(!Po(f[C],p[C]))return!1;return!0}function N5(f,p,C,_,I,R){if(uf=R,$n=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Tm.current=f===null||f.memoizedState===null?iG:sG,f=C(_,I),Fd){R=0;do{if(Fd=!1,Od=0,25<=R)throw Error(o(301));R+=1,Tr=Vr=null,p.updateQueue=null,Tm.current=oG,f=C(_,I)}while(Fd)}if(Tm.current=Dm,p=Vr!==null&&Vr.next!==null,uf=0,Tr=Vr=$n=null,Mm=!1,p)throw Error(o(300));return f}function k5(){var f=Od!==0;return Od=0,f}function ya(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?$n.memoizedState=Tr=f:Tr=Tr.next=f,Tr}function Oo(){if(Vr===null){var f=$n.alternate;f=f!==null?f.memoizedState:null}else f=Vr.next;var p=Tr===null?$n.memoizedState:Tr.next;if(p!==null)Tr=p,Vr=f;else{if(f===null)throw Error(o(310));Vr=f,f={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},Tr===null?$n.memoizedState=Tr=f:Tr=Tr.next=f}return Tr}function Oc(f,p){return typeof p=="function"?p(f):p}function bm(f){var p=Oo(),C=p.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=f;var _=Vr,I=_.baseQueue,R=C.pending;if(R!==null){if(I!==null){var z=I.next;I.next=R.next,R.next=z}_.baseQueue=I=R,C.pending=null}if(I!==null){R=I.next,_=_.baseState;var ee=z=null,de=null,Pe=R;do{var Xe=Pe.lane;if((uf&Xe)===Xe)de!==null&&(de=de.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),_=Pe.hasEagerState?Pe.eagerState:f(_,Pe.action);else{var Bt={lane:Xe,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};de===null?(ee=de=Bt,z=_):de=de.next=Bt,$n.lanes|=Xe,hf|=Xe}Pe=Pe.next}while(Pe!==null&&Pe!==R);de===null?z=_:de.next=ee,Po(_,p.memoizedState)||(zi=!0),p.memoizedState=_,p.baseState=z,p.baseQueue=de,C.lastRenderedState=_}if(f=C.interleaved,f!==null){I=f;do R=I.lane,$n.lanes|=R,hf|=R,I=I.next;while(I!==f)}else I===null&&(C.lanes=0);return[p.memoizedState,C.dispatch]}function Bm(f){var p=Oo(),C=p.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=f;var _=C.dispatch,I=C.pending,R=p.memoizedState;if(I!==null){C.pending=null;var z=I=I.next;do R=f(R,z.action),z=z.next;while(z!==I);Po(R,p.memoizedState)||(zi=!0),p.memoizedState=R,p.baseQueue===null&&(p.baseState=R),C.lastRenderedState=R}return[R,_]}function DC(){}function LC(f,p){var C=$n,_=Oo(),I=p(),R=!Po(_.memoizedState,I);if(R&&(_.memoizedState=I,zi=!0),_=_.queue,kd(NC.bind(null,C,_,f),[f]),_.getSnapshot!==p||R||Tr!==null&&Tr.memoizedState.tag&1){if(C.flags|=2048,Nd(9,OC.bind(null,C,_,I,p),void 0,null),or===null)throw Error(o(349));uf&30||FC(C,p,I)}return I}function FC(f,p,C){f.flags|=16384,f={getSnapshot:p,value:C},p=$n.updateQueue,p===null?(p={lastEffect:null,stores:null},$n.updateQueue=p,p.stores=[f]):(C=p.stores,C===null?p.stores=[f]:C.push(f))}function OC(f,p,C,_){p.value=C,p.getSnapshot=_,kC(p)&&ps(f,1,-1)}function NC(f,p,C){return C(function(){kC(p)&&ps(f,1,-1)})}function kC(f){var p=f.getSnapshot;f=f.value;try{var C=p();return!Po(f,C)}catch{return!0}}function U5(f){var p=ya();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:f},p.queue=f,f=f.dispatch=rG.bind(null,$n,f),[p.memoizedState,f]}function Nd(f,p,C,_){return f={tag:f,create:p,destroy:C,deps:_,next:null},p=$n.updateQueue,p===null?(p={lastEffect:null,stores:null},$n.updateQueue=p,p.lastEffect=f.next=f):(C=p.lastEffect,C===null?p.lastEffect=f.next=f:(_=C.next,C.next=f,f.next=_,p.lastEffect=f)),f}function UC(){return Oo().memoizedState}function Rm(f,p,C,_){var I=ya();$n.flags|=f,I.memoizedState=Nd(1|p,C,void 0,_===void 0?null:_)}function Pm(f,p,C,_){var I=Oo();_=_===void 0?null:_;var R=void 0;if(Vr!==null){var z=Vr.memoizedState;if(R=z.destroy,_!==null&&O5(_,z.deps)){I.memoizedState=Nd(p,C,R,_);return}}$n.flags|=f,I.memoizedState=Nd(1|p,C,R,_)}function G5(f,p){return Rm(8390656,8,f,p)}function kd(f,p){return Pm(2048,8,f,p)}function GC(f,p){return Pm(4,2,f,p)}function QC(f,p){return Pm(4,4,f,p)}function HC(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function zC(f,p,C){return C=C!=null?C.concat([f]):null,Pm(4,4,HC.bind(null,p,f),C)}function Q5(){}function VC(f,p){var C=Oo();p=p===void 0?null:p;var _=C.memoizedState;return _!==null&&p!==null&&O5(p,_[1])?_[0]:(C.memoizedState=[f,p],f)}function WC(f,p){var C=Oo();p=p===void 0?null:p;var _=C.memoizedState;return _!==null&&p!==null&&O5(p,_[1])?_[0]:(f=f(),C.memoizedState=[f,p],f)}function tG(f,p){var C=qt;qt=C!==0&&4>C?C:4,f(!0);var _=ds.transition;ds.transition={};try{f(!1),p()}finally{qt=C,ds.transition=_}}function $C(){return Oo().memoizedState}function nG(f,p,C){var _=xl(f);C={lane:_,action:C,hasEagerState:!1,eagerState:null,next:null},jC(f)?KC(p,C):(JC(f,p,C),C=oi(),f=ps(f,_,C),f!==null&&XC(f,p,_))}function rG(f,p,C){var _=xl(f),I={lane:_,action:C,hasEagerState:!1,eagerState:null,next:null};if(jC(f))KC(p,I);else{JC(f,p,I);var R=f.alternate;if(f.lanes===0&&(R===null||R.lanes===0)&&(R=p.lastRenderedReducer,R!==null))try{var z=p.lastRenderedState,ee=R(z,C);if(I.hasEagerState=!0,I.eagerState=ee,Po(ee,z))return}catch{}finally{}C=oi(),f=ps(f,_,C),f!==null&&XC(f,p,_)}}function jC(f){var p=f.alternate;return f===$n||p!==null&&p===$n}function KC(f,p){Fd=Mm=!0;var C=f.pending;C===null?p.next=p:(p.next=C.next,C.next=p),f.pending=p}function JC(f,p,C){or!==null&&f.mode&1&&!(Ut&2)?(f=p.interleaved,f===null?(C.next=C,Lo===null?Lo=[p]:Lo.push(p)):(C.next=f.next,f.next=C),p.interleaved=C):(f=p.pending,f===null?C.next=C:(C.next=f.next,f.next=C),p.pending=C)}function XC(f,p,C){if(C&4194240){var _=p.lanes;_&=f.pendingLanes,C|=_,p.lanes=C,m5(f,C)}}var Dm={readContext:cs,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},iG={readContext:cs,useCallback:function(f,p){return ya().memoizedState=[f,p===void 0?null:p],f},useContext:cs,useEffect:G5,useImperativeHandle:function(f,p,C){return C=C!=null?C.concat([f]):null,Rm(4194308,4,HC.bind(null,p,f),C)},useLayoutEffect:function(f,p){return Rm(4194308,4,f,p)},useInsertionEffect:function(f,p){return Rm(4,2,f,p)},useMemo:function(f,p){var C=ya();return p=p===void 0?null:p,f=f(),C.memoizedState=[f,p],f},useReducer:function(f,p,C){var _=ya();return p=C!==void 0?C(p):p,_.memoizedState=_.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},_.queue=f,f=f.dispatch=nG.bind(null,$n,f),[_.memoizedState,f]},useRef:function(f){var p=ya();return f={current:f},p.memoizedState=f},useState:U5,useDebugValue:Q5,useDeferredValue:function(f){var p=U5(f),C=p[0],_=p[1];return G5(function(){var I=ds.transition;ds.transition={};try{_(f)}finally{ds.transition=I}},[f]),C},useTransition:function(){var f=U5(!1),p=f[0];return f=tG.bind(null,f[1]),ya().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,C){var _=$n,I=ya();if(bn){if(C===void 0)throw Error(o(407));C=C()}else{if(C=p(),or===null)throw Error(o(349));uf&30||FC(_,p,C)}I.memoizedState=C;var R={value:C,getSnapshot:p};return I.queue=R,G5(NC.bind(null,_,R,f),[f]),_.flags|=2048,Nd(9,OC.bind(null,_,R,C,p),void 0,null),C},useId:function(){var f=ya(),p=or.identifierPrefix;if(bn){var C=va,_=Aa;C=(_&~(1<<32-js(_)-1)).toString(32)+C,p=":"+p+"R"+C,C=Od++,0<C&&(p+="H"+C.toString(32)),p+=":"}else C=eG++,p=":"+p+"r"+C.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},sG={readContext:cs,useCallback:VC,useContext:cs,useEffect:kd,useImperativeHandle:zC,useInsertionEffect:GC,useLayoutEffect:QC,useMemo:WC,useReducer:bm,useRef:UC,useState:function(){return bm(Oc)},useDebugValue:Q5,useDeferredValue:function(f){var p=bm(Oc),C=p[0],_=p[1];return kd(function(){var I=ds.transition;ds.transition={};try{_(f)}finally{ds.transition=I}},[f]),C},useTransition:function(){var f=bm(Oc)[0],p=Oo().memoizedState;return[f,p]},useMutableSource:DC,useSyncExternalStore:LC,useId:$C,unstable_isNewReconciler:!1},oG={readContext:cs,useCallback:VC,useContext:cs,useEffect:kd,useImperativeHandle:zC,useInsertionEffect:GC,useLayoutEffect:QC,useMemo:WC,useReducer:Bm,useRef:UC,useState:function(){return Bm(Oc)},useDebugValue:Q5,useDeferredValue:function(f){var p=Bm(Oc),C=p[0],_=p[1];return kd(function(){var I=ds.transition;ds.transition={};try{_(f)}finally{ds.transition=I}},[f]),C},useTransition:function(){var f=Bm(Oc)[0],p=Oo().memoizedState;return[f,p]},useMutableSource:DC,useSyncExternalStore:LC,useId:$C,unstable_isNewReconciler:!1};function H5(f,p){try{var C="",_=p;do C+=ZU(_),_=_.return;while(_);var I=C}catch(R){I=`
Error generating stack: `+R.message+`
`+R.stack}return{value:f,source:p,stack:I}}function z5(f,p){try{console.error(p.value)}catch(C){setTimeout(function(){throw C})}}var aG=typeof WeakMap=="function"?WeakMap:Map;function YC(f,p,C){C=ga(-1,C),C.tag=3,C.payload={element:null};var _=p.value;return C.callback=function(){Jm||(Jm=!0,ay=_),z5(f,p)},C}function qC(f,p,C){C=ga(-1,C),C.tag=3;var _=f.type.getDerivedStateFromError;if(typeof _=="function"){var I=p.value;C.payload=function(){return _(I)},C.callback=function(){z5(f,p)}}var R=f.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(C.callback=function(){z5(f,p),typeof _!="function"&&(yl===null?yl=new Set([this]):yl.add(this));var z=p.stack;this.componentDidCatch(p.value,{componentStack:z!==null?z:""})}),C}function ZC(f,p,C){var _=f.pingCache;if(_===null){_=f.pingCache=new aG;var I=new Set;_.set(p,I)}else I=_.get(p),I===void 0&&(I=new Set,_.set(p,I));I.has(C)||(I.add(C),f=xG.bind(null,f,p,C),p.then(f,f))}function eS(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function tS(f,p,C,_,I){return f.mode&1?(f.flags|=65536,f.lanes=I,f):(f===p?f.flags|=65536:(f.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(p=ga(-1,1),p.tag=2,vl(C,p))),C.lanes|=1),f)}function No(f){f.flags|=4}function nS(f,p){if(f!==null&&f.child===p.child)return!0;if(p.flags&16)return!1;for(f=p.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var Ud,Gd,Lm,Fm;if(xe)Ud=function(f,p){for(var C=p.child;C!==null;){if(C.tag===5||C.tag===6)X(f,C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},Gd=function(){},Lm=function(f,p,C,_,I){if(f=f.memoizedProps,f!==_){var R=p.stateNode,z=Fo(hs.current);C=pe(R,C,f,_,I,z),(p.updateQueue=C)&&No(p)}},Fm=function(f,p,C,_){C!==_&&No(p)};else if(j){Ud=function(f,p,C,_){for(var I=p.child;I!==null;){if(I.tag===5){var R=I.stateNode;C&&_&&(R=an(R,I.type,I.memoizedProps,I)),X(f,R)}else if(I.tag===6)R=I.stateNode,C&&_&&(R=Ui(R,I.memoizedProps,I)),X(f,R);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)R=I.child,R!==null&&(R.return=I),Ud(f,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===p)break;for(;I.sibling===null;){if(I.return===null||I.return===p)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var rS=function(f,p,C,_){for(var I=p.child;I!==null;){if(I.tag===5){var R=I.stateNode;C&&_&&(R=an(R,I.type,I.memoizedProps,I)),dn(f,R)}else if(I.tag===6)R=I.stateNode,C&&_&&(R=Ui(R,I.memoizedProps,I)),dn(f,R);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)R=I.child,R!==null&&(R.return=I),rS(f,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===p)break;for(;I.sibling===null;){if(I.return===null||I.return===p)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};Gd=function(f,p){var C=p.stateNode;if(!nS(f,p)){f=C.containerInfo;var _=zt(f);rS(_,p,!1,!1),C.pendingChildren=_,No(p),zn(f,_)}},Lm=function(f,p,C,_,I){var R=f.stateNode,z=f.memoizedProps;if((f=nS(f,p))&&z===_)p.stateNode=R;else{var ee=p.stateNode,de=Fo(hs.current),Pe=null;z!==_&&(Pe=pe(ee,C,z,_,I,de)),f&&Pe===null?p.stateNode=R:(R=Ge(R,Pe,C,z,_,p,f,ee),le(R,C,_,I,de)&&No(p),p.stateNode=R,f?No(p):Ud(R,p,!1,!1))}},Fm=function(f,p,C,_){C!==_?(f=Fo(lf.current),C=Fo(hs.current),p.stateNode=Se(_,f,C,p),No(p)):p.stateNode=f.stateNode}}else Gd=function(){},Lm=function(){},Fm=function(){};function Qd(f,p){if(!bn)switch(f.tailMode){case"hidden":p=f.tail;for(var C=null;p!==null;)p.alternate!==null&&(C=p),p=p.sibling;C===null?f.tail=null:C.sibling=null;break;case"collapsed":C=f.tail;for(var _=null;C!==null;)C.alternate!==null&&(_=C),C=C.sibling;_===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:_.sibling=null}}function $r(f){var p=f.alternate!==null&&f.alternate.child===f.child,C=0,_=0;if(p)for(var I=f.child;I!==null;)C|=I.lanes|I.childLanes,_|=I.subtreeFlags&14680064,_|=I.flags&14680064,I.return=f,I=I.sibling;else for(I=f.child;I!==null;)C|=I.lanes|I.childLanes,_|=I.subtreeFlags,_|=I.flags,I.return=f,I=I.sibling;return f.subtreeFlags|=_,f.childLanes=C,p}function lG(f,p,C){var _=p.pendingProps;switch(M5(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(p),null;case 1:return Wn(p.type)&&gl(),$r(p),null;case 3:return _=p.stateNode,cf(),rn(sr),rn(dr),F5(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(Rd(p)?No(p):f===null||f.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Js!==null&&(uy(Js),Js=null))),Gd(f,p),$r(p),null;case 5:D5(p),C=Fo(lf.current);var I=p.type;if(f!==null&&p.stateNode!=null)Lm(f,p,I,_,C),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!_){if(p.stateNode===null)throw Error(o(166));return $r(p),null}if(f=Fo(hs.current),Rd(p)){if(!Ae)throw Error(o(175));f=h5(p.stateNode,p.type,p.memoizedProps,C,f,p,!Bd),p.updateQueue=f,f!==null&&No(p)}else{var R=G(I,_,C,f,p);Ud(R,p,!1,!1),p.stateNode=R,le(R,I,_,C,f)&&No(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return $r(p),null;case 6:if(f&&p.stateNode!=null)Fm(f,p,f.memoizedProps,_);else{if(typeof _!="string"&&p.stateNode===null)throw Error(o(166));if(f=Fo(lf.current),C=Fo(hs.current),Rd(p)){if(!Ae)throw Error(o(176));if(f=p.stateNode,_=p.memoizedProps,(C=Q(f,_,p,!Bd))&&(I=Qi,I!==null))switch(R=(I.mode&1)!==0,I.tag){case 3:vt(I.stateNode.containerInfo,f,_,R);break;case 5:kt(I.type,I.memoizedProps,I.stateNode,f,_,R)}C&&No(p)}else p.stateNode=Se(_,f,C,p)}return $r(p),null;case 13:if(rn(Pn),_=p.memoizedState,bn&&Hi!==null&&p.mode&1&&!(p.flags&128)){for(f=Hi;f;)f=Bo(f);return of(),p.flags|=98560,p}if(_!==null&&_.dehydrated!==null){if(_=Rd(p),f===null){if(!_)throw Error(o(318));if(!Ae)throw Error(o(344));if(f=p.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));re(f,p)}else of(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return $r(p),null}return Js!==null&&(uy(Js),Js=null),p.flags&128?(p.lanes=C,p):(_=_!==null,C=!1,f===null?Rd(p):C=f.memoizedState!==null,_&&!C&&(p.child.flags|=8192,p.mode&1&&(f===null||Pn.current&1?pr===0&&(pr=3):hy())),p.updateQueue!==null&&(p.flags|=4),$r(p),null);case 4:return cf(),Gd(f,p),f===null&&_e(p.stateNode.containerInfo),$r(p),null;case 10:return C5(p.type._context),$r(p),null;case 17:return Wn(p.type)&&gl(),$r(p),null;case 19:if(rn(Pn),I=p.memoizedState,I===null)return $r(p),null;if(_=(p.flags&128)!==0,R=I.rendering,R===null)if(_)Qd(I,!1);else{if(pr!==0||f!==null&&f.flags&128)for(f=p.child;f!==null;){if(R=Im(f),R!==null){for(p.flags|=128,Qd(I,!1),f=R.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),p.subtreeFlags=0,f=C,_=p.child;_!==null;)C=_,I=f,C.flags&=14680066,R=C.alternate,R===null?(C.childLanes=0,C.lanes=I,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=R.childLanes,C.lanes=R.lanes,C.child=R.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=R.memoizedProps,C.memoizedState=R.memoizedState,C.updateQueue=R.updateQueue,C.type=R.type,I=R.dependencies,C.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),_=_.sibling;return yt(Pn,Pn.current&1|2),p.child}f=f.sibling}I.tail!==null&&Ir()>oy&&(p.flags|=128,_=!0,Qd(I,!1),p.lanes=4194304)}else{if(!_)if(f=Im(R),f!==null){if(p.flags|=128,_=!0,f=f.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),Qd(I,!0),I.tail===null&&I.tailMode==="hidden"&&!R.alternate&&!bn)return $r(p),null}else 2*Ir()-I.renderingStartTime>oy&&C!==1073741824&&(p.flags|=128,_=!0,Qd(I,!1),p.lanes=4194304);I.isBackwards?(R.sibling=p.child,p.child=R):(f=I.last,f!==null?f.sibling=R:p.child=R,I.last=R)}return I.tail!==null?(p=I.tail,I.rendering=p,I.tail=p.sibling,I.renderingStartTime=Ir(),p.sibling=null,f=Pn.current,yt(Pn,_?f&1|2:f&1),p):($r(p),null);case 22:case 23:return fy(),_=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==_&&(p.flags|=8192),_&&p.mode&1?Vi&1073741824&&($r(p),xe&&p.subtreeFlags&6&&(p.flags|=8192)):$r(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var cG=a.ReactCurrentOwner,zi=!1;function si(f,p,C,_){p.child=f===null?RC(p,null,C,_):af(p,f.child,C,_)}function iS(f,p,C,_,I){C=C.render;var R=p.ref;return nf(p,I),_=N5(f,p,C,_,R,I),C=k5(),f!==null&&!zi?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~I,Ea(f,p,I)):(bn&&C&&T5(p),p.flags|=1,si(f,p,_,I),p.child)}function sS(f,p,C,_,I){if(f===null){var R=C.type;return typeof R=="function"&&!dy(R)&&R.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(p.tag=15,p.type=R,oS(f,p,R,_,I)):(f=ng(C.type,null,_,p,p.mode,I),f.ref=p.ref,f.return=p,p.child=f)}if(R=f.child,!(f.lanes&I)){var z=R.memoizedProps;if(C=C.compare,C=C!==null?C:Am,C(z,_)&&f.ref===p.ref)return Ea(f,p,I)}return p.flags|=1,f=Sl(R,_),f.ref=p.ref,f.return=p,p.child=f}function oS(f,p,C,_,I){if(f!==null&&Am(f.memoizedProps,_)&&f.ref===p.ref)if(zi=!1,(f.lanes&I)!==0)f.flags&131072&&(zi=!0);else return p.lanes=f.lanes,Ea(f,p,I);return V5(f,p,C,_,I)}function aS(f,p,C){var _=p.pendingProps,I=_.children,R=f!==null?f.memoizedState:null;if(_.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},yt(ff,Vi),Vi|=C;else if(C&1073741824)p.memoizedState={baseLanes:0,cachePool:null},_=R!==null?R.baseLanes:C,yt(ff,Vi),Vi|=_;else return f=R!==null?R.baseLanes|C:C,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null},p.updateQueue=null,yt(ff,Vi),Vi|=f,null;else R!==null?(_=R.baseLanes|C,p.memoizedState=null):_=C,yt(ff,Vi),Vi|=_;return si(f,p,I,C),p.child}function lS(f,p){var C=p.ref;(f===null&&C!==null||f!==null&&f.ref!==C)&&(p.flags|=512,p.flags|=2097152)}function V5(f,p,C,_,I){var R=Wn(C)?$s:dr.current;return R=Vn(p,R),nf(p,I),C=N5(f,p,C,_,R,I),_=k5(),f!==null&&!zi?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~I,Ea(f,p,I)):(bn&&_&&T5(p),p.flags|=1,si(f,p,C,I),p.child)}function cS(f,p,C,_,I){if(Wn(C)){var R=!0;ef(p)}else R=!1;if(nf(p,I),p.stateNode===null)f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),SC(p,C,_),I5(p,C,_,I),_=!0;else if(f===null){var z=p.stateNode,ee=p.memoizedProps;z.props=ee;var de=z.context,Pe=C.contextType;typeof Pe=="object"&&Pe!==null?Pe=cs(Pe):(Pe=Wn(C)?$s:dr.current,Pe=Vn(p,Pe));var Xe=C.getDerivedStateFromProps,Bt=typeof Xe=="function"||typeof z.getSnapshotBeforeUpdate=="function";Bt||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ee!==_||de!==Pe)&&_C(p,z,_,Pe),Al=!1;var ft=p.memoizedState;z.state=ft,xm(p,_,z,I),de=p.memoizedState,ee!==_||ft!==de||sr.current||Al?(typeof Xe=="function"&&(w5(p,C,Xe,_),de=p.memoizedState),(ee=Al||CC(p,C,ee,_,ft,de,Pe))?(Bt||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(p.flags|=4194308)):(typeof z.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=_,p.memoizedState=de),z.props=_,z.state=de,z.context=Pe,_=ee):(typeof z.componentDidMount=="function"&&(p.flags|=4194308),_=!1)}else{z=p.stateNode,vC(f,p),ee=p.memoizedProps,Pe=p.type===p.elementType?ee:Ks(p.type,ee),z.props=Pe,Bt=p.pendingProps,ft=z.context,de=C.contextType,typeof de=="object"&&de!==null?de=cs(de):(de=Wn(C)?$s:dr.current,de=Vn(p,de));var un=C.getDerivedStateFromProps;(Xe=typeof un=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ee!==Bt||ft!==de)&&_C(p,z,_,de),Al=!1,ft=p.memoizedState,z.state=ft,xm(p,_,z,I);var lt=p.memoizedState;ee!==Bt||ft!==lt||sr.current||Al?(typeof un=="function"&&(w5(p,C,un,_),lt=p.memoizedState),(Pe=Al||CC(p,C,Pe,_,ft,lt,de)||!1)?(Xe||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(_,lt,de),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(_,lt,de)),typeof z.componentDidUpdate=="function"&&(p.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof z.componentDidUpdate!="function"||ee===f.memoizedProps&&ft===f.memoizedState||(p.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ee===f.memoizedProps&&ft===f.memoizedState||(p.flags|=1024),p.memoizedProps=_,p.memoizedState=lt),z.props=_,z.state=lt,z.context=de,_=Pe):(typeof z.componentDidUpdate!="function"||ee===f.memoizedProps&&ft===f.memoizedState||(p.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ee===f.memoizedProps&&ft===f.memoizedState||(p.flags|=1024),_=!1)}return W5(f,p,C,_,R,I)}function W5(f,p,C,_,I,R){lS(f,p);var z=(p.flags&128)!==0;if(!_&&!z)return I&&Td(p,C,!1),Ea(f,p,R);_=p.stateNode,cG.current=p;var ee=z&&typeof C.getDerivedStateFromError!="function"?null:_.render();return p.flags|=1,f!==null&&z?(p.child=af(p,f.child,null,R),p.child=af(p,null,ee,R)):si(f,p,ee,R),p.memoizedState=_.state,I&&Td(p,C,!0),p.child}function uS(f){var p=f.stateNode;p.pendingContext?zr(f,p.pendingContext,p.pendingContext!==p.context):p.context&&zr(f,p.context,!1),P5(f,p.containerInfo)}function fS(f,p,C,_,I){return of(),R5(I),p.flags|=256,si(f,p,C,_),p.child}var Om={dehydrated:null,treeContext:null,retryLane:0};function Nm(f){return{baseLanes:f,cachePool:null}}function hS(f,p,C){var _=p.pendingProps,I=Pn.current,R=!1,z=(p.flags&128)!==0,ee;if((ee=z)||(ee=f!==null&&f.memoizedState===null?!1:(I&2)!==0),ee?(R=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(I|=1),yt(Pn,I&1),f===null)return B5(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(p.mode&1?ml(f)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(I=_.children,f=_.fallback,R?(_=p.mode,R=p.child,I={mode:"hidden",children:I},!(_&1)&&R!==null?(R.childLanes=0,R.pendingProps=I):R=rg(I,_,0,null),f=Hc(f,_,C,null),R.return=p,f.return=p,R.sibling=f,p.child=R,p.child.memoizedState=Nm(C),p.memoizedState=Om,f):$5(p,I));if(I=f.memoizedState,I!==null){if(ee=I.dehydrated,ee!==null){if(z)return p.flags&256?(p.flags&=-257,km(f,p,C,Error(o(422)))):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(R=_.fallback,I=p.mode,_=rg({mode:"visible",children:_.children},I,0,null),R=Hc(R,I,C,null),R.flags|=2,_.return=p,R.return=p,_.sibling=R,p.child=_,p.mode&1&&af(p,f.child,null,C),p.child.memoizedState=Nm(C),p.memoizedState=Om,R);if(!(p.mode&1))p=km(f,p,C,null);else if(ml(ee))p=km(f,p,C,Error(o(419)));else if(_=(C&f.childLanes)!==0,zi||_){if(_=or,_!==null){switch(C&-C){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}_=R&(_.suspendedLanes|C)?0:R,_!==0&&_!==I.retryLane&&(I.retryLane=_,ps(f,_,-1))}hy(),p=km(f,p,C,Error(o(421)))}else cm(ee)?(p.flags|=128,p.child=f.child,p=CG.bind(null,f),um(ee,p),p=null):(C=I.treeContext,Ae&&(Hi=f5(ee),Qi=p,bn=!0,Js=null,Bd=!1,C!==null&&(us[fs++]=Aa,us[fs++]=va,us[fs++]=Lc,Aa=C.id,va=C.overflow,Lc=p)),p=$5(p,p.pendingProps.children),p.flags|=4096);return p}return R?(_=pS(f,p,_.children,_.fallback,C),R=p.child,I=f.child.memoizedState,R.memoizedState=I===null?Nm(C):{baseLanes:I.baseLanes|C,cachePool:null},R.childLanes=f.childLanes&~C,p.memoizedState=Om,_):(C=dS(f,p,_.children,C),p.memoizedState=null,C)}return R?(_=pS(f,p,_.children,_.fallback,C),R=p.child,I=f.child.memoizedState,R.memoizedState=I===null?Nm(C):{baseLanes:I.baseLanes|C,cachePool:null},R.childLanes=f.childLanes&~C,p.memoizedState=Om,_):(C=dS(f,p,_.children,C),p.memoizedState=null,C)}function $5(f,p){return p=rg({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function dS(f,p,C,_){var I=f.child;return f=I.sibling,C=Sl(I,{mode:"visible",children:C}),!(p.mode&1)&&(C.lanes=_),C.return=p,C.sibling=null,f!==null&&(_=p.deletions,_===null?(p.deletions=[f],p.flags|=16):_.push(f)),p.child=C}function pS(f,p,C,_,I){var R=p.mode;f=f.child;var z=f.sibling,ee={mode:"hidden",children:C};return!(R&1)&&p.child!==f?(C=p.child,C.childLanes=0,C.pendingProps=ee,p.deletions=null):(C=Sl(f,ee),C.subtreeFlags=f.subtreeFlags&14680064),z!==null?_=Sl(z,_):(_=Hc(_,R,I,null),_.flags|=2),_.return=p,C.return=p,C.sibling=_,p.child=C,_}function km(f,p,C,_){return _!==null&&R5(_),af(p,f.child,null,C),f=$5(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function mS(f,p,C){f.lanes|=p;var _=f.alternate;_!==null&&(_.lanes|=p),S5(f.return,p,C)}function j5(f,p,C,_,I){var R=f.memoizedState;R===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:_,tail:C,tailMode:I}:(R.isBackwards=p,R.rendering=null,R.renderingStartTime=0,R.last=_,R.tail=C,R.tailMode=I)}function gS(f,p,C){var _=p.pendingProps,I=_.revealOrder,R=_.tail;if(si(f,p,_.children,C),_=Pn.current,_&2)_=_&1|2,p.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&mS(f,C,p);else if(f.tag===19)mS(f,C,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}_&=1}if(yt(Pn,_),!(p.mode&1))p.memoizedState=null;else switch(I){case"forwards":for(C=p.child,I=null;C!==null;)f=C.alternate,f!==null&&Im(f)===null&&(I=C),C=C.sibling;C=I,C===null?(I=p.child,p.child=null):(I=C.sibling,C.sibling=null),j5(p,!1,I,C,R);break;case"backwards":for(C=null,I=p.child,p.child=null;I!==null;){if(f=I.alternate,f!==null&&Im(f)===null){p.child=I;break}f=I.sibling,I.sibling=C,C=I,I=f}j5(p,!0,C,null,R);break;case"together":j5(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Ea(f,p,C){if(f!==null&&(p.dependencies=f.dependencies),hf|=p.lanes,!(C&p.childLanes))return null;if(f!==null&&p.child!==f.child)throw Error(o(153));if(p.child!==null){for(f=p.child,C=Sl(f,f.pendingProps),p.child=C,C.return=p;f.sibling!==null;)f=f.sibling,C=C.sibling=Sl(f,f.pendingProps),C.return=p;C.sibling=null}return p.child}function uG(f,p,C){switch(p.tag){case 3:uS(p),of();break;case 5:PC(p);break;case 1:Wn(p.type)&&ef(p);break;case 4:P5(p,p.stateNode.containerInfo);break;case 10:AC(p,p.type._context,p.memoizedProps.value);break;case 13:var _=p.memoizedState;if(_!==null)return _.dehydrated!==null?(yt(Pn,Pn.current&1),p.flags|=128,null):C&p.child.childLanes?hS(f,p,C):(yt(Pn,Pn.current&1),f=Ea(f,p,C),f!==null?f.sibling:null);yt(Pn,Pn.current&1);break;case 19:if(_=(C&p.childLanes)!==0,f.flags&128){if(_)return gS(f,p,C);p.flags|=128}var I=p.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),yt(Pn,Pn.current),_)break;return null;case 22:case 23:return p.lanes=0,aS(f,p,C)}return Ea(f,p,C)}function fG(f,p){switch(M5(p),p.tag){case 1:return Wn(p.type)&&gl(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return cf(),rn(sr),rn(dr),F5(),f=p.flags,f&65536&&!(f&128)?(p.flags=f&-65537|128,p):null;case 5:return D5(p),null;case 13:if(rn(Pn),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(o(340));of()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return rn(Pn),null;case 4:return cf(),null;case 10:return C5(p.type._context),null;case 22:case 23:return fy(),null;case 24:return null;default:return null}}var Um=!1,Nc=!1,hG=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Gm(f,p){var C=f.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(_){_i(f,p,_)}else C.current=null}function K5(f,p,C){try{C()}catch(_){_i(f,p,_)}}var AS=!1;function dG(f,p){for(K(f.containerInfo),Ue=p;Ue!==null;)if(f=Ue,p=f.child,(f.subtreeFlags&1028)!==0&&p!==null)p.return=f,Ue=p;else for(;Ue!==null;){f=Ue;try{var C=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var _=C.memoizedProps,I=C.memoizedState,R=f.stateNode,z=R.getSnapshotBeforeUpdate(f.elementType===f.type?_:Ks(f.type,_),I);R.__reactInternalSnapshotBeforeUpdate=z}break;case 3:xe&&Re(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ee){_i(f,f.return,ee)}if(p=f.sibling,p!==null){p.return=f.return,Ue=p;break}Ue=f.return}return C=AS,AS=!1,C}function kc(f,p,C){var _=p.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var I=_=_.next;do{if((I.tag&f)===f){var R=I.destroy;I.destroy=void 0,R!==void 0&&K5(p,C,R)}I=I.next}while(I!==_)}}function Hd(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var C=p=p.next;do{if((C.tag&f)===f){var _=C.create;C.destroy=_()}C=C.next}while(C!==p)}}function J5(f){var p=f.ref;if(p!==null){var C=f.stateNode;switch(f.tag){case 5:f=q(C);break;default:f=C}typeof p=="function"?p(f):p.current=f}}function vS(f,p,C){if(Ro&&typeof Ro.onCommitFiberUnmount=="function")try{Ro.onCommitFiberUnmount(mm,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(f=p.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var _=f=f.next;do{var I=_,R=I.destroy;I=I.tag,R!==void 0&&(I&2||I&4)&&K5(p,C,R),_=_.next}while(_!==f)}break;case 1:if(Gm(p,C),f=p.stateNode,typeof f.componentWillUnmount=="function")try{f.props=p.memoizedProps,f.state=p.memoizedState,f.componentWillUnmount()}catch(z){_i(p,C,z)}break;case 5:Gm(p,C);break;case 4:xe?_S(f,p,C):j&&j&&(p=p.stateNode.containerInfo,C=zt(p),Ws(p,C))}}function yS(f,p,C){for(var _=p;;)if(vS(f,_,C),_.child===null||xe&&_.tag===4){if(_===p)break;for(;_.sibling===null;){if(_.return===null||_.return===p)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else _.child.return=_,_=_.child}function ES(f){var p=f.alternate;p!==null&&(f.alternate=null,ES(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&Qe(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function xS(f){return f.tag===5||f.tag===3||f.tag===4}function CS(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||xS(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function SS(f){if(xe){e:{for(var p=f.return;p!==null;){if(xS(p))break e;p=p.return}throw Error(o(160))}var C=p;switch(C.tag){case 5:p=C.stateNode,C.flags&32&&(Ct(p),C.flags&=-33),C=CS(f),Y5(f,C,p);break;case 3:case 4:p=C.stateNode.containerInfo,C=CS(f),X5(f,C,p);break;default:throw Error(o(161))}}}function X5(f,p,C){var _=f.tag;if(_===5||_===6)f=f.stateNode,p?ot(C,f,p):ze(C,f);else if(_!==4&&(f=f.child,f!==null))for(X5(f,p,C),f=f.sibling;f!==null;)X5(f,p,C),f=f.sibling}function Y5(f,p,C){var _=f.tag;if(_===5||_===6)f=f.stateNode,p?it(C,f,p):Ie(C,f);else if(_!==4&&(f=f.child,f!==null))for(Y5(f,p,C),f=f.sibling;f!==null;)Y5(f,p,C),f=f.sibling}function _S(f,p,C){for(var _=p,I=!1,R,z;;){if(!I){I=_.return;e:for(;;){if(I===null)throw Error(o(160));switch(R=I.stateNode,I.tag){case 5:z=!1;break e;case 3:R=R.containerInfo,z=!0;break e;case 4:R=R.containerInfo,z=!0;break e}I=I.return}I=!0}if(_.tag===5||_.tag===6)yS(f,_,C),z?je(R,_.stateNode):$e(R,_.stateNode);else if(_.tag===18)z?ut(R,_.stateNode):Je(R,_.stateNode);else if(_.tag===4){if(_.child!==null){R=_.stateNode.containerInfo,z=!0,_.child.return=_,_=_.child;continue}}else if(vS(f,_,C),_.child!==null){_.child.return=_,_=_.child;continue}if(_===p)break;for(;_.sibling===null;){if(_.return===null||_.return===p)return;_=_.return,_.tag===4&&(I=!1)}_.sibling.return=_.return,_=_.sibling}}function q5(f,p){if(xe){switch(p.tag){case 0:case 11:case 14:case 15:kc(3,p,p.return),Hd(3,p),kc(5,p,p.return);return;case 1:return;case 5:var C=p.stateNode;if(C!=null){var _=p.memoizedProps;f=f!==null?f.memoizedProps:_;var I=p.type,R=p.updateQueue;p.updateQueue=null,R!==null&&tt(C,R,I,f,_,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));C=p.memoizedProps,Te(p.stateNode,f!==null?f.memoizedProps:C,C);return;case 3:Ae&&f!==null&&f.memoizedState.isDehydrated&&se(p.stateNode.containerInfo);return;case 12:return;case 13:Qm(p);return;case 19:Qm(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:kc(3,p,p.return),Hd(3,p),kc(5,p,p.return);return;case 12:return;case 13:Qm(p);return;case 19:Qm(p);return;case 3:Ae&&f!==null&&f.memoizedState.isDehydrated&&se(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(j){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Ws(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function Qm(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var C=f.stateNode;C===null&&(C=f.stateNode=new hG),p.forEach(function(_){var I=SG.bind(null,f,_);C.has(_)||(C.add(_),_.then(I,I))})}}function pG(f,p){for(Ue=p;Ue!==null;){p=Ue;var C=p.deletions;if(C!==null)for(var _=0;_<C.length;_++){var I=C[_];try{var R=f;xe?_S(R,I,p):yS(R,I,p);var z=I.alternate;z!==null&&(z.return=null),I.return=null}catch(at){_i(I,p,at)}}if(C=p.child,p.subtreeFlags&12854&&C!==null)C.return=p,Ue=C;else for(;Ue!==null;){p=Ue;try{var ee=p.flags;if(ee&32&&xe&&Ct(p.stateNode),ee&512){var de=p.alternate;if(de!==null){var Pe=de.ref;Pe!==null&&(typeof Pe=="function"?Pe(null):Pe.current=null)}}if(ee&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var Xe=p.alternate;(Xe===null||Xe.memoizedState===null)&&(sy=Ir())}break;case 22:var Bt=p.memoizedState!==null,ft=p.alternate,un=ft!==null&&ft.memoizedState!==null;if(C=p,xe){e:if(_=C,I=Bt,R=null,xe)for(var lt=_;;){if(lt.tag===5){if(R===null){R=lt;var jr=lt.stateNode;I?Qt(jr):De(lt.stateNode,lt.memoizedProps)}}else if(lt.tag===6){if(R===null){var gs=lt.stateNode;I?Z(gs):ae(gs,lt.memoizedProps)}}else if((lt.tag!==22&&lt.tag!==23||lt.memoizedState===null||lt===_)&&lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===_)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===_)break e;R===lt&&(R=null),lt=lt.return}R===lt&&(R=null),lt.sibling.return=lt.return,lt=lt.sibling}}if(Bt&&!un&&C.mode&1){Ue=C;for(var ie=C.child;ie!==null;){for(C=Ue=ie;Ue!==null;){_=Ue;var te=_.child;switch(_.tag){case 0:case 11:case 14:case 15:kc(4,_,_.return);break;case 1:Gm(_,_.return);var ce=_.stateNode;if(typeof ce.componentWillUnmount=="function"){var He=_.return;try{ce.props=_.memoizedProps,ce.state=_.memoizedState,ce.componentWillUnmount()}catch(at){_i(_,He,at)}}break;case 5:Gm(_,_.return);break;case 22:if(_.memoizedState!==null){TS(C);continue}}te!==null?(te.return=_,Ue=te):TS(C)}ie=ie.sibling}}}switch(ee&4102){case 2:SS(p),p.flags&=-3;break;case 6:SS(p),p.flags&=-3,q5(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,q5(p.alternate,p);break;case 4:q5(p.alternate,p)}}catch(at){_i(p,p.return,at)}if(C=p.sibling,C!==null){C.return=p.return,Ue=C;break}Ue=p.return}}}function mG(f,p,C){Ue=f,wS(f)}function wS(f,p,C){for(var _=(f.mode&1)!==0;Ue!==null;){var I=Ue,R=I.child;if(I.tag===22&&_){var z=I.memoizedState!==null||Um;if(!z){var ee=I.alternate,de=ee!==null&&ee.memoizedState!==null||Nc;ee=Um;var Pe=Nc;if(Um=z,(Nc=de)&&!Pe)for(Ue=I;Ue!==null;)z=Ue,de=z.child,z.tag===22&&z.memoizedState!==null?MS(I):de!==null?(de.return=z,Ue=de):MS(I);for(;R!==null;)Ue=R,wS(R),R=R.sibling;Ue=I,Um=ee,Nc=Pe}IS(f)}else I.subtreeFlags&8772&&R!==null?(R.return=I,Ue=R):IS(f)}}function IS(f){for(;Ue!==null;){var p=Ue;if(p.flags&8772){var C=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Nc||Hd(5,p);break;case 1:var _=p.stateNode;if(p.flags&4&&!Nc)if(C===null)_.componentDidMount();else{var I=p.elementType===p.type?C.memoizedProps:Ks(p.type,C.memoizedProps);_.componentDidUpdate(I,C.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var R=p.updateQueue;R!==null&&EC(p,R,_);break;case 3:var z=p.updateQueue;if(z!==null){if(C=null,p.child!==null)switch(p.child.tag){case 5:C=q(p.child.stateNode);break;case 1:C=p.child.stateNode}EC(p,z,C)}break;case 5:var ee=p.stateNode;C===null&&p.flags&4&&oe(ee,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&p.memoizedState===null){var de=p.alternate;if(de!==null){var Pe=de.memoizedState;if(Pe!==null){var Xe=Pe.dehydrated;Xe!==null&&ge(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Nc||p.flags&512&&J5(p)}catch(Bt){_i(p,p.return,Bt)}}if(p===f){Ue=null;break}if(C=p.sibling,C!==null){C.return=p.return,Ue=C;break}Ue=p.return}}function TS(f){for(;Ue!==null;){var p=Ue;if(p===f){Ue=null;break}var C=p.sibling;if(C!==null){C.return=p.return,Ue=C;break}Ue=p.return}}function MS(f){for(;Ue!==null;){var p=Ue;try{switch(p.tag){case 0:case 11:case 15:var C=p.return;try{Hd(4,p)}catch(de){_i(p,C,de)}break;case 1:var _=p.stateNode;if(typeof _.componentDidMount=="function"){var I=p.return;try{_.componentDidMount()}catch(de){_i(p,I,de)}}var R=p.return;try{J5(p)}catch(de){_i(p,R,de)}break;case 5:var z=p.return;try{J5(p)}catch(de){_i(p,z,de)}}}catch(de){_i(p,p.return,de)}if(p===f){Ue=null;break}var ee=p.sibling;if(ee!==null){ee.return=p.return,Ue=ee;break}Ue=p.return}}var Hm=0,zm=1,Vm=2,Wm=3,$m=4;if(typeof Symbol=="function"&&Symbol.for){var zd=Symbol.for;Hm=zd("selector.component"),zm=zd("selector.has_pseudo_class"),Vm=zd("selector.role"),Wm=zd("selector.test_id"),$m=zd("selector.text")}function Z5(f){var p=ue(f);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(f=xt(f),f===null)throw Error(o(362));return f.stateNode.current}function ey(f,p){switch(p.$$typeof){case Hm:if(f.type===p.value)return!0;break;case zm:e:{p=p.value,f=[f,0];for(var C=0;C<f.length;){var _=f[C++],I=f[C++],R=p[I];if(_.tag!==5||!F(_)){for(;R!=null&&ey(_,R);)I++,R=p[I];if(I===p.length){p=!0;break e}else for(_=_.child;_!==null;)f.push(_,I),_=_.sibling}}p=!1}return p;case Vm:if(f.tag===5&&ne(f.stateNode,p.value))return!0;break;case $m:if((f.tag===5||f.tag===6)&&(f=N(f),f!==null&&0<=f.indexOf(p.value)))return!0;break;case Wm:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ty(f){switch(f.$$typeof){case Hm:return"<"+(M(f.value)||"Unknown")+">";case zm:return":has("+(ty(f)||"")+")";case Vm:return'[role="'+f.value+'"]';case $m:return'"'+f.value+'"';case Wm:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function bS(f,p){var C=[];f=[f,0];for(var _=0;_<f.length;){var I=f[_++],R=f[_++],z=p[R];if(I.tag!==5||!F(I)){for(;z!=null&&ey(I,z);)R++,z=p[R];if(R===p.length)C.push(I);else for(I=I.child;I!==null;)f.push(I,R),I=I.sibling}}return C}function ny(f,p){if(!qe)throw Error(o(363));f=Z5(f),f=bS(f,p),p=[],f=Array.from(f);for(var C=0;C<f.length;){var _=f[C++];if(_.tag===5)F(_)||p.push(_.stateNode);else for(_=_.child;_!==null;)f.push(_),_=_.sibling}return p}var gG=Math.ceil,jm=a.ReactCurrentDispatcher,ry=a.ReactCurrentOwner,tr=a.ReactCurrentBatchConfig,Ut=0,or=null,ar=null,Nr=0,Vi=0,ff=wt(0),pr=0,Vd=null,hf=0,Km=0,iy=0,Wd=null,Ci=null,sy=0,oy=1/0;function df(){oy=Ir()+500}var Jm=!1,ay=null,yl=null,Xm=!1,El=null,Ym=0,$d=0,ly=null,qm=-1,Zm=0;function oi(){return Ut&6?Ir():qm!==-1?qm:qm=Ir()}function xl(f){return f.mode&1?Ut&2&&Nr!==0?Nr&-Nr:qU.transition!==null?(Zm===0&&(f=hm,hm<<=1,!(hm&4194240)&&(hm=64),Zm=f),Zm):(f=qt,f!==0?f:Ee()):1}function ps(f,p,C){if(50<$d)throw $d=0,ly=null,Error(o(185));var _=eg(f,p);return _===null?null:(bd(_,p,C),(!(Ut&2)||_!==or)&&(_===or&&(!(Ut&2)&&(Km|=p),pr===4&&Cl(_,Nr)),Si(_,C),p===1&&Ut===0&&!(f.mode&1)&&(df(),gm&&Do())),_)}function eg(f,p){f.lanes|=p;var C=f.alternate;for(C!==null&&(C.lanes|=p),C=f,f=f.return;f!==null;)f.childLanes|=p,C=f.alternate,C!==null&&(C.childLanes|=p),C=f,f=f.return;return C.tag===3?C.stateNode:null}function Si(f,p){var C=f.callbackNode;zU(f,p);var _=pm(f,f===or?Nr:0);if(_===0)C!==null&&mC(C),f.callbackNode=null,f.callbackPriority=0;else if(p=_&-_,f.callbackPriority!==p){if(C!=null&&mC(C),p===1)f.tag===0?YU(RS.bind(null,f)):gC(RS.bind(null,f)),Oe?ke(function(){Ut===0&&Do()}):g5(A5,Do),C=null;else{switch(pC(_)){case 1:C=A5;break;case 4:C=jU;break;case 16:C=v5;break;case 536870912:C=KU;break;default:C=v5}C=GS(C,BS.bind(null,f))}f.callbackPriority=p,f.callbackNode=C}}function BS(f,p){if(qm=-1,Zm=0,Ut&6)throw Error(o(327));var C=f.callbackNode;if(Qc()&&f.callbackNode!==C)return null;var _=pm(f,f===or?Nr:0);if(_===0)return null;if(_&30||_&f.expiredLanes||p)p=tg(f,_);else{p=_;var I=Ut;Ut|=2;var R=LS();(or!==f||Nr!==p)&&(df(),Uc(f,p));do try{yG();break}catch(ee){DS(f,ee)}while(1);x5(),jm.current=R,Ut=I,ar!==null?p=0:(or=null,Nr=0,p=pr)}if(p!==0){if(p===2&&(I=d5(f),I!==0&&(_=I,p=cy(f,I))),p===1)throw C=Vd,Uc(f,0),Cl(f,_),Si(f,Ir()),C;if(p===6)Cl(f,_);else{if(I=f.current.alternate,!(_&30)&&!AG(I)&&(p=tg(f,_),p===2&&(R=d5(f),R!==0&&(_=R,p=cy(f,R))),p===1))throw C=Vd,Uc(f,0),Cl(f,_),Si(f,Ir()),C;switch(f.finishedWork=I,f.finishedLanes=_,p){case 0:case 1:throw Error(o(345));case 2:Gc(f,Ci);break;case 3:if(Cl(f,_),(_&130023424)===_&&(p=sy+500-Ir(),10<p)){if(pm(f,0)!==0)break;if(I=f.suspendedLanes,(I&_)!==_){oi(),f.pingedLanes|=f.suspendedLanes&I;break}f.timeoutHandle=we(Gc.bind(null,f,Ci),p);break}Gc(f,Ci);break;case 4:if(Cl(f,_),(_&4194240)===_)break;for(p=f.eventTimes,I=-1;0<_;){var z=31-js(_);R=1<<z,z=p[z],z>I&&(I=z),_&=~R}if(_=I,_=Ir()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*gG(_/1960))-_,10<_){f.timeoutHandle=we(Gc.bind(null,f,Ci),_);break}Gc(f,Ci);break;case 5:Gc(f,Ci);break;default:throw Error(o(329))}}}return Si(f,Ir()),f.callbackNode===C?BS.bind(null,f):null}function cy(f,p){var C=Wd;return f.current.memoizedState.isDehydrated&&(Uc(f,p).flags|=256),f=tg(f,p),f!==2&&(p=Ci,Ci=C,p!==null&&uy(p)),f}function uy(f){Ci===null?Ci=f:Ci.push.apply(Ci,f)}function AG(f){for(var p=f;;){if(p.flags&16384){var C=p.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var _=0;_<C.length;_++){var I=C[_],R=I.getSnapshot;I=I.value;try{if(!Po(R(),I))return!1}catch{return!1}}}if(C=p.child,p.subtreeFlags&16384&&C!==null)C.return=p,p=C;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Cl(f,p){for(p&=~iy,p&=~Km,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var C=31-js(p),_=1<<C;f[C]=-1,p&=~_}}function RS(f){if(Ut&6)throw Error(o(327));Qc();var p=pm(f,0);if(!(p&1))return Si(f,Ir()),null;var C=tg(f,p);if(f.tag!==0&&C===2){var _=d5(f);_!==0&&(p=_,C=cy(f,_))}if(C===1)throw C=Vd,Uc(f,0),Cl(f,p),Si(f,Ir()),C;if(C===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,Gc(f,Ci),Si(f,Ir()),null}function PS(f){El!==null&&El.tag===0&&!(Ut&6)&&Qc();var p=Ut;Ut|=1;var C=tr.transition,_=qt;try{if(tr.transition=null,qt=1,f)return f()}finally{qt=_,tr.transition=C,Ut=p,!(Ut&6)&&Do()}}function fy(){Vi=ff.current,rn(ff)}function Uc(f,p){f.finishedWork=null,f.finishedLanes=0;var C=f.timeoutHandle;if(C!==Ve&&(f.timeoutHandle=Ve,Me(C)),ar!==null)for(C=ar.return;C!==null;){var _=C;switch(M5(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&gl();break;case 3:cf(),rn(sr),rn(dr),F5();break;case 5:D5(_);break;case 4:cf();break;case 13:rn(Pn);break;case 19:rn(Pn);break;case 10:C5(_.type._context);break;case 22:case 23:fy()}C=C.return}if(or=f,ar=f=Sl(f.current,null),Nr=Vi=p,pr=0,Vd=null,iy=Km=hf=0,Ci=Wd=null,Lo!==null){for(p=0;p<Lo.length;p++)if(C=Lo[p],_=C.interleaved,_!==null){C.interleaved=null;var I=_.next,R=C.pending;if(R!==null){var z=R.next;R.next=I,_.next=z}C.pending=_}Lo=null}return f}function DS(f,p){do{var C=ar;try{if(x5(),Tm.current=Dm,Mm){for(var _=$n.memoizedState;_!==null;){var I=_.queue;I!==null&&(I.pending=null),_=_.next}Mm=!1}if(uf=0,Tr=Vr=$n=null,Fd=!1,Od=0,ry.current=null,C===null||C.return===null){pr=1,Vd=p,ar=null;break}e:{var R=f,z=C.return,ee=C,de=p;if(p=Nr,ee.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Pe=de,Xe=ee,Bt=Xe.tag;if(!(Xe.mode&1)&&(Bt===0||Bt===11||Bt===15)){var ft=Xe.alternate;ft?(Xe.updateQueue=ft.updateQueue,Xe.memoizedState=ft.memoizedState,Xe.lanes=ft.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var un=eS(z);if(un!==null){un.flags&=-257,tS(un,z,ee,R,p),un.mode&1&&ZC(R,Pe,p),p=un,de=Pe;var lt=p.updateQueue;if(lt===null){var jr=new Set;jr.add(de),p.updateQueue=jr}else lt.add(de);break e}else{if(!(p&1)){ZC(R,Pe,p),hy();break e}de=Error(o(426))}}else if(bn&&ee.mode&1){var gs=eS(z);if(gs!==null){!(gs.flags&65536)&&(gs.flags|=256),tS(gs,z,ee,R,p),R5(de);break e}}R=de,pr!==4&&(pr=2),Wd===null?Wd=[R]:Wd.push(R),de=H5(de,ee),ee=z;do{switch(ee.tag){case 3:ee.flags|=65536,p&=-p,ee.lanes|=p;var ie=YC(ee,de,p);yC(ee,ie);break e;case 1:R=de;var te=ee.type,ce=ee.stateNode;if(!(ee.flags&128)&&(typeof te.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(yl===null||!yl.has(ce)))){ee.flags|=65536,p&=-p,ee.lanes|=p;var He=qC(ee,R,p);yC(ee,He);break e}}ee=ee.return}while(ee!==null)}OS(C)}catch(at){p=at,ar===C&&C!==null&&(ar=C=C.return);continue}break}while(1)}function LS(){var f=jm.current;return jm.current=Dm,f===null?Dm:f}function hy(){(pr===0||pr===3||pr===2)&&(pr=4),or===null||!(hf&268435455)&&!(Km&268435455)||Cl(or,Nr)}function tg(f,p){var C=Ut;Ut|=2;var _=LS();or===f&&Nr===p||Uc(f,p);do try{vG();break}catch(I){DS(f,I)}while(1);if(x5(),Ut=C,jm.current=_,ar!==null)throw Error(o(261));return or=null,Nr=0,pr}function vG(){for(;ar!==null;)FS(ar)}function yG(){for(;ar!==null&&!WU();)FS(ar)}function FS(f){var p=US(f.alternate,f,Vi);f.memoizedProps=f.pendingProps,p===null?OS(f):ar=p,ry.current=null}function OS(f){var p=f;do{var C=p.alternate;if(f=p.return,p.flags&32768){if(C=fG(C,p),C!==null){C.flags&=32767,ar=C;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{pr=6,ar=null;return}}else if(C=lG(C,p,Vi),C!==null){ar=C;return}if(p=p.sibling,p!==null){ar=p;return}ar=p=f}while(p!==null);pr===0&&(pr=5)}function Gc(f,p){var C=qt,_=tr.transition;try{tr.transition=null,qt=1,EG(f,p,C)}finally{tr.transition=_,qt=C}return null}function EG(f,p,C){do Qc();while(El!==null);if(Ut&6)throw Error(o(327));var _=f.finishedWork,I=f.finishedLanes;if(_===null)return null;if(f.finishedWork=null,f.finishedLanes=0,_===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var R=_.lanes|_.childLanes;if(VU(f,R),f===or&&(ar=or=null,Nr=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||Xm||(Xm=!0,GS(v5,function(){return Qc(),null})),R=(_.flags&15990)!==0,_.subtreeFlags&15990||R){R=tr.transition,tr.transition=null;var z=qt;qt=1;var ee=Ut;Ut|=4,ry.current=null,dG(f,_),pG(f,_),$(f.containerInfo),f.current=_,mG(_),$U(),Ut=ee,qt=z,tr.transition=R}else f.current=_;if(Xm&&(Xm=!1,El=f,Ym=I),R=f.pendingLanes,R===0&&(yl=null),JU(_.stateNode),Si(f,Ir()),p!==null)for(C=f.onRecoverableError,_=0;_<p.length;_++)C(p[_]);if(Jm)throw Jm=!1,f=ay,ay=null,f;return Ym&1&&f.tag!==0&&Qc(),R=f.pendingLanes,R&1?f===ly?$d++:($d=0,ly=f):$d=0,Do(),null}function Qc(){if(El!==null){var f=pC(Ym),p=tr.transition,C=qt;try{if(tr.transition=null,qt=16>f?16:f,El===null)var _=!1;else{if(f=El,El=null,Ym=0,Ut&6)throw Error(o(331));var I=Ut;for(Ut|=4,Ue=f.current;Ue!==null;){var R=Ue,z=R.child;if(Ue.flags&16){var ee=R.deletions;if(ee!==null){for(var de=0;de<ee.length;de++){var Pe=ee[de];for(Ue=Pe;Ue!==null;){var Xe=Ue;switch(Xe.tag){case 0:case 11:case 15:kc(8,Xe,R)}var Bt=Xe.child;if(Bt!==null)Bt.return=Xe,Ue=Bt;else for(;Ue!==null;){Xe=Ue;var ft=Xe.sibling,un=Xe.return;if(ES(Xe),Xe===Pe){Ue=null;break}if(ft!==null){ft.return=un,Ue=ft;break}Ue=un}}}var lt=R.alternate;if(lt!==null){var jr=lt.child;if(jr!==null){lt.child=null;do{var gs=jr.sibling;jr.sibling=null,jr=gs}while(jr!==null)}}Ue=R}}if(R.subtreeFlags&2064&&z!==null)z.return=R,Ue=z;else e:for(;Ue!==null;){if(R=Ue,R.flags&2048)switch(R.tag){case 0:case 11:case 15:kc(9,R,R.return)}var ie=R.sibling;if(ie!==null){ie.return=R.return,Ue=ie;break e}Ue=R.return}}var te=f.current;for(Ue=te;Ue!==null;){z=Ue;var ce=z.child;if(z.subtreeFlags&2064&&ce!==null)ce.return=z,Ue=ce;else e:for(z=te;Ue!==null;){if(ee=Ue,ee.flags&2048)try{switch(ee.tag){case 0:case 11:case 15:Hd(9,ee)}}catch(at){_i(ee,ee.return,at)}if(ee===z){Ue=null;break e}var He=ee.sibling;if(He!==null){He.return=ee.return,Ue=He;break e}Ue=ee.return}}if(Ut=I,Do(),Ro&&typeof Ro.onPostCommitFiberRoot=="function")try{Ro.onPostCommitFiberRoot(mm,f)}catch{}_=!0}return _}finally{qt=C,tr.transition=p}}return!1}function NS(f,p,C){p=H5(C,p),p=YC(f,p,1),vl(f,p),p=oi(),f=eg(f,1),f!==null&&(bd(f,1,p),Si(f,p))}function _i(f,p,C){if(f.tag===3)NS(f,f,C);else for(;p!==null;){if(p.tag===3){NS(p,f,C);break}else if(p.tag===1){var _=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(yl===null||!yl.has(_))){f=H5(C,f),f=qC(p,f,1),vl(p,f),f=oi(),p=eg(p,1),p!==null&&(bd(p,1,f),Si(p,f));break}}p=p.return}}function xG(f,p,C){var _=f.pingCache;_!==null&&_.delete(p),p=oi(),f.pingedLanes|=f.suspendedLanes&C,or===f&&(Nr&C)===C&&(pr===4||pr===3&&(Nr&130023424)===Nr&&500>Ir()-sy?Uc(f,0):iy|=C),Si(f,p)}function kS(f,p){p===0&&(f.mode&1?(p=dm,dm<<=1,!(dm&130023424)&&(dm=4194304)):p=1);var C=oi();f=eg(f,p),f!==null&&(bd(f,p,C),Si(f,C))}function CG(f){var p=f.memoizedState,C=0;p!==null&&(C=p.retryLane),kS(f,C)}function SG(f,p){var C=0;switch(f.tag){case 13:var _=f.stateNode,I=f.memoizedState;I!==null&&(C=I.retryLane);break;case 19:_=f.stateNode;break;default:throw Error(o(314))}_!==null&&_.delete(p),kS(f,C)}var US;US=function(f,p,C){if(f!==null)if(f.memoizedProps!==p.pendingProps||sr.current)zi=!0;else{if(!(f.lanes&C)&&!(p.flags&128))return zi=!1,uG(f,p,C);zi=!!(f.flags&131072)}else zi=!1,bn&&p.flags&1048576&&wC(p,_m,p.index);switch(p.lanes=0,p.tag){case 2:var _=p.type;f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps;var I=Vn(p,dr.current);nf(p,C),I=N5(null,p,_,f,I,C);var R=k5();return p.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Wn(_)?(R=!0,ef(p)):R=!1,p.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,_5(p),I.updater=Cm,p.stateNode=I,I._reactInternals=p,I5(p,_,f,C),p=W5(null,p,_,!0,R,C)):(p.tag=0,bn&&R&&T5(p),si(null,p,I,C),p=p.child),p;case 16:_=p.elementType;e:{switch(f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps,I=_._init,_=I(_._payload),p.type=_,I=p.tag=wG(_),f=Ks(_,f),I){case 0:p=V5(null,p,_,f,C);break e;case 1:p=cS(null,p,_,f,C);break e;case 11:p=iS(null,p,_,f,C);break e;case 14:p=sS(null,p,_,Ks(_.type,f),C);break e}throw Error(o(306,_,""))}return p;case 0:return _=p.type,I=p.pendingProps,I=p.elementType===_?I:Ks(_,I),V5(f,p,_,I,C);case 1:return _=p.type,I=p.pendingProps,I=p.elementType===_?I:Ks(_,I),cS(f,p,_,I,C);case 3:e:{if(uS(p),f===null)throw Error(o(387));_=p.pendingProps,R=p.memoizedState,I=R.element,vC(f,p),xm(p,_,null,C);var z=p.memoizedState;if(_=z.element,Ae&&R.isDehydrated)if(R={element:_,isDehydrated:!1,cache:z.cache,transitions:z.transitions},p.updateQueue.baseState=R,p.memoizedState=R,p.flags&256){I=Error(o(423)),p=fS(f,p,_,C,I);break e}else if(_!==I){I=Error(o(424)),p=fS(f,p,_,C,I);break e}else for(Ae&&(Hi=u5(p.stateNode.containerInfo),Qi=p,bn=!0,Js=null,Bd=!1),C=RC(p,null,_,C),p.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(of(),_===I){p=Ea(f,p,C);break e}si(f,p,_,C)}p=p.child}return p;case 5:return PC(p),f===null&&B5(p),_=p.type,I=p.pendingProps,R=f!==null?f.memoizedProps:null,z=I.children,ye(_,I)?z=null:R!==null&&ye(_,R)&&(p.flags|=32),lS(f,p),si(f,p,z,C),p.child;case 6:return f===null&&B5(p),null;case 13:return hS(f,p,C);case 4:return P5(p,p.stateNode.containerInfo),_=p.pendingProps,f===null?p.child=af(p,null,_,C):si(f,p,_,C),p.child;case 11:return _=p.type,I=p.pendingProps,I=p.elementType===_?I:Ks(_,I),iS(f,p,_,I,C);case 7:return si(f,p,p.pendingProps,C),p.child;case 8:return si(f,p,p.pendingProps.children,C),p.child;case 12:return si(f,p,p.pendingProps.children,C),p.child;case 10:e:{if(_=p.type._context,I=p.pendingProps,R=p.memoizedProps,z=I.value,AC(p,_,z),R!==null)if(Po(R.value,z)){if(R.children===I.children&&!sr.current){p=Ea(f,p,C);break e}}else for(R=p.child,R!==null&&(R.return=p);R!==null;){var ee=R.dependencies;if(ee!==null){z=R.child;for(var de=ee.firstContext;de!==null;){if(de.context===_){if(R.tag===1){de=ga(-1,C&-C),de.tag=2;var Pe=R.updateQueue;if(Pe!==null){Pe=Pe.shared;var Xe=Pe.pending;Xe===null?de.next=de:(de.next=Xe.next,Xe.next=de),Pe.pending=de}}R.lanes|=C,de=R.alternate,de!==null&&(de.lanes|=C),S5(R.return,C,p),ee.lanes|=C;break}de=de.next}}else if(R.tag===10)z=R.type===p.type?null:R.child;else if(R.tag===18){if(z=R.return,z===null)throw Error(o(341));z.lanes|=C,ee=z.alternate,ee!==null&&(ee.lanes|=C),S5(z,C,p),z=R.sibling}else z=R.child;if(z!==null)z.return=R;else for(z=R;z!==null;){if(z===p){z=null;break}if(R=z.sibling,R!==null){R.return=z.return,z=R;break}z=z.return}R=z}si(f,p,I.children,C),p=p.child}return p;case 9:return I=p.type,_=p.pendingProps.children,nf(p,C),I=cs(I),_=_(I),p.flags|=1,si(f,p,_,C),p.child;case 14:return _=p.type,I=Ks(_,p.pendingProps),I=Ks(_.type,I),sS(f,p,_,I,C);case 15:return oS(f,p,p.type,p.pendingProps,C);case 17:return _=p.type,I=p.pendingProps,I=p.elementType===_?I:Ks(_,I),f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Wn(_)?(f=!0,ef(p)):f=!1,nf(p,C),SC(p,_,I),I5(p,_,I,C),W5(null,p,_,!0,f,C);case 19:return gS(f,p,C);case 22:return aS(f,p,C)}throw Error(o(156,p.tag))};function GS(f,p){return g5(f,p)}function _G(f,p,C,_){this.tag=f,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(f,p,C,_){return new _G(f,p,C,_)}function dy(f){return f=f.prototype,!(!f||!f.isReactComponent)}function wG(f){if(typeof f=="function")return dy(f)?1:0;if(f!=null){if(f=f.$$typeof,f===x)return 11;if(f===y)return 14}return 2}function Sl(f,p){var C=f.alternate;return C===null?(C=ms(f.tag,p,f.key,f.mode),C.elementType=f.elementType,C.type=f.type,C.stateNode=f.stateNode,C.alternate=f,f.alternate=C):(C.pendingProps=p,C.type=f.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=f.flags&14680064,C.childLanes=f.childLanes,C.lanes=f.lanes,C.child=f.child,C.memoizedProps=f.memoizedProps,C.memoizedState=f.memoizedState,C.updateQueue=f.updateQueue,p=f.dependencies,C.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},C.sibling=f.sibling,C.index=f.index,C.ref=f.ref,C}function ng(f,p,C,_,I,R){var z=2;if(_=f,typeof f=="function")dy(f)&&(z=1);else if(typeof f=="string")z=5;else e:switch(f){case u:return Hc(C.children,I,R,p);case h:z=8,I|=8;break;case d:return f=ms(12,C,p,I|2),f.elementType=d,f.lanes=R,f;case E:return f=ms(13,C,p,I),f.elementType=E,f.lanes=R,f;case g:return f=ms(19,C,p,I),f.elementType=g,f.lanes=R,f;case S:return rg(C,I,R,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:z=10;break e;case A:z=9;break e;case x:z=11;break e;case y:z=14;break e;case v:z=16,_=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return p=ms(z,C,p,I),p.elementType=f,p.type=_,p.lanes=R,p}function Hc(f,p,C,_){return f=ms(7,f,_,p),f.lanes=C,f}function rg(f,p,C,_){return f=ms(22,f,_,p),f.elementType=S,f.lanes=C,f.stateNode={},f}function py(f,p,C){return f=ms(6,f,null,p),f.lanes=C,f}function my(f,p,C){return p=ms(4,f.children!==null?f.children:[],f.key,p),p.lanes=C,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function IG(f,p,C,_,I){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p5(0),this.expirationTimes=p5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p5(0),this.identifierPrefix=_,this.onRecoverableError=I,Ae&&(this.mutableSourceEagerHydrationData=null)}function QS(f,p,C,_,I,R,z,ee,de){return f=new IG(f,p,C,ee,de),p===1?(p=1,R===!0&&(p|=8)):p=0,R=ms(3,null,null,p),f.current=R,R.stateNode=f,R.memoizedState={element:_,isDehydrated:C,cache:null,transitions:null},_5(R),f}function HS(f){if(!f)return Hr;f=f._reactInternals;e:{if(b(f)!==f||f.tag!==1)throw Error(o(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Wn(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(f.tag===1){var C=f.type;if(Wn(C))return Zu(f,C,p)}return p}function zS(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=H(p),f===null?null:f.stateNode}function VS(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var C=f.retryLane;f.retryLane=C!==0&&C<p?C:p}}function gy(f,p){VS(f,p),(f=f.alternate)&&VS(f,p)}function TG(f){return f=H(f),f===null?null:f.stateNode}function MG(){return null}return n.attemptContinuousHydration=function(f){if(f.tag===13){var p=oi();ps(f,134217728,p),gy(f,134217728)}},n.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var p=oi(),C=xl(f);ps(f,C,p),gy(f,C)}},n.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var C=Md(p.pendingLanes);C!==0&&(m5(p,C|1),Si(p,Ir()),!(Ut&6)&&(df(),Do()))}break;case 13:var _=oi();PS(function(){return ps(f,1,_)}),gy(f,1)}},n.batchedUpdates=function(f,p){var C=Ut;Ut|=1;try{return f(p)}finally{Ut=C,Ut===0&&(df(),gm&&Do())}},n.createComponentSelector=function(f){return{$$typeof:Hm,value:f}},n.createContainer=function(f,p,C,_,I,R,z){return QS(f,p,!1,null,C,_,I,R,z)},n.createHasPseudoClassSelector=function(f){return{$$typeof:zm,value:f}},n.createHydrationContainer=function(f,p,C,_,I,R,z,ee,de){return f=QS(C,_,!0,f,I,R,z,ee,de),f.context=HS(null),C=f.current,_=oi(),I=xl(C),R=ga(_,I),R.callback=p??null,vl(C,R),f.current.lanes=I,bd(f,I,_),Si(f,_),f},n.createPortal=function(f,p,C){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:f,containerInfo:p,implementation:C}},n.createRoleSelector=function(f){return{$$typeof:Vm,value:f}},n.createTestNameSelector=function(f){return{$$typeof:Wm,value:f}},n.createTextSelector=function(f){return{$$typeof:$m,value:f}},n.deferredUpdates=function(f){var p=qt,C=tr.transition;try{return tr.transition=null,qt=16,f()}finally{qt=p,tr.transition=C}},n.discreteUpdates=function(f,p,C,_,I){var R=qt,z=tr.transition;try{return tr.transition=null,qt=1,f(p,C,_,I)}finally{qt=R,tr.transition=z,Ut===0&&df()}},n.findAllNodes=ny,n.findBoundingRects=function(f,p){if(!qe)throw Error(o(363));p=ny(f,p),f=[];for(var C=0;C<p.length;C++)f.push(Yt(p[C]));for(p=f.length-1;0<p;p--){C=f[p];for(var _=C.x,I=_+C.width,R=C.y,z=R+C.height,ee=p-1;0<=ee;ee--)if(p!==ee){var de=f[ee],Pe=de.x,Xe=Pe+de.width,Bt=de.y,ft=Bt+de.height;if(_>=Pe&&R>=Bt&&I<=Xe&&z<=ft){f.splice(p,1);break}else if(_!==Pe||C.width!==de.width||ft<R||Bt>z){if(!(R!==Bt||C.height!==de.height||Xe<_||Pe>I)){Pe>_&&(de.width+=Pe-_,de.x=_),Xe<I&&(de.width=I-Pe),f.splice(p,1);break}}else{Bt>R&&(de.height+=Bt-R,de.y=R),ft<z&&(de.height=z-Bt),f.splice(p,1);break}}}return f},n.findHostInstance=zS,n.findHostInstanceWithNoPortals=function(f){return f=L(f),f=f!==null?V(f):null,f===null?null:f.stateNode},n.findHostInstanceWithWarning=function(f){return zS(f)},n.flushControlled=function(f){var p=Ut;Ut|=1;var C=tr.transition,_=qt;try{tr.transition=null,qt=1,f()}finally{qt=_,tr.transition=C,Ut=p,Ut===0&&(df(),Do())}},n.flushPassiveEffects=Qc,n.flushSync=PS,n.focusWithin=function(f,p){if(!qe)throw Error(o(363));for(f=Z5(f),p=bS(f,p),p=Array.from(p),f=0;f<p.length;){var C=p[f++];if(!F(C)){if(C.tag===5&&Ce(C.stateNode))return!0;for(C=C.child;C!==null;)p.push(C),C=C.sibling}}return!1},n.getCurrentUpdatePriority=function(){return qt},n.getFindAllNodesFailureDescription=function(f,p){if(!qe)throw Error(o(363));var C=0,_=[];f=[Z5(f),0];for(var I=0;I<f.length;){var R=f[I++],z=f[I++],ee=p[z];if((R.tag!==5||!F(R))&&(ey(R,ee)&&(_.push(ty(ee)),z++,z>C&&(C=z)),z<p.length))for(R=R.child;R!==null;)f.push(R,z),R=R.sibling}if(C<p.length){for(f=[];C<p.length;C++)f.push(ty(p[C]));return`findAllNodes was able to match part of the selector:
  `+(_.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},n.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return q(f.child.stateNode);default:return f.child.stateNode}},n.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:TG,findFiberByHostInstance:f.findFiberByHostInstance||MG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)f=!0;else{try{mm=p.inject(f),Ro=p}catch{}f=!!p.checkDCE}}return f},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(f,p,C,_){if(!qe)throw Error(o(363));f=ny(f,p);var I=ve(f,C,_).disconnect;return{disconnect:function(){I()}}},n.registerMutableSourceForHydration=function(f,p){var C=p._getVersion;C=C(p._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[p,C]:f.mutableSourceEagerHydrationData.push(p,C)},n.runWithPriority=function(f,p){var C=qt;try{return qt=f,p()}finally{qt=C}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(f,p,C,_){var I=p.current,R=oi(),z=xl(I);return C=HS(C),p.context===null?p.context=C:p.pendingContext=C,p=ga(R,z),p.payload={element:f},_=_===void 0?null:_,_!==null&&(p.callback=_),vl(I,p),f=ps(I,z,R),f!==null&&Em(f,I,z),z},n};LL.exports=zX;var VX=LL.exports;const WX=rd(VX),$X=t=>typeof t=="object"&&typeof t.then=="function",yu=[];function NL(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function kL(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of yu)if(NL(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=yu.indexOf(i);s!==-1&&yu.splice(s,1)},promise:($X(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(yu.push(i),!n)throw i.promise}const jX=(t,e,n)=>kL(t,e,!1,n),KX=(t,e,n)=>void kL(t,e,!0,n),JX=t=>{if(t===void 0||t.length===0)yu.splice(0,yu.length);else{const e=yu.find(n=>NL(t,n.keys,n.equal));e&&e.remove()}},$9={},XX=t=>void Object.assign($9,t);function YX(t,e){function n(u,{args:h=[],attach:d,...m},A){let x=`${u[0].toUpperCase()}${u.slice(1)}`,E;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;E=Vf(g,{type:u,root:A,attach:d,primitive:!0})}else{const g=$9[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");E=Vf(new g(...h),{type:u,root:A,attach:d,memoizedProps:{args:h}})}return E.__r3f.attach===void 0&&(E instanceof It?E.__r3f.attach="geometry":E instanceof fr&&(E.__r3f.attach="material")),x!=="inject"&&_6(E,m),E}function r(u,h){let d=!1;if(h){var m,A;(m=h.__r3f)!=null&&m.attach?S6(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),d=!0),d||(A=u.__r3f)==null||A.objects.push(h),h.__r3f||Vf(h,{}),h.__r3f.parent=u,J4(h),Wf(h)}}function i(u,h,d){let m=!1;if(h){var A,x;if((A=h.__r3f)!=null&&A.attach)S6(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"});const E=u.children.filter(y=>y!==h),g=E.indexOf(d);u.children=[...E.slice(0,g),h,...E.slice(g)],m=!0}m||(x=u.__r3f)==null||x.objects.push(h),h.__r3f||Vf(h,{}),h.__r3f.parent=u,J4(h),Wf(h)}}function s(u,h,d=!1){u&&[...u].forEach(m=>o(h,m,d))}function o(u,h,d){if(h){var m,A,x;if(h.__r3f&&(h.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(S=>S!==h)),(A=h.__r3f)!=null&&A.attach)BI(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var E;u.remove(h),(E=h.__r3f)!=null&&E.root&&sY(h.__r3f.root,h)}const y=(x=h.__r3f)==null?void 0:x.primitive,v=d===void 0?h.dispose!==null&&!y:d;if(!y){var g;s((g=h.__r3f)==null?void 0:g.objects,h,v),s(h.children,h,v)}delete h.__r3f,v&&h.dispose&&h.type!=="Scene"&&j4.unstable_scheduleCallback(j4.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),Wf(u)}}function a(u,h,d,m){var A;const x=(A=u.__r3f)==null?void 0:A.parent;if(!x)return;const E=n(h,d,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(E,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(E,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(x,u),E.parent&&(E.__r3f.autoRemovedBeforeAppend=!0),r(x,E),E.raycast&&E.__r3f.eventCount&&E.__r3f.root.getState().internal.interaction.push(E),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=E,g.ref&&(typeof g.ref=="function"?g.ref(E):g.ref.current=E))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:WX({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,h))},removeChildFromContainer:(u,h)=>{h&&o(u.getState().scene,h)},insertInContainerBefore:(u,h,d)=>{if(!h||!d)return;const m=u.getState().scene;m.__r3f&&i(m,h,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;return!!((h=u==null?void 0:u.__r3f)!=null?h:{}).handlers},prepareUpdate(u,h,d,m){var A;if(((A=u==null?void 0:u.__r3f)!=null?A:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:E=[],children:g,...y}=m,{args:v=[],children:S,...w}=d;if(!Array.isArray(E))throw new Error("R3F: the args prop must be an array!");if(E.some((M,P)=>M!==v[P]))return[!0];const T=WL(u,y,w,!0);return T.changes.length?[!1,T]:null}},commitUpdate(u,[h,d],m,A,x,E){h?a(u,m,x,E):_6(u,d)},commitMount(u,h,d,m){var A;const x=(A=u.__r3f)!=null?A:{};u.raycast&&x.handlers&&x.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Vf(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:d,parent:m}=(h=u.__r3f)!=null?h:{};d&&m&&BI(m,u,d),u.isObject3D&&(u.visible=!1),Wf(u)},unhideInstance(u,h){var d;const{attach:m,parent:A}=(d=u.__r3f)!=null?d:{};m&&A&&S6(A,u,m),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),Wf(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ch.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&wn.fun(performance.now)?performance.now:wn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:wn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:wn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:_6}}var II,TI;const C6=t=>"colorSpace"in t||"outputColorSpace"in t,UL=()=>{var t;return(t=$9.ColorManagement)!=null?t:null},GL=t=>t&&t.isOrthographicCamera,qX=t=>t&&t.hasOwnProperty("current"),R3=typeof window<"u"&&((II=window.document)!=null&&II.createElement||((TI=window.navigator)==null?void 0:TI.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function QL(t){const e=D.useRef(t);return R3(()=>void(e.current=t),[t]),e}function ZX({set:t}){return R3(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class HL extends D.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}HL.getDerivedStateFromError=()=>({error:!0});const zL="__default",MI=new Map,eY=t=>t&&!!t.memoized&&!!t.changes;function VL(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const fp=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},wn={obj:t=>t===Object(t)&&!wn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(wn.str(t)||wn.num(t))return t===e;const s=wn.obj(t);if(s&&r==="reference")return t===e;const o=wn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!wn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(wn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function tY(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function nY(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Vf(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function K4(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const bI=/-\d+$/;function S6(t,e,n){if(wn.str(n)){if(bI.test(n)){const s=n.replace(bI,""),{target:o,key:a}=K4(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=K4(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function BI(t,e,n){var r,i;if(wn.str(n)){const{target:s,key:o}=K4(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function WL(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const h=(u=t==null?void 0:t.__r3f)!=null?u:{},d=Object.entries(i),m=[];if(c){const x=Object.keys(l);for(let E=0;E<x.length;E++)i.hasOwnProperty(x[E])||d.unshift([x[E],zL+"remove"])}d.forEach(([x,E])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&x==="object"||wn.equ(E,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return m.push([x,E,!0,[]]);let y=[];x.includes("-")&&(y=x.split("-")),m.push([x,E,!1,y]);for(const v in i){const S=i[v];v.startsWith(`${x}-`)&&m.push([v,S,!1,v.split("-")])}});const A={...i};return h.memoizedProps&&h.memoizedProps.args&&(A.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(A.attach=h.memoizedProps.attach),{memoized:A,changes:m}}function _6(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=eY(e)?e:WL(t,e),u=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let d=0;d<c.length;d++){let[m,A,x,E]=c[d];if(C6(t)){const S="srgb",w="srgb-linear";m==="encoding"?(m="colorSpace",A=A===3001?S:w):m==="outputEncoding"&&(m="outputColorSpace",A=A===3001?S:w)}let g=t,y=g[m];if(E.length&&(y=E.reduce((v,S)=>v[S],t),!(y&&y.set))){const[v,...S]=E.reverse();g=S.reverse().reduce((w,T)=>w[T],t),m=v}if(A===zL+"remove")if(g.constructor){let v=MI.get(g.constructor);v||(v=new g.constructor,MI.set(g.constructor,v)),A=v[m]}else A=0;if(x)A?s.handlers[m]=A:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(y&&y.set&&(y.copy||y instanceof _u)){if(Array.isArray(A))y.fromArray?y.fromArray(A):y.set(...A);else if(y.copy&&A&&A.constructor&&y.constructor===A.constructor)y.copy(A);else if(A!==void 0){const v=y instanceof be;!v&&y.setScalar?y.setScalar(A):y instanceof _u&&A instanceof _u?y.mask=A.mask:y.set(A),!UL()&&!a.linear&&v&&y.convertSRGBToLinear()}}else if(g[m]=A,g[m]instanceof Mn&&g[m].format===Yn&&g[m].type===yr){const v=g[m];C6(v)&&C6(a.gl)?v.colorSpace=a.gl.outputColorSpace:v.encoding=a.gl.outputEncoding}Wf(t)}if(s.parent&&a.internal&&t.raycast&&u!==s.eventCount){const d=a.internal.interaction.indexOf(t);d>-1&&a.internal.interaction.splice(d,1),s.eventCount&&a.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&J4(t),t}function Wf(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function J4(t){t.onUpdate==null||t.onUpdate(t)}function rY(t,e){t.manual||(GL(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function lA(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function iY(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ch.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ch.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ch.ContinuousEventPriority;default:return ch.DefaultEventPriority}}function $L(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function sY(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{$L(n.capturedMap,e,r,i)})}function oY(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),h=new Set,d=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const y=fp(m[g]);y&&(y.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function A(g){const y=fp(g);if(!y||!y.events.enabled||y.raycaster.camera===null)return[];if(y.raycaster.camera===void 0){var v;y.events.compute==null||y.events.compute(l,y,(v=y.previousRoot)==null?void 0:v.getState()),y.raycaster.camera===void 0&&(y.raycaster.camera=null)}return y.raycaster.camera?y.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(A).sort((g,y)=>{const v=fp(g.object),S=fp(y.object);return!v||!S?g.distance-y.distance:S.events.priority-v.events.priority||g.distance-y.distance}).filter(g=>{const y=lA(g);return h.has(y)?!1:(h.add(y),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const g of x){let y=g.object;for(;y;){var E;(E=y.__r3f)!=null&&E.eventCount&&d.push({...g,eventObject:y}),y=y.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())h.has(lA(g.intersection))||d.push(g.intersection);return d}function i(l,c,u,h){const d=t.getState();if(l.length){const m={stopped:!1};for(const A of l){const x=fp(A.object)||d,{raycaster:E,pointer:g,camera:y,internal:v}=x,S=new O(g.x,g.y,0).unproject(y),w=B=>{var L,H;return(L=(H=v.capturedMap.get(B))==null?void 0:H.has(A.eventObject))!=null?L:!1},T=B=>{const L={intersection:A,target:c.target};v.capturedMap.has(B)?v.capturedMap.get(B).set(A.eventObject,L):v.capturedMap.set(B,new Map([[A.eventObject,L]])),c.target.setPointerCapture(B)},M=B=>{const L=v.capturedMap.get(B);L&&$L(v.capturedMap,A.eventObject,L,B)};let P={};for(let B in c){let L=c[B];typeof L!="function"&&(P[B]=L)}let b={...A,...P,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:S,ray:E.ray,camera:y,stopPropagation(){const B="pointerId"in c&&v.capturedMap.get(c.pointerId);if((!B||B.has(A.eventObject))&&(b.stopped=m.stopped=!0,v.hovered.size&&Array.from(v.hovered.values()).find(L=>L.eventObject===A.eventObject))){const L=l.slice(0,l.indexOf(A));s([...L,A])}},target:{hasPointerCapture:w,setPointerCapture:T,releasePointerCapture:M},currentTarget:{hasPointerCapture:w,setPointerCapture:T,releasePointerCapture:M},nativeEvent:c};if(h(b),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const d=u.eventObject.__r3f,m=d==null?void 0:d.handlers;if(c.hovered.delete(lA(u)),d!=null&&d.eventCount){const A={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(A),m.onPointerLeave==null||m.onPointerLeave(A)}}}function o(l,c){for(let u=0;u<c.length;u++){const h=c[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:h,internal:d}=t.getState();d.lastEvent.current=u;const m=l==="onPointerMove",A=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",E=r(u,m?n:void 0),g=A?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=E.map(v=>v.eventObject)),A&&!E.length&&g<=2&&(o(u,d.interaction),h&&h(u)),m&&s(E);function y(v){const S=v.eventObject,w=S.__r3f,T=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const M=lA(v),P=d.hovered.get(M);P?P.stopped&&v.stopPropagation():(d.hovered.set(M,v),T.onPointerOver==null||T.onPointerOver(v),T.onPointerEnter==null||T.onPointerEnter(v))}T.onPointerMove==null||T.onPointerMove(v)}else{const M=T[l];M?(!A||d.initialHits.includes(S))&&(o(u,d.interaction.filter(P=>!d.initialHits.includes(P))),M(v)):A&&d.initialHits.includes(S)&&o(u,d.interaction.filter(P=>!d.initialHits.includes(P)))}}i(E,u,g,y)}}return{handlePointer:a}}const jL=t=>!!(t!=null&&t.render),KL=D.createContext(null),aY=(t,e)=>{const n=W9((a,l)=>{const c=new O,u=new O,h=new O;function d(g=l().camera,y=u,v=l().size){const{width:S,height:w,top:T,left:M}=v,P=S/w;y instanceof O?h.copy(y):h.set(...y);const b=g.getWorldPosition(c).distanceTo(h);if(GL(g))return{width:S/g.zoom,height:w/g.zoom,top:T,left:M,factor:1,distance:b,aspect:P};{const B=g.fov*Math.PI/180,L=2*Math.tan(B/2)*b,H=L*(S/w);return{width:H,height:L,top:T,left:M,factor:S/H,distance:b,aspect:P}}}let m;const A=g=>a(y=>({performance:{...y.performance,current:g}})),x=new fe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,y)=>e(g,y,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new wv,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&A(g.performance.min),m=setTimeout(()=>A(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:g=>a(y=>({...y,events:{...y.events,...g}})),setSize:(g,y,v,S,w)=>{const T=l().camera,M={width:g,height:y,top:S||0,left:w||0,updateStyle:v};a(P=>({size:M,viewport:{...P.viewport,...d(T,u,M)}}))},setDpr:g=>a(y=>{const v=VL(g);return{viewport:{...y.viewport,dpr:v,initialDpr:y.viewport.initialDpr||v}}}),setFrameloop:(g="always")=>{const y=l().clock;y.stop(),y.elapsedTime=0,g!=="never"&&(y.start(),y.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:D.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,y,v)=>{const S=l().internal;return S.priority=S.priority+(y>0?1:0),S.subscribers.push({ref:g,priority:y,store:v}),S.subscribers=S.subscribers.sort((w,T)=>w.priority-T.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(y>0?1:0),w.subscribers=w.subscribers.filter(T=>T.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:h}=n.getState();if(l!==i||c.dpr!==s){var d;i=l,s=c.dpr,rY(a,l),u.setPixelRatio(c.dpr);const m=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};function lY(t,e){const n={callback:t};return e.add(n),()=>void e.delete(n)}let cA,JL=new Set,cY=new Set,uY=new Set;const fY=t=>lY(t,JL);function w6(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function hp(t,e){switch(t){case"before":return w6(JL,e);case"after":return w6(cY,e);case"tail":return w6(uY,e)}}let I6,T6;function M6(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),I6=e.internal.subscribers,cA=0;cA<I6.length;cA++)T6=I6[cA],T6.ref.current(T6.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function hY(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,hp("before",l);for(const u of t.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=M6(l,i))}if(hp("after",l),n===0)return hp("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return t.forEach(h=>o(h.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,h){if(c&&hp("before",l),u)M6(l,u,h);else for(const d of t.values())M6(l,d.store.getState());c&&hp("after",l)}return{loop:s,invalidate:o,advance:a}}function XL(){const t=D.useContext(KL);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function t0(t=n=>n,e){return XL()(t,e)}function YL(t,e=0){const n=XL(),r=n.getState().internal.subscribe,i=QL(t);return R3(()=>r(i,e,n),[e,r,n]),null}const RI=new WeakMap;function qL(t,e){return function(n,...r){let i=RI.get(n);return i||(i=new n,RI.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,tY(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function P3(t,e,n,r){const i=Array.isArray(e)?e:[e],s=jX(qL(n,r),[t,...i],{equal:wn.equ});return Array.isArray(e)?s:s[0]}P3.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return KX(qL(n),[t,...r])};P3.clear=function(t,e){const n=Array.isArray(e)?e:[e];return JX([t,...n])};const $h=new Map,{invalidate:PI,advance:DI}=hY($h),{reconciler:Q1,applyProps:ru}=YX($h,iY),Nf={objects:"shallow",strict:!1},dY=(t,e)=>{const n=typeof t=="function"?t(e):t;return jL(n)?n:new x9({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function pY(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function mY(t){const e=$h.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||aY(PI,DI),o=n||Q1.createContainer(s,ch.ConcurrentRoot,null,!1,null,"",i,null);e||$h.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:h,size:d,scene:m,events:A,onCreated:x,shadows:E=!1,linear:g=!1,flat:y=!1,legacy:v=!1,orthographic:S=!1,frameloop:w="always",dpr:T=[1,2],performance:M,raycaster:P,camera:b,onPointerMissed:B}=u,L=s.getState(),H=L.gl;L.gl||L.set({gl:H=dY(h,t)});let U=L.raycaster;U||L.set({raycaster:U=new ML});const{params:V,...W}=P||{};if(wn.equ(W,U,Nf)||ru(U,{...W}),wn.equ(V,U.params,Nf)||ru(U,{params:{...U.params,...V}}),!L.camera||L.camera===c&&!wn.equ(c,b,Nf)){c=b;const X=b instanceof S3,le=X?b:S?new al(0,0,0,0,.1,1e3):new Rn(75,0,.1,1e3);X||(le.position.z=5,b&&ru(le,b),!L.camera&&!(b!=null&&b.rotation)&&le.lookAt(0,0,0)),L.set({camera:le})}if(!L.scene){let X;m instanceof G1?X=m:(X=new G1,m&&ru(X,m)),L.set({scene:Vf(X)})}if(!L.xr){var q;const X=(ye,Se)=>{const we=s.getState();we.frameloop!=="never"&&DI(ye,!0,we,Se)},le=()=>{const ye=s.getState();ye.gl.xr.enabled=ye.gl.xr.isPresenting,ye.gl.xr.setAnimationLoop(ye.gl.xr.isPresenting?X:null),ye.gl.xr.isPresenting||PI(ye)},pe={connect(){const ye=s.getState().gl;ye.xr.addEventListener("sessionstart",le),ye.xr.addEventListener("sessionend",le)},disconnect(){const ye=s.getState().gl;ye.xr.removeEventListener("sessionstart",le),ye.xr.removeEventListener("sessionend",le)}};typeof((q=H.xr)==null?void 0:q.addEventListener)=="function"&&pe.connect(),L.set({xr:pe})}if(H.shadowMap){const X=H.shadowMap.enabled,le=H.shadowMap.type;if(H.shadowMap.enabled=!!E,wn.boo(E))H.shadowMap.type=Jp;else if(wn.str(E)){var Y;const pe={basic:jP,percentage:W2,soft:Jp,variance:to};H.shadowMap.type=(Y=pe[E])!=null?Y:Jp}else wn.obj(E)&&Object.assign(H.shadowMap,E);(X!==H.shadowMap.enabled||le!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}const k=UL();k&&("enabled"in k?k.enabled=!v:"legacyMode"in k&&(k.legacyMode=v)),ru(H,{outputEncoding:g?3e3:3001,toneMapping:y?Rs:t9}),L.legacy!==v&&L.set(()=>({legacy:v})),L.linear!==g&&L.set(()=>({linear:g})),L.flat!==y&&L.set(()=>({flat:y})),h&&!wn.fun(h)&&!jL(h)&&!wn.equ(h,H,Nf)&&ru(H,h),A&&!L.events.handlers&&L.set({events:A(s)});const G=pY(t,d);return wn.equ(G,L.size,Nf)||L.setSize(G.width,G.height,G.updateStyle,G.top,G.left),T&&L.viewport.dpr!==VL(T)&&L.setDpr(T),L.frameloop!==w&&L.setFrameloop(w),L.onPointerMissed||L.set({onPointerMissed:B}),M&&!wn.equ(M,L.performance,Nf)&&L.set(X=>({performance:{...X.performance,...M}})),a=x,l=!0,this},render(u){return l||this.configure(),Q1.updateContainer(D.createElement(gY,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){ZL(t)}}}function gY({store:t,children:e,onCreated:n,rootElement:r}){return R3(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),D.createElement(KL.Provider,{value:t},e)}function ZL(t,e){const n=$h.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Q1.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),nY(i),$h.delete(t),e&&e(t)}catch{}},500)})}}Q1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:D.version});function Zn(){return Zn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zn.apply(this,arguments)}function X4(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}X4.debounce=X4;var AY=X4;const LI=rd(AY);function vY(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=D.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=D.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,h=D.useRef(!1);D.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[d,m,A]=D.useMemo(()=>{const y=()=>{if(!l.current.element)return;const{left:v,top:S,width:w,height:T,bottom:M,right:P,x:b,y:B}=l.current.element.getBoundingClientRect(),L={left:v,top:S,width:w,height:T,bottom:M,right:P,x:b,y:B};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),h.current&&!CY(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[y,u?LI(y,u):y,c?LI(y,c):y]},[a,i,c,u]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",A,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function E(){l.current.element&&(l.current.resizeObserver=new s(A),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(y=>y.addEventListener("scroll",A,{capture:!0,passive:!0})))}const g=y=>{!y||y===l.current.element||(x(),l.current.element=y,l.current.scrollContainers=eF(y),E())};return EY(A,!!n),yY(m),D.useEffect(()=>{x(),E()},[n,A,m]),D.useEffect(()=>x,[]),[g,o,d]}function yY(t){D.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function EY(t,e){D.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function eF(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...eF(t.parentElement)]}const xY=["x","y","top","bottom","left","right","width","height"],CY=(t,e)=>xY.every(n=>t[n]===e[n]);var SY=Object.defineProperty,_Y=Object.defineProperties,wY=Object.getOwnPropertyDescriptors,FI=Object.getOwnPropertySymbols,IY=Object.prototype.hasOwnProperty,TY=Object.prototype.propertyIsEnumerable,OI=(t,e,n)=>e in t?SY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NI=(t,e)=>{for(var n in e||(e={}))IY.call(e,n)&&OI(t,n,e[n]);if(FI)for(var n of FI(e))TY.call(e,n)&&OI(t,n,e[n]);return t},MY=(t,e)=>_Y(t,wY(e));function tF(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=tF(r,e,n);if(i)return i;r=e?null:r.sibling}}function nF(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const j9=nF(D.createContext(null));class rF extends D.Component{render(){return D.createElement(j9.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:kI,ReactCurrentDispatcher:UI}=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function bY(){const t=D.useContext(j9);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=D.useId();return D.useMemo(()=>{for(const r of[kI==null?void 0:kI.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=tF(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function BY(){var t,e;const n=bY(),[r]=D.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==j9&&!r.has(s)&&r.set(s,(e=UI==null?void 0:UI.current)==null?void 0:e.readContext(nF(s))),i=i.return}return r}function RY(){const t=BY();return D.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>D.createElement(e,null,D.createElement(n.Provider,MY(NI({},r),{value:t.get(n)}))),e=>D.createElement(rF,NI({},e))),[t])}const b6={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function PY(t){const{handlePointer:e}=oY(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(b6).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=b6[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=b6[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const DY=D.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=PY,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:d,orthographic:m,frameloop:A,dpr:x,performance:E,raycaster:g,camera:y,scene:v,onPointerMissed:S,onCreated:w,...T},M){D.useMemo(()=>XX(PL),[]);const P=RY(),[b,B]=vY({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=D.useRef(null),H=D.useRef(null);D.useImperativeHandle(M,()=>L.current);const U=QL(S),[V,W]=D.useState(!1),[q,Y]=D.useState(!1);if(V)throw V;if(q)throw q;const k=D.useRef(null);R3(()=>{const $=L.current;B.width>0&&B.height>0&&$&&(k.current||(k.current=mY($)),k.current.configure({gl:s,events:o,shadows:c,linear:u,flat:h,legacy:d,orthographic:m,frameloop:A,dpr:x,performance:E,raycaster:g,camera:y,scene:v,size:B,onPointerMissed:(...G)=>U.current==null?void 0:U.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(a?qX(a)?a.current:a:H.current),l&&G.setEvents({compute:(X,le)=>{const pe=X[l+"X"],ye=X[l+"Y"];le.pointer.set(pe/le.size.width*2-1,-(ye/le.size.height)*2+1),le.raycaster.setFromCamera(le.pointer,le.camera)}}),w==null||w(G)}}),k.current.render(D.createElement(P,null,D.createElement(HL,{set:Y},D.createElement(D.Suspense,{fallback:D.createElement(ZX,{set:W})},e)))))}),D.useEffect(()=>{const $=L.current;if($)return()=>ZL($)},[]);const K=a?"none":"auto";return D.createElement("div",Zn({ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:K,...i}},T),D.createElement("div",{ref:b,style:{width:"100%",height:"100%"}},D.createElement("canvas",{ref:L,style:{display:"block"}},n)))}),LY=D.forwardRef(function(e,n){return D.createElement(rF,null,D.createElement(DY,Zn({},e,{ref:n})))}),D3=new O,K9=new O,FY=new O;function OY(t,e,n){const r=D3.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function NY(t,e){const n=D3.setFromMatrixPosition(t.matrixWorld),r=K9.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(FY);return i.angleTo(s)>Math.PI/2}function kY(t,e,n,r){const i=D3.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),n.setFromCamera(s,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function UY(t,e){if(e instanceof al)return e.zoom;if(e instanceof Rn){const n=D3.setFromMatrixPosition(t.matrixWorld),r=K9.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function GY(t,e,n){if(e instanceof Rn||e instanceof al){const r=D3.setFromMatrixPosition(t.matrixWorld),i=K9.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const Y4=t=>Math.abs(t)<1e-10?0:t;function iF(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=Y4(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const QY=(t=>e=>iF(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),HY=(t=>(e,n)=>iF(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function zY(t){return t&&typeof t=="object"&&"current"in t}const J9=D.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:h,onOcclude:d,castShadow:m,receiveShadow:A,material:x,geometry:E,zIndexRange:g=[16777271,0],calculatePosition:y=OY,as:v="div",wrapperClass:S,pointerEvents:w="auto",...T},M)=>{const{gl:P,camera:b,scene:B,size:L,raycaster:H,events:U,viewport:V}=t0(),[W]=D.useState(()=>document.createElement(v)),q=D.useRef(),Y=D.useRef(null),k=D.useRef(0),K=D.useRef([0,0]),$=D.useRef(null),G=D.useRef(null),X=(a==null?void 0:a.current)||U.connected||P.domElement.parentNode,le=D.useRef(null),pe=D.useRef(!1),ye=D.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&zY(h[0]),[h]);D.useLayoutEffect(()=>{const We=P.domElement;h&&h==="blending"?(We.style.zIndex=`${Math.floor(g[0]/2)}`,We.style.position="absolute",We.style.pointerEvents="none"):(We.style.zIndex=null,We.style.position=null,We.style.pointerEvents=null)},[h]),D.useLayoutEffect(()=>{if(Y.current){const We=q.current=VP(W);if(B.updateMatrixWorld(),u)W.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const xe=y(Y.current,b,L);W.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${xe[0]}px,${xe[1]}px,0);transform-origin:0 0;`}return X&&(i?X.prepend(W):X.appendChild(W)),()=>{X&&X.removeChild(W),We.unmount()}}},[X,u]),D.useLayoutEffect(()=>{S&&(W.className=S)},[S]);const Se=D.useMemo(()=>u?{position:"absolute",top:0,left:0,width:L.width,height:L.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-L.height/2,left:-L.width/2,width:L.width,height:L.height},...n},[n,s,o,L,u]),we=D.useMemo(()=>({position:"absolute",pointerEvents:w}),[w]);D.useLayoutEffect(()=>{if(pe.current=!1,u){var We;(We=q.current)==null||We.render(D.createElement("div",{ref:$,style:Se},D.createElement("div",{ref:G,style:we},D.createElement("div",{ref:M,className:r,style:n,children:t}))))}else{var xe;(xe=q.current)==null||xe.render(D.createElement("div",{ref:M,style:Se,className:r,children:t}))}});const Me=D.useRef(!0);YL(We=>{if(Y.current){b.updateMatrixWorld(),Y.current.updateWorldMatrix(!0,!1);const xe=u?K.current:y(Y.current,b,L);if(u||Math.abs(k.current-b.zoom)>e||Math.abs(K.current[0]-xe[0])>e||Math.abs(K.current[1]-xe[1])>e){const j=NY(Y.current,b);let Ae=!1;ye&&(Array.isArray(h)?Ae=h.map(Qe=>Qe.current):h!=="blending"&&(Ae=[B]));const ue=Me.current;if(Ae){const Qe=kY(Y.current,b,H,Ae);Me.current=Qe&&!j}else Me.current=!j;ue!==Me.current&&(d?d(!Me.current):W.style.display=Me.current?"block":"none");const _e=Math.floor(g[0]/2),Ee=h?ye?[g[0],_e]:[_e-1,0]:g;if(W.style.zIndex=`${GY(Y.current,b,Ee)}`,u){const[Qe,Oe]=[L.width/2,L.height/2],ke=b.projectionMatrix.elements[5]*Oe,{isOrthographicCamera:qe,top:xt,left:Yt,bottom:N,right:F}=b,ne=QY(b.matrixWorldInverse),Ce=qe?`scale(${ke})translate(${Y4(-(F+Yt)/2)}px,${Y4((xt+N)/2)}px)`:`translateZ(${ke}px)`;let ve=Y.current.matrixWorld;c&&(ve=b.matrixWorldInverse.clone().transpose().copyPosition(ve).scale(Y.current.scale),ve.elements[3]=ve.elements[7]=ve.elements[11]=0,ve.elements[15]=1),W.style.width=L.width+"px",W.style.height=L.height+"px",W.style.perspective=qe?"":`${ke}px`,$.current&&G.current&&($.current.style.transform=`${Ce}${ne}translate(${Qe}px,${Oe}px)`,G.current.style.transform=HY(ve,1/((l||10)/400)))}else{const Qe=l===void 0?1:UY(Y.current,b)*l;W.style.transform=`translate3d(${xe[0]}px,${xe[1]}px,0) scale(${Qe})`}K.current=xe,k.current=b.zoom}}if(!ye&&le.current&&!pe.current)if(u){if($.current){const xe=$.current.children[0];if(xe!=null&&xe.clientWidth&&xe!=null&&xe.clientHeight){const{isOrthographicCamera:j}=b;if(j||E)T.scale&&(Array.isArray(T.scale)?T.scale instanceof O?le.current.scale.copy(T.scale.clone().divideScalar(1)):le.current.scale.set(1/T.scale[0],1/T.scale[1],1/T.scale[2]):le.current.scale.setScalar(1/T.scale));else{const Ae=(l||10)/400,ue=xe.clientWidth*Ae,_e=xe.clientHeight*Ae;le.current.scale.set(ue,_e,1)}pe.current=!0}}}else{const xe=W.children[0];if(xe!=null&&xe.clientWidth&&xe!=null&&xe.clientHeight){const j=1/V.factor,Ae=xe.clientWidth*j,ue=xe.clientHeight*j;le.current.scale.set(Ae,ue,1),pe.current=!0}le.current.lookAt(We.camera.position)}});const Ve=D.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return D.createElement("group",Zn({},T,{ref:Y}),h&&!ye&&D.createElement("mesh",{castShadow:m,receiveShadow:A,ref:le},E||D.createElement("planeGeometry",null),x||D.createElement("shaderMaterial",{side:In,vertexShader:Ve.vertexShader,fragmentShader:Ve.fragmentShader})))});let dp=0;const VY=W9(t=>(lh.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-dp)/(r-dp)*100})},lh.onLoad=()=>{t({active:!1})},lh.onError=e=>t(n=>({errors:[...n.errors,e]})),lh.onProgress=(e,n,r)=>{n===r&&(dp=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-dp)/(r-dp)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function WY(t,e,n){return Math.max(e,Math.min(t,n))}const Zr={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function GI(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function QI(t,e,n,r=.15){return r===0?WY(t,e,n):t<e?-GI(e-t,n-e,r)+e:t>n?+GI(t-n,n-e,r)+n:t}function $Y(t,[e,n],[r,i]){const[[s,o],[a,l]]=t;return[QI(e,s,o,r),QI(n,a,l,i)]}function jY(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KY(t){var e=jY(t,"string");return typeof e=="symbol"?e:String(e)}function Ii(t,e,n){return e=KY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const sF={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function zI(t){return t?t[0].toUpperCase()+t.slice(1):""}const JY=["enter","leave"];function XY(t=!1,e){return t&&!JY.includes(e)}function YY(t,e="",n=!1){const r=sF[t],i=r&&r[e]||e;return"on"+zI(t)+zI(i)+(XY(n,i)?"Capture":"")}const qY=["gotpointercapture","lostpointercapture"];function ZY(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=qY.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function eq(t,e=""){const n=sF[t],r=n&&n[e]||e;return t+r}function Iv(t){return"touches"in t}function oF(t){return Iv(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function tq(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function nq(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function aF(t){return Iv(t)?nq(t)[0]:t}function rq(t){return tq(t).map(e=>e.identifier)}function B6(t){const e=aF(t);return Iv(t)?e.identifier:e.pointerId}function VI(t){const e=aF(t);return[e.clientX,e.clientY]}function iq(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function H1(t,...e){return typeof t=="function"?t(...e):t}function sq(){}function oq(...t){return t.length===0?sq:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function WI(t,e){return Object.assign({},e,t||{})}const aq=32;class lq{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?H1(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,iq(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const T=n._delta.map(Math.abs);Zr.addTo(n._distance,T)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,c]=r.threshold,{_step:u,values:h}=n;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&h[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&h[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),n.intentional=u[0]!==!1||u[1]!==!1,!n.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[T,M]=h;d[0]=u[0]!==!1?T-u[0]:0,d[1]=u[1]!==!1?M-u[1]:0}else d[0]=u[0]!==!1?o-u[0]:0,d[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(d);const m=n.offset,A=n._active&&!n._blocked||n.active;A&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=H1(r.bounds,n)),this.setup&&this.setup()),n.movement=d,this.computeOffset()));const[x,E]=n.offset,[[g,y],[v,S]]=n._bounds;n.overflow=[x<g?-1:x>y?1:0,E<v?-1:E>S?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const w=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=$Y(n._bounds,n.offset,w),n.delta=Zr.sub(n.offset,m),this.computeMovement(),A&&(!n.last||s>aq)){n.delta=Zr.sub(n.offset,m);const T=n.delta.map(Math.abs);Zr.addTo(n.distance,T),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[T[0]/s,T[1]/s],n.timeDelta=s)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Un(Un(Un({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function cq([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class uq extends lq{constructor(...e){super(...e),Ii(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Zr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Zr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[oF(e)]:r.axisThreshold;n.axis=cq(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const fq=t=>t,$I=.15,lF={enabled(t=!0){return t},eventOptions(t,e,n){return Un(Un({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[$I,$I];case!1:return[0,0];default:return Zr.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Zr.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||fq},threshold(t){return Zr.toVector(t,0)}},hq=0,L3=Un(Un({},lF),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=hq){return t},bounds(t={}){if(typeof t=="function")return s=>L3.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),jI={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class dq extends uq{constructor(...e){super(...e),Ii(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=L3.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=B6(e),r._pointerActive=!0,this.computeValues(VI(e)),this.computeInitial(),n.preventScrollAxis&&oF(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=B6(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=VI(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Zr.sub(s,n._values),this.computeValues(s)),Zr.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=B6(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[c,u]=n._movement,[h,d]=r.swipe.velocity,[m,A]=r.swipe.distance,x=r.swipe.duration;if(n.elapsedTime<x){const E=Math.abs(a/n.timeDelta),g=Math.abs(l/n.timeDelta);E>h&&Math.abs(c)>m&&(n.swipe[0]=Math.sign(a)),g>d&&Math.abs(u)>A&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,pq(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=jI[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Zr.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in jI&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function pq(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const F3=typeof window<"u"&&window.document&&window.document.createElement;function mq(){return F3&&"ontouchstart"in window}function KI(){return mq()||F3&&window.navigator.maxTouchPoints>1}function gq(){return F3&&"onpointerdown"in window}function Aq(){return F3&&"exitPointerLock"in window.document}function vq(){try{return"constructor"in GestureEvent}catch{return!1}}const ws={isBrowser:F3,gesture:vq(),touch:KI(),touchscreen:KI(),pointer:gq(),pointerLock:Aq()},yq=250,Eq=180,xq=.5,Cq=50,Sq=250,_q=10,JI={mouse:0,touch:0,pen:8},wq=Un(Un({},L3),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&ws.pointerLock,ws.touch&&n?"touch":this.pointerLock?"mouse":ws.pointer&&!i?"pointer":ws.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?yq:void 0,!(!ws.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Zr.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=xq,distance:e=Cq,duration:n=Sq}={}){return{velocity:this.transform(Zr.toVector(t)),distance:this.transform(Zr.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return Eq;case!1:return 0;default:return t}},axisThreshold(t){return t?Un(Un({},JI),t):JI},keyboardDisplacement(t=_q){return t}});Un(Un({},lF),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!ws.touch&&ws.gesture)return"gesture";if(ws.touch&&r)return"touch";if(ws.touchscreen){if(ws.pointer)return"pointer";if(ws.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=WI(H1(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=WI(H1(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Zr.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});Un(Un({},L3),{},{mouseOnly:(t=!0)=>t});Un(Un({},L3),{},{mouseOnly:(t=!0)=>t});const cF=new Map,q4=new Map;function Iq(t){cF.set(t.key,t.engine),q4.set(t.key,t.resolver)}const Tq={key:"drag",engine:dq,resolver:wq};function Mq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bq(t,e){if(t==null)return{};var n=Mq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const Bq={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=ws.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},Rq=["target","eventOptions","window","enabled","transform"];function e1(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=e1(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function Pq(t,e,n={}){const r=t,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=bq(r,Rq);if(n.shared=e1({target:i,eventOptions:s,window:o,enabled:a,transform:l},Bq),e){const u=q4.get(e);n[e]=e1(Un({shared:n.shared},c),u)}else for(const u in c){const h=q4.get(u);h&&(n[u]=e1(Un({shared:n.shared},c[u]),h))}return n}class uF{constructor(e,n){Ii(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const o=this._listeners,a=eq(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Un(Un({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Dq{constructor(){Ii(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}let Lq=class{constructor(e){Ii(this,"gestures",new Set),Ii(this,"_targetEventStore",new uF(this)),Ii(this,"gestureEventStores",{}),Ii(this,"gestureTimeoutStores",{}),Ii(this,"handlers",{}),Ii(this,"config",{}),Ii(this,"pointerIds",new Set),Ii(this,"touchIds",new Set),Ii(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Fq(this,e)}setEventIds(e){if(Iv(e))return this.touchIds=new Set(rq(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=Pq(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=XI(r,a.eventOptions,!!i);if(a.enabled){const c=cF.get(o);new c(this,e,o).bind(l)}}const s=XI(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Un(Un({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=oq(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=ZY(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}};function kf(t,e){t.gestures.add(e),t.gestureEventStores[e]=new uF(t,e),t.gestureTimeoutStores[e]=new Dq}function Fq(t,e){e.drag&&kf(t,"drag"),e.wheel&&kf(t,"wheel"),e.scroll&&kf(t,"scroll"),e.move&&kf(t,"move"),e.pinch&&kf(t,"pinch"),e.hover&&kf(t,"hover")}const XI=(t,e,n)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,h=(c=o.passive)!==null&&c!==void 0?c:e.passive;let d=a?r:YY(r,i,u);n&&h&&(d+="Passive"),t[d]=t[d]||[],t[d].push(s)};function Oq(t,e={},n,r){const i=J.useMemo(()=>new Lq(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),J.useEffect(i.effect.bind(i)),J.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function Nq(t,e){return Iq(Tq),Oq({drag:t},e||{},"drag")}const kq=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let h=o(r.getState());c=d=>{const m=o(d);if(!u(h,m)){const A=h;a(h=m,A)}},l!=null&&l.fireImmediately&&a(h,h)}return i(c)},t(e,n,r)};function X9(){}X9.prototype.s2u=function(t){for(var e=this.s2uTable,n="",r=0;r<t.length;){var i=t[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<t.length&&(i=i<<8|t[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),n;n+=String.fromCharCode(e[i])}return n};X9.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function YI(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new X9}YI.prototype={constructor:YI,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(t,n));return r},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function qI(){}qI.prototype={constructor:qI,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],r=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=r}};const fF=0,Uq=2,Gq=0,Qq=0,Hq=2,zq=0,Vq=0,Wq=1,Z4=2,$q=1,jq=64,hF=0,dF=9,Y9=15,pF=16,q9=22,mF=37,Z9=43,gF=76,AF=83,vF=97,yF=100,EF=103,xF=109;class Kq{constructor(){this.vkFormat=hF,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=fF,this.levels=[],this.dataFormatDescriptor=[{vendorId:Qq,descriptorType:Gq,descriptorBlockSize:0,versionNumber:Hq,colorModel:zq,colorPrimaries:$q,transferFunction:Z4,flags:Vq,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class pp{constructor(e,n,r,i){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+n,r),this._littleEndian=i,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian),n=this._dataView.getUint32(this._offset+4,this._littleEndian),r=e+2**32*n;return this._offset+=8,r}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,n=0){const r=this._offset;let i=0;for(;this._dataView.getUint8(this._offset)!==n&&i<e;)i++,this._offset++;return i<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,i)}}const li=[171,75,84,88,32,50,48,187,13,10,26,10];function ZI(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Buffer.from(t).toString("utf8")}function Jq(t){const e=new Uint8Array(t.buffer,t.byteOffset,li.length);if(e[0]!==li[0]||e[1]!==li[1]||e[2]!==li[2]||e[3]!==li[3]||e[4]!==li[4]||e[5]!==li[5]||e[6]!==li[6]||e[7]!==li[7]||e[8]!==li[8]||e[9]!==li[9]||e[10]!==li[10]||e[11]!==li[11])throw new Error("Missing KTX 2.0 identifier.");const n=new Kq,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new pp(t,li.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();const s=i._nextUint32();n.supercompressionScheme=i._nextUint32();const o=i._nextUint32(),a=i._nextUint32(),l=i._nextUint32(),c=i._nextUint32(),u=i._nextUint64(),h=i._nextUint64(),d=s*3*8,m=new pp(t,li.length+r,d,!0);for(let $=0;$<s;$++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+m._nextUint64(),m._nextUint64()),uncompressedByteLength:m._nextUint64()});const A=new pp(t,o,a,!0),x={vendorId:A._skip(4)._nextUint16(),descriptorType:A._nextUint16(),versionNumber:A._nextUint16(),descriptorBlockSize:A._nextUint16(),colorModel:A._nextUint8(),colorPrimaries:A._nextUint8(),transferFunction:A._nextUint8(),flags:A._nextUint8(),texelBlockDimension:[A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8()],bytesPlane:[A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8()],samples:[]},E=6,g=4,y=(x.descriptorBlockSize/4-E)/g;for(let $=0;$<y;$++){const G={bitOffset:A._nextUint16(),bitLength:A._nextUint8(),channelType:A._nextUint8(),samplePosition:[A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};G.channelType&jq?(G.sampleLower=A._nextInt32(),G.sampleUpper=A._nextInt32()):(G.sampleLower=A._nextUint32(),G.sampleUpper=A._nextUint32()),x.samples[$]=G}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(x);const v=new pp(t,l,c,!0);for(;v._offset<c;){const $=v._nextUint32(),G=v._scan($),X=ZI(G),le=v._scan($-G.byteLength);n.keyValue[X]=X.match(/^ktx/i)?ZI(le):le,v._offset%4&&v._skip(4-v._offset%4)}if(h<=0)return n;const S=new pp(t,u,h,!0),w=S._nextUint16(),T=S._nextUint16(),M=S._nextUint32(),P=S._nextUint32(),b=S._nextUint32(),B=S._nextUint32(),L=[];for(let $=0;$<s;$++)L.push({imageFlags:S._nextUint32(),rgbSliceByteOffset:S._nextUint32(),rgbSliceByteLength:S._nextUint32(),alphaSliceByteOffset:S._nextUint32(),alphaSliceByteLength:S._nextUint32()});const H=u+S._offset,U=H+M,V=U+P,W=V+b,q=new Uint8Array(t.buffer,t.byteOffset+H,M),Y=new Uint8Array(t.buffer,t.byteOffset+U,P),k=new Uint8Array(t.buffer,t.byteOffset+V,b),K=new Uint8Array(t.buffer,t.byteOffset+W,B);return n.globalData={endpointCount:w,selectorCount:T,imageDescs:L,endpointsData:q,selectorsData:Y,tablesData:k,extendedData:K},n}let R6,ba,eE;const P6={env:{emscripten_notify_memory_growth:function(t){eE=new Uint8Array(ba.exports.memory.buffer)}}};let Xq=class{init(){return R6||(R6=typeof fetch<"u"?fetch("data:application/wasm;base64,"+eT).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,P6)).then(this._init):WebAssembly.instantiate(Buffer.from(eT,"base64"),P6).then(this._init),R6)}_init(e){ba=e.instance,P6.env.emscripten_notify_memory_growth(0)}decode(e,n=0){if(!ba)throw new Error("ZSTDDecoder: Await .init() before decoding.");const r=e.byteLength,i=ba.exports.malloc(r);eE.set(e,i),n=n||Number(ba.exports.ZSTD_findDecompressedSize(i,r));const s=ba.exports.malloc(n),o=ba.exports.ZSTD_decompress(s,n,i,r),a=eE.slice(s,s+o);return ba.exports.free(i),ba.exports.free(s),a}};const eT="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},r=Object.defineProperty,i=r(n,n,n)&&r}catch{}return i}(),e=function(n){if(this==null)throw TypeError();var r=String(this),i=r.length,s=n?Number(n):0;if(s!=s&&(s=0),!(s<0||s>=i)){var o=r.charCodeAt(s),a;return o>=55296&&o<=56319&&i>s+1&&(a=r.charCodeAt(s+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function CF(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var Yq=new CF,qq=new CF,SF=new Uint8Array(30),_F=new Uint16Array(30),Zq=new Uint8Array(30),eZ=new Uint16Array(30);function wF(t,e,n,r){var i,s;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(s=r,i=0;i<30;++i)e[i]=s,s+=1<<t[i]}function tZ(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[24+144+n]=280+n;for(n=0;n<112;++n)t.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}tZ(Yq,qq);wF(SF,_F,4,3);wF(Zq,eZ,2,1);SF[28]=0;_F[28]=258;function Uf(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function Bc(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Bc.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};Bc.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};Bc.prototype.addX=function(t){this.addPoint(t,null)};Bc.prototype.addY=function(t){this.addPoint(null,t)};Bc.prototype.addBezier=function(t,e,n,r,i,s,o,a){var l=[t,e],c=[n,r],u=[i,s],h=[o,a];this.addPoint(t,e),this.addPoint(o,a);for(var d=0;d<=1;d++){var m=6*l[d]-12*c[d]+6*u[d],A=-3*l[d]+9*c[d]-9*u[d]+3*h[d],x=3*c[d]-3*l[d];if(A===0){if(m===0)continue;var E=-x/m;0<E&&E<1&&(d===0&&this.addX(Uf(l[d],c[d],u[d],h[d],E)),d===1&&this.addY(Uf(l[d],c[d],u[d],h[d],E)));continue}var g=Math.pow(m,2)-4*x*A;if(!(g<0)){var y=(-m+Math.sqrt(g))/(2*A);0<y&&y<1&&(d===0&&this.addX(Uf(l[d],c[d],u[d],h[d],y)),d===1&&this.addY(Uf(l[d],c[d],u[d],h[d],y)));var v=(-m-Math.sqrt(g))/(2*A);0<v&&v<1&&(d===0&&this.addX(Uf(l[d],c[d],u[d],h[d],v)),d===1&&this.addY(Uf(l[d],c[d],u[d],h[d],v)))}}};Bc.prototype.addQuad=function(t,e,n,r,i,s){var o=t+.6666666666666666*(n-t),a=e+2/3*(r-e),l=o+1/3*(i-t),c=a+1/3*(s-e);this.addBezier(t,e,o,a,l,c,i,s)};function wr(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}wr.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};wr.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};wr.prototype.curveTo=wr.prototype.bezierCurveTo=function(t,e,n,r,i,s){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:s})};wr.prototype.quadTo=wr.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})};wr.prototype.close=wr.prototype.closePath=function(){this.commands.push({type:"Z"})};wr.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof Bc){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};wr.prototype.getBoundingBox=function(){for(var t=new Bc,e=0,n=0,r=0,i=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":t.addPoint(o.x,o.y),e=r=o.x,n=i=o.y;break;case"L":t.addPoint(o.x,o.y),r=o.x,i=o.y;break;case"Q":t.addQuad(r,i,o.x1,o.y1,o.x,o.y),r=o.x,i=o.y;break;case"C":t.addBezier(r,i,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,i=o.y;break;case"Z":r=e,i=n;break;default:throw new Error("Unexpected path command "+o.type)}}return t.isEmpty()&&t.addPoint(0,0),t};wr.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};wr.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(t)}function n(){for(var o=arguments,a="",l=0;l<arguments.length;l+=1){var c=o[l];c>=0&&l>0&&(a+=" "),a+=e(c)}return a}for(var r="",i=0;i<this.commands.length;i+=1){var s=this.commands[i];s.type==="M"?r+="M"+n(s.x,s.y):s.type==="L"?r+="L"+n(s.x,s.y):s.type==="C"?r+="C"+n(s.x1,s.y1,s.x2,s.y2,s.x,s.y):s.type==="Q"?r+="Q"+n(s.x1,s.y1,s.x,s.y):s.type==="Z"&&(r+="Z")}return r};wr.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};wr.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function IF(t){throw new Error(t)}function tT(t,e){t||IF(e)}var bt={fail:IF,argument:tT,assert:tT},nT=32768,rT=2147483648,jh={},Ne={},Et={};function _o(t){return function(){return t}}Ne.BYTE=function(t){return bt.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};Et.BYTE=_o(1);Ne.CHAR=function(t){return[t.charCodeAt(0)]};Et.CHAR=_o(1);Ne.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};Et.CHARARRAY=function(t){return typeof t>"u"?0:t.length};Ne.USHORT=function(t){return[t>>8&255,t&255]};Et.USHORT=_o(2);Ne.SHORT=function(t){return t>=nT&&(t=-(2*nT-t)),[t>>8&255,t&255]};Et.SHORT=_o(2);Ne.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};Et.UINT24=_o(3);Ne.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};Et.ULONG=_o(4);Ne.LONG=function(t){return t>=rT&&(t=-(2*rT-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};Et.LONG=_o(4);Ne.FIXED=Ne.ULONG;Et.FIXED=Et.ULONG;Ne.FWORD=Ne.SHORT;Et.FWORD=Et.SHORT;Ne.UFWORD=Ne.USHORT;Et.UFWORD=Et.USHORT;Ne.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};Et.LONGDATETIME=_o(8);Ne.TAG=function(t){return bt.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};Et.TAG=_o(4);Ne.Card8=Ne.BYTE;Et.Card8=Et.BYTE;Ne.Card16=Ne.USHORT;Et.Card16=Et.USHORT;Ne.OffSize=Ne.BYTE;Et.OffSize=Et.BYTE;Ne.SID=Ne.USHORT;Et.SID=Et.USHORT;Ne.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?Ne.NUMBER16(t):Ne.NUMBER32(t)};Et.NUMBER=function(t){return Ne.NUMBER(t).length};Ne.NUMBER16=function(t){return[28,t>>8&255,t&255]};Et.NUMBER16=_o(3);Ne.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};Et.NUMBER32=_o(5);Ne.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var i="",s=0,o=e.length;s<o;s+=1){var a=e[s];a==="e"?i+=e[++s]==="-"?"c":"b":a==="."?i+="a":a==="-"?i+="e":i+=a}i+=i.length&1?"f":"ff";for(var l=[30],c=0,u=i.length;c<u;c+=2)l.push(parseInt(i.substr(c,2),16));return l};Et.REAL=function(t){return Ne.REAL(t).length};Ne.NAME=Ne.CHARARRAY;Et.NAME=Et.CHARARRAY;Ne.STRING=Ne.CHARARRAY;Et.STRING=Et.CHARARRAY;jh.UTF8=function(t,e,n){for(var r=[],i=n,s=0;s<i;s++,e+=1)r[s]=t.getUint8(e);return String.fromCharCode.apply(null,r)};jh.UTF16=function(t,e,n){for(var r=[],i=n/2,s=0;s<i;s++,e+=2)r[s]=t.getUint16(e);return String.fromCharCode.apply(null,r)};Ne.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=r&255}return e};Et.UTF16=function(t){return t.length*2};var tE={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};jh.MACSTRING=function(t,e,n,r){var i=tE[r];if(i!==void 0){for(var s="",o=0;o<n;o++){var a=t.getUint8(e+o);a<=127?s+=String.fromCharCode(a):s+=i[a&127]}return s}};var uA=typeof WeakMap=="function"&&new WeakMap,fA,nZ=function(t){if(!fA){fA={};for(var e in tE)fA[e]=new String(e)}var n=fA[t];if(n!==void 0){if(uA){var r=uA.get(n);if(r!==void 0)return r}var i=tE[t];if(i!==void 0){for(var s={},o=0;o<i.length;o++)s[i.charCodeAt(o)]=o+128;return uA&&uA.set(n,s),s}}};Ne.MACSTRING=function(t,e){var n=nZ(e);if(n!==void 0){for(var r=[],i=0;i<t.length;i++){var s=t.charCodeAt(i);if(s>=128&&(s=n[s],s===void 0))return;r[i]=s}return r}};Et.MACSTRING=function(t,e){var n=Ne.MACSTRING(t,e);return n!==void 0?n.length:0};function nE(t){return t>=-128&&t<=127}function rZ(t,e,n){for(var r=0,i=t.length;e<i&&r<64&&t[e]===0;)++e,++r;return n.push(128|r-1),e}function iZ(t,e,n){for(var r=0,i=t.length,s=e;s<i&&r<64;){var o=t[s];if(!nE(o)||o===0&&s+1<i&&t[s+1]===0)break;++s,++r}n.push(r-1);for(var a=e;a<s;++a)n.push(t[a]+256&255);return s}function sZ(t,e,n){for(var r=0,i=t.length,s=e;s<i&&r<64;){var o=t[s];if(o===0||nE(o)&&s+1<i&&nE(t[s+1]))break;++s,++r}n.push(64|r-1);for(var a=e;a<s;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return s}Ne.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];r===0?e=rZ(t,e,n):r>=-128&&r<=127?e=iZ(t,e,n):e=sZ(t,e,n)}return n};Ne.INDEX=function(t){for(var e=1,n=[e],r=[],i=0;i<t.length;i+=1){var s=Ne.OBJECT(t[i]);Array.prototype.push.apply(r,s),e+=s.length,n.push(e)}if(r.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,Ne.BYTE,Ne.USHORT,Ne.UINT24,Ne.ULONG][a],c=0;c<n.length;c+=1){var u=l(n[c]);Array.prototype.push.apply(o,u)}return Array.prototype.concat(Ne.Card16(t.length),Ne.OffSize(a),o,r)};Et.INDEX=function(t){return Ne.INDEX(t).length};Ne.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var s=parseInt(n[i],0),o=t[s];e=e.concat(Ne.OPERAND(o.value,o.type)),e=e.concat(Ne.OPERATOR(s))}return e};Et.DICT=function(t){return Ne.DICT(t).length};Ne.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};Ne.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)bt.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(Ne.OPERAND(t[r],e[r]));else if(e==="SID")n=n.concat(Ne.NUMBER(t));else if(e==="offset")n=n.concat(Ne.NUMBER32(t));else if(e==="number")n=n.concat(Ne.NUMBER(t));else if(e==="real")n=n.concat(Ne.REAL(t));else throw new Error("Unknown operand type "+e);return n};Ne.OP=Ne.BYTE;Et.OP=Et.BYTE;var hA=typeof WeakMap=="function"&&new WeakMap;Ne.CHARSTRING=function(t){if(hA){var e=hA.get(t);if(e!==void 0)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var s=t[i];n=n.concat(Ne[s.type](s.value))}return hA&&hA.set(t,n),n};Et.CHARSTRING=function(t){return Ne.CHARSTRING(t).length};Ne.OBJECT=function(t){var e=Ne[t.type];return bt.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};Et.OBJECT=function(t){var e=Et[t.type];return bt.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};Ne.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],i=[],s=0;s<n;s+=1){var o=t.fields[s],a=Ne[o.type];bt.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var l=t[o.name];l===void 0&&(l=o.value);var c=a(l);o.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(c)):e=e.concat(c)}for(var u=0;u<r.length;u+=1){var h=i[u],d=e.length;bt.argument(d<65536,"Table "+t.tableName+" too big."),e[h]=d>>8,e[h+1]=d&255,e=e.concat(r[u])}return e};Et.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var i=t.fields[r],s=Et[i.type];bt.argument(s!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var o=t[i.name];o===void 0&&(o=i.value),e+=s(o),i.type==="TABLE"&&(e+=2)}return e};Ne.RECORD=Ne.TABLE;Et.RECORD=Et.TABLE;Ne.LITERAL=function(t){return t};Et.LITERAL=function(t){return t.length};function Dr(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n)for(var s=Object.keys(n),o=0;o<s.length;o+=1){var a=s[o],l=n[a];this[a]!==void 0&&(this[a]=l)}}Dr.prototype.encode=function(){return Ne.TABLE(this)};Dr.prototype.sizeOf=function(){return Et.TABLE(this)};function X0(t,e,n){n===void 0&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function rE(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i[s+1]={name:t+s,type:"TABLE",value:n(e[s],s)};return i}function Y0(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i=i.concat(n(e[s],s));return i}function z1(t){t.format===1?Dr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(X0("glyph",t.glyphs))):t.format===2?Dr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Y0("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):bt.assert(!1,"Coverage format must be 1 or 2.")}z1.prototype=Object.create(Dr.prototype);z1.prototype.constructor=z1;function V1(t){Dr.call(this,"scriptListTable",Y0("scriptRecord",t,function(e,n){var r=e.script,i=r.defaultLangSys;return bt.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new Dr("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Dr("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(X0("featureIndex",i.featureIndexes)))}].concat(Y0("langSys",r.langSysRecords,function(s,o){var a=s.langSys;return[{name:"langSysTag"+o,type:"TAG",value:s.tag},{name:"langSys"+o,type:"TABLE",value:new Dr("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(X0("featureIndex",a.featureIndexes)))}]})))}]}))}V1.prototype=Object.create(Dr.prototype);V1.prototype.constructor=V1;function W1(t){Dr.call(this,"featureListTable",Y0("featureRecord",t,function(e,n){var r=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new Dr("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(X0("lookupListIndex",r.lookupListIndexes)))}]}))}W1.prototype=Object.create(Dr.prototype);W1.prototype.constructor=W1;function $1(t,e){Dr.call(this,"lookupListTable",rE("lookup",t,function(n){var r=e[n.lookupType];return bt.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new Dr("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(rE("subtable",n.subtables,r)))}))}$1.prototype=Object.create(Dr.prototype);$1.prototype.constructor=$1;var nt={Table:Dr,Record:Dr,Coverage:z1,ScriptList:V1,FeatureList:W1,LookupList:$1,ushortList:X0,tableList:rE,recordList:Y0};function iT(t,e){return t.getUint8(e)}function j1(t,e){return t.getUint16(e,!1)}function oZ(t,e){return t.getInt16(e,!1)}function e7(t,e){return t.getUint32(e,!1)}function TF(t,e){var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535}function aZ(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n}function lZ(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r}function cZ(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r}function uZ(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var fZ={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function he(t,e){this.data=t,this.offset=e,this.relativeOffset=0}he.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};he.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};he.prototype.parseCard8=he.prototype.parseByte;he.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};he.prototype.parseCard16=he.prototype.parseUShort;he.prototype.parseSID=he.prototype.parseUShort;he.prototype.parseOffset16=he.prototype.parseUShort;he.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};he.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};he.prototype.parseULong=function(){var t=e7(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};he.prototype.parseOffset32=he.prototype.parseULong;he.prototype.parseFixed=function(){var t=TF(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};he.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r};he.prototype.parseTag=function(){return this.parseString(4)};he.prototype.parseLongDateTime=function(){var t=e7(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};he.prototype.parseVersion=function(t){var e=j1(this.data,this.offset+this.relativeOffset),n=j1(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};he.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=fZ[t]*e};he.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint32(r),r+=4;return this.relativeOffset+=t*4,e};he.prototype.parseOffset16List=he.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=t*2,e};he.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getInt16(r),r+=2;return this.relativeOffset+=t*2,e};he.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint8(r++);return this.relativeOffset+=t,e};he.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};he.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};he.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}n[i]=s}return n};he.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}n[i]=s}return n};he.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],s=t[i];n[i]=s.call(this)}return n};he.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};he.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n};he.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new he(this.data,this.offset+e).parseStruct(t)};he.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new he(this.data,this.offset+e).parseStruct(t)};he.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,i=new Array(n),s=0;s<n;s++){var o=e[s];if(o===0){i[s]=void 0;continue}if(this.relativeOffset=o,t){for(var a=this.parseOffset16List(),l=new Array(a.length),c=0;c<a.length;c++)this.relativeOffset=o+a[c],l[c]=t.call(this);i[s]=l}else i[s]=this.parseUShortList()}return this.relativeOffset=r,i};he.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};he.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:he.uShort,end:he.uShort,classId:he.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};he.list=function(t,e){return function(){return this.parseList(t,e)}};he.list32=function(t,e){return function(){return this.parseList32(t,e)}};he.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};he.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};he.pointer=function(t){return function(){return this.parsePointer(t)}};he.pointer32=function(t){return function(){return this.parsePointer32(t)}};he.tag=he.prototype.parseTag;he.byte=he.prototype.parseByte;he.uShort=he.offset16=he.prototype.parseUShort;he.uShortList=he.prototype.parseUShortList;he.uLong=he.offset32=he.prototype.parseULong;he.uLongList=he.prototype.parseULongList;he.struct=he.prototype.parseStruct;he.coverage=he.prototype.parseCoverage;he.classDef=he.prototype.parseClassDef;var sT={reserved:he.uShort,reqFeatureIndex:he.uShort,featureIndexes:he.uShortList};he.prototype.parseScriptList=function(){return this.parsePointer(he.recordList({tag:he.tag,script:he.pointer({defaultLangSys:he.pointer(sT),langSysRecords:he.recordList({tag:he.tag,langSys:he.pointer(sT)})})}))||[]};he.prototype.parseFeatureList=function(){return this.parsePointer(he.recordList({tag:he.tag,feature:he.pointer({featureParams:he.offset16,lookupListIndexes:he.uShortList})}))||[]};he.prototype.parseLookupList=function(t){return this.parsePointer(he.list(he.pointer(function(){var e=this.parseUShort();bt.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(he.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};he.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();bt.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:he.offset32,featureTableSubstitutionOffset:he.offset32});return n})||[]};var Dt={getByte:iT,getCard8:iT,getUShort:j1,getCard16:j1,getShort:oZ,getULong:e7,getFixed:TF,getTag:aZ,getOffset:lZ,getBytes:cZ,bytesToString:uZ,Parser:he};function hZ(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=i;a<=s;a+=1)t.glyphIndexMap[a]=o,o++}function dZ(t,e,n,r,i){t.length=e.parseUShort(),t.language=e.parseUShort();var s;t.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var o=new Dt.Parser(n,r+i+14),a=new Dt.Parser(n,r+i+16+s*2),l=new Dt.Parser(n,r+i+16+s*4),c=new Dt.Parser(n,r+i+16+s*6),u=r+i+16+s*8,h=0;h<s-1;h+=1)for(var d=void 0,m=o.parseUShort(),A=a.parseUShort(),x=l.parseShort(),E=c.parseUShort(),g=A;g<=m;g+=1)E!==0?(u=c.offset+c.relativeOffset-2,u+=E,u+=(g-A)*2,d=Dt.getUShort(n,u),d!==0&&(d=d+x&65535)):d=g+x&65535,t.glyphIndexMap[g]=d}function pZ(t,e){var n={};n.version=Dt.getUShort(t,e),bt.argument(n.version===0,"cmap table version should be 0."),n.numTables=Dt.getUShort(t,e+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var s=Dt.getUShort(t,e+4+i*8),o=Dt.getUShort(t,e+4+i*8+2);if(s===3&&(o===0||o===1||o===10)||s===0&&(o===0||o===1||o===2||o===3||o===4)){r=Dt.getULong(t,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var a=new Dt.Parser(t,e+r);if(n.format=a.parseUShort(),n.format===12)hZ(n,a);else if(n.format===4)dZ(n,a,t,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function mZ(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function gZ(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function AZ(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var r=t.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var s=new nt.Table("cmap",i);for(s.segments=[],n=0;n<t.length;n+=1){for(var o=t.get(n),a=0;a<o.unicodes.length;a+=1)mZ(s,o.unicodes[a],n);s.segments=s.segments.sort(function(y,v){return y.start-v.start})}gZ(s);var l=s.segments.length,c=0,u=[],h=[],d=[],m=[],A=[],x=[];for(n=0;n<l;n+=1){var E=s.segments[n];E.end<=65535&&E.start<=65535?(u=u.concat({name:"end_"+n,type:"USHORT",value:E.end}),h=h.concat({name:"start_"+n,type:"USHORT",value:E.start}),d=d.concat({name:"idDelta_"+n,type:"SHORT",value:E.delta}),m=m.concat({name:"idRangeOffset_"+n,type:"USHORT",value:E.offset}),E.glyphId!==void 0&&(A=A.concat({name:"glyph_"+n,type:"USHORT",value:E.glyphId}))):c+=1,!e&&E.glyphIndex!==void 0&&(x=x.concat({name:"cmap12Start_"+n,type:"ULONG",value:E.start}),x=x.concat({name:"cmap12End_"+n,type:"ULONG",value:E.end}),x=x.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:E.glyphIndex}))}if(s.segCountX2=(l-c)*2,s.searchRange=Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2)))*2,s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(u),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(h),s.fields=s.fields.concat(d),s.fields=s.fields.concat(m),s.fields=s.fields.concat(A),s.cmap4Length=14+u.length*2+2+h.length*2+d.length*2+m.length*2+A.length*2,!e){var g=16+x.length*4;s.cmap12Offset=12+2*2+4+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:g},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:x.length/3}]),s.fields=s.fields.concat(x)}return s}var vZ={parse:pZ,make:AZ},t1=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],yZ=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],EZ=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],oT=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function MF(t){this.font=t}MF.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var i=n.get(r),s=0;s<i.unicodes.length;s+=1)if(i.unicodes[s]===e)return r}return null};function K1(t,e){this.encoding=t,this.charset=e}K1.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function xZ(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}var qc={line:xZ};function CZ(t,e){var n=e||new wr;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function Hs(t){this.bindConstructorValues(t)}Hs.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",CZ(this,t.path))};Hs.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};Hs.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Hs.prototype.getPath=function(t,e,n,r,i){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var s,o;r||(r={});var a=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(o=this.path&&i.hinting.exec(this,n)),o)s=i.hinting.getCommands(o),t=Math.round(t),e=Math.round(e),a=l=1;else{s=this.path.commands;var c=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=c),l===void 0&&(l=c)}for(var u=new wr,h=0;h<s.length;h+=1){var d=s[h];d.type==="M"?u.moveTo(t+d.x*a,e+-d.y*l):d.type==="L"?u.lineTo(t+d.x*a,e+-d.y*l):d.type==="Q"?u.quadraticCurveTo(t+d.x1*a,e+-d.y1*l,t+d.x*a,e+-d.y*l):d.type==="C"?u.curveTo(t+d.x1*a,e+-d.y1*l,t+d.x2*a,e+-d.y2*l,t+d.x*a,e+-d.y*l):d.type==="Z"&&u.closePath()}return u};Hs.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return bt.argument(e.length===0,"There are still points left in the current contour."),t};Hs.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];i.type!=="Z"&&(e.push(i.x),n.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),n.push(i.y1)),i.type==="C"&&(e.push(i.x2),n.push(i.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s};Hs.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)};Hs.prototype.drawPoints=function(t,e,n,r){function i(h,d,m,A){t.beginPath();for(var x=0;x<h.length;x+=1)t.moveTo(d+h[x].x*A,m+h[x].y*A),t.arc(d+h[x].x*A,m+h[x].y*A,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var s=1/this.path.unitsPerEm*r,o=[],a=[],l=this.path,c=0;c<l.commands.length;c+=1){var u=l.commands[c];u.x!==void 0&&o.push({x:u.x,y:-u.y}),u.x1!==void 0&&a.push({x:u.x1,y:-u.y1}),u.x2!==void 0&&a.push({x:u.x2,y:-u.y2})}t.fillStyle="blue",i(o,e,n,s),t.fillStyle="red",i(a,e,n,s)};Hs.prototype.drawMetrics=function(t,e,n,r){var i;e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",qc.line(t,e,-1e4,e,1e4),qc.line(t,-1e4,n,1e4,n);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;t.strokeStyle="blue",qc.line(t,e+s*i,-1e4,e+s*i,1e4),qc.line(t,e+a*i,-1e4,e+a*i,1e4),qc.line(t,-1e4,n+-o*i,1e4,n+-o*i),qc.line(t,-1e4,n+-l*i,1e4,n+-l*i),t.strokeStyle="green",qc.line(t,e+c*i,-1e4,e+c*i,1e4)};function dA(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(r){t[n]=r},enumerable:!0,configurable:!0})}function t7(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}t7.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var r=0;r<n.unicodes.length;r++)e.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};t7.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function SZ(t,e){return new Hs({index:e,font:t})}function _Z(t,e,n,r,i,s){return function(){var o=new Hs({index:e,font:t});return o.path=function(){n(o,r,i);var a=s(t.glyphs,o);return a.unitsPerEm=t.unitsPerEm,a},dA(o,"xMin","_xMin"),dA(o,"xMax","_xMax"),dA(o,"yMin","_yMin"),dA(o,"yMax","_yMax"),o}}function wZ(t,e,n,r){return function(){var i=new Hs({index:e,font:t});return i.path=function(){var s=n(t,i,r);return s.unitsPerEm=t.unitsPerEm,s},i}}var ea={GlyphSet:t7,glyphLoader:SZ,ttfGlyphLoader:_Z,cffGlyphLoader:wZ};function bF(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!bF(t[n],e[n]))return!1;return!0}else return!1}function iE(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function Nl(t,e,n){var r=[],i=[],s=Dt.getCard16(t,e),o,a;if(s!==0){var l=Dt.getByte(t,e+2);o=e+(s+1)*l+2;for(var c=e+3,u=0;u<s+1;u+=1)r.push(Dt.getOffset(t,c,l)),c+=l;a=o+r[s]}else a=e+2;for(var h=0;h<r.length-1;h+=1){var d=Dt.getBytes(t,o+r[h],o+r[h+1]);n&&(d=n(d)),i.push(d)}return{objects:i,startOffset:e,endOffset:a}}function IZ(t,e){var n=[],r=Dt.getCard16(t,e),i,s;if(r!==0){var o=Dt.getByte(t,e+2);i=e+(r+1)*o+2;for(var a=e+3,l=0;l<r+1;l+=1)n.push(Dt.getOffset(t,a,o)),a+=o;s=i+n[r]}else s=e+2;return{offsets:n,startOffset:e,endOffset:s}}function TZ(t,e,n,r,i){var s=Dt.getCard16(n,r),o=0;if(s!==0){var a=Dt.getByte(n,r+2);o=r+(s+1)*a+2}var l=Dt.getBytes(n,o+e[t],o+e[t+1]);return i&&(l=i(l)),l}function MZ(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=t.parseByte(),s=i>>4,o=i&15;if(s===n||(e+=r[s],o===n))break;e+=r[o]}return parseFloat(e)}function bZ(t,e){var n,r,i,s;if(e===28)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(e===29)return n=t.parseByte(),r=t.parseByte(),i=t.parseByte(),s=t.parseByte(),n<<24|r<<16|i<<8|s;if(e===30)return MZ(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function BZ(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],i=t[n][1],s=void 0;if(i.length===1?s=i[0]:s=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=s}return e}function BF(t,e,n){e=e!==void 0?e:0;var r=new Dt.Parser(t,e),i=[],s=[];for(n=n!==void 0?n:t.length;r.relativeOffset<n;){var o=r.parseByte();o<=21?(o===12&&(o=1200+r.parseByte()),i.push([o,s]),s=[]):s.push(bZ(r,o))}return BZ(i)}function n0(t,e){return e<=390?e=t1[e]:e=t[e-391],e}function RF(t,e,n){for(var r={},i,s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)i=t[o.op]!==void 0?t[o.op][l]:void 0,i===void 0&&(i=o.value!==void 0&&o.value[l]!==void 0?o.value[l]:null),o.type[l]==="SID"&&(i=n0(n,i)),a[l]=i;r[o.name]=a}else i=t[o.op],i===void 0&&(i=o.value!==void 0?o.value:null),o.type==="SID"&&(i=n0(n,i)),r[o.name]=i}return r}function RZ(t,e){var n={};return n.formatMajor=Dt.getCard8(t,e),n.formatMinor=Dt.getCard8(t,e+1),n.size=Dt.getCard8(t,e+2),n.offsetSize=Dt.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var PF=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],DF=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function PZ(t,e){var n=BF(t,0,t.byteLength);return RF(n,PF,e)}function LF(t,e,n,r){var i=BF(t,e,n);return RF(i,DF,r)}function aT(t,e,n,r){for(var i=[],s=0;s<n.length;s+=1){var o=new DataView(new Uint8Array(n[s]).buffer),a=PZ(o,r);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],c=a.private[1];if(l!==0&&c!==0){var u=LF(t,c+e,l,r);if(a._defaultWidthX=u.defaultWidthX,a._nominalWidthX=u.nominalWidthX,u.subrs!==0){var h=c+u.subrs,d=Nl(t,h+e);a._subrs=d.objects,a._subrsBias=iE(a._subrs)}a._privateDict=u}i.push(a)}return i}function DZ(t,e,n,r){var i,s,o=new Dt.Parser(t,e);n-=1;var a=[".notdef"],l=o.parseCard8();if(l===0)for(var c=0;c<n;c+=1)i=o.parseSID(),a.push(n0(r,i));else if(l===1)for(;a.length<=n;){i=o.parseSID(),s=o.parseCard8();for(var u=0;u<=s;u+=1)a.push(n0(r,i)),i+=1}else if(l===2)for(;a.length<=n;){i=o.parseSID(),s=o.parseCard16();for(var h=0;h<=s;h+=1)a.push(n0(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return a}function LZ(t,e,n){var r,i={},s=new Dt.Parser(t,e),o=s.parseCard8();if(o===0)for(var a=s.parseCard8(),l=0;l<a;l+=1)r=s.parseCard8(),i[r]=l;else if(o===1){var c=s.parseCard8();r=1;for(var u=0;u<c;u+=1)for(var h=s.parseCard8(),d=s.parseCard8(),m=h;m<=h+d;m+=1)i[m]=r,r+=1}else throw new Error("Unknown encoding format "+o);return new K1(i,n)}function lT(t,e,n){var r,i,s,o,a=new wr,l=[],c=0,u=!1,h=!1,d=0,m=0,A,x,E,g;if(t.isCIDFont){var y=t.tables.cff.topDict._fdSelect[e.index],v=t.tables.cff.topDict._fdArray[y];A=v._subrs,x=v._subrsBias,E=v._defaultWidthX,g=v._nominalWidthX}else A=t.tables.cff.topDict._subrs,x=t.tables.cff.topDict._subrsBias,E=t.tables.cff.topDict._defaultWidthX,g=t.tables.cff.topDict._nominalWidthX;var S=E;function w(P,b){h&&a.closePath(),a.moveTo(P,b),h=!0}function T(){var P;P=l.length%2!==0,P&&!u&&(S=l.shift()+g),c+=l.length>>1,l.length=0,u=!0}function M(P){for(var b,B,L,H,U,V,W,q,Y,k,K,$,G=0;G<P.length;){var X=P[G];switch(G+=1,X){case 1:T();break;case 3:T();break;case 4:l.length>1&&!u&&(S=l.shift()+g,u=!0),m+=l.pop(),w(d,m);break;case 5:for(;l.length>0;)d+=l.shift(),m+=l.shift(),a.lineTo(d,m);break;case 6:for(;l.length>0&&(d+=l.shift(),a.lineTo(d,m),l.length!==0);)m+=l.shift(),a.lineTo(d,m);break;case 7:for(;l.length>0&&(m+=l.shift(),a.lineTo(d,m),l.length!==0);)d+=l.shift(),a.lineTo(d,m);break;case 8:for(;l.length>0;)r=d+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),d=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,d,m);break;case 10:U=l.pop()+x,V=A[U],V&&M(V);break;case 11:return;case 12:switch(X=P[G],G+=1,X){case 35:r=d+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),W=s+l.shift(),q=o+l.shift(),Y=W+l.shift(),k=q+l.shift(),K=Y+l.shift(),$=k+l.shift(),d=K+l.shift(),m=$+l.shift(),l.shift(),a.curveTo(r,i,s,o,W,q),a.curveTo(Y,k,K,$,d,m);break;case 34:r=d+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),W=s+l.shift(),q=o,Y=W+l.shift(),k=o,K=Y+l.shift(),$=m,d=K+l.shift(),a.curveTo(r,i,s,o,W,q),a.curveTo(Y,k,K,$,d,m);break;case 36:r=d+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),W=s+l.shift(),q=o,Y=W+l.shift(),k=o,K=Y+l.shift(),$=k+l.shift(),d=K+l.shift(),a.curveTo(r,i,s,o,W,q),a.curveTo(Y,k,K,$,d,m);break;case 37:r=d+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),W=s+l.shift(),q=o+l.shift(),Y=W+l.shift(),k=q+l.shift(),K=Y+l.shift(),$=k+l.shift(),Math.abs(K-d)>Math.abs($-m)?d=K+l.shift():m=$+l.shift(),a.curveTo(r,i,s,o,W,q),a.curveTo(Y,k,K,$,d,m);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+X),l.length=0}break;case 14:l.length>0&&!u&&(S=l.shift()+g,u=!0),h&&(a.closePath(),h=!1);break;case 18:T();break;case 19:case 20:T(),G+=c+7>>3;break;case 21:l.length>2&&!u&&(S=l.shift()+g,u=!0),m+=l.pop(),d+=l.pop(),w(d,m);break;case 22:l.length>1&&!u&&(S=l.shift()+g,u=!0),d+=l.pop(),w(d,m);break;case 23:T();break;case 24:for(;l.length>2;)r=d+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),d=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,d,m);d+=l.shift(),m+=l.shift(),a.lineTo(d,m);break;case 25:for(;l.length>6;)d+=l.shift(),m+=l.shift(),a.lineTo(d,m);r=d+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),d=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,d,m);break;case 26:for(l.length%2&&(d+=l.shift());l.length>0;)r=d,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),d=s,m=o+l.shift(),a.curveTo(r,i,s,o,d,m);break;case 27:for(l.length%2&&(m+=l.shift());l.length>0;)r=d+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),d=s+l.shift(),m=o,a.curveTo(r,i,s,o,d,m);break;case 28:b=P[G],B=P[G+1],l.push((b<<24|B<<16)>>16),G+=2;break;case 29:U=l.pop()+t.gsubrsBias,V=t.gsubrs[U],V&&M(V);break;case 30:for(;l.length>0&&(r=d,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),d=s+l.shift(),m=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,d,m),l.length!==0);)r=d+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),m=o+l.shift(),d=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,d,m);break;case 31:for(;l.length>0&&(r=d+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),m=o+l.shift(),d=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,d,m),l.length!==0);)r=d,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),d=s+l.shift(),m=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,d,m);break;default:X<32?console.log("Glyph "+e.index+": unknown operator "+X):X<247?l.push(X-139):X<251?(b=P[G],G+=1,l.push((X-247)*256+b+108)):X<255?(b=P[G],G+=1,l.push(-(X-251)*256-b-108)):(b=P[G],B=P[G+1],L=P[G+2],H=P[G+3],G+=4,l.push((b<<24|B<<16|L<<8|H)/65536))}}}return M(n),e.advanceWidth=S,a}function FZ(t,e,n,r){var i=[],s,o=new Dt.Parser(t,e),a=o.parseCard8();if(a===0)for(var l=0;l<n;l++){if(s=o.parseCard8(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");i.push(s)}else if(a===3){var c=o.parseCard16(),u=o.parseCard16();if(u!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+u);for(var h,d=0;d<c;d++){if(s=o.parseCard8(),h=o.parseCard16(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");if(h>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+h);for(;u<h;u++)i.push(s);u=h}if(h!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+h)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return i}function OZ(t,e,n,r){n.tables.cff={};var i=RZ(t,e),s=Nl(t,i.endOffset,Dt.bytesToString),o=Nl(t,s.endOffset),a=Nl(t,o.endOffset,Dt.bytesToString),l=Nl(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=iE(n.gsubrs);var c=aT(t,e,o.objects,a.objects);if(c.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var u=c[0];if(n.tables.cff.topDict=u,u._privateDict&&(n.defaultWidthX=u._privateDict.defaultWidthX,n.nominalWidthX=u._privateDict.nominalWidthX),u.ros[0]!==void 0&&u.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var h=u.fdArray,d=u.fdSelect;if(h===0||d===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");h+=e;var m=Nl(t,h),A=aT(t,e,m.objects,a.objects);u._fdArray=A,d+=e,u._fdSelect=FZ(t,d,n.numGlyphs,A.length)}var x=e+u.private[1],E=LF(t,x,u.private[0],a.objects);if(n.defaultWidthX=E.defaultWidthX,n.nominalWidthX=E.nominalWidthX,E.subrs!==0){var g=x+E.subrs,y=Nl(t,g);n.subrs=y.objects,n.subrsBias=iE(n.subrs)}else n.subrs=[],n.subrsBias=0;var v;r.lowMemory?(v=IZ(t,e+u.charStrings),n.nGlyphs=v.offsets.length):(v=Nl(t,e+u.charStrings),n.nGlyphs=v.objects.length);var S=DZ(t,e+u.charset,n.nGlyphs,a.objects);if(u.encoding===0?n.cffEncoding=new K1(yZ,S):u.encoding===1?n.cffEncoding=new K1(EZ,S):n.cffEncoding=LZ(t,e+u.encoding,S),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new ea.GlyphSet(n),r.lowMemory)n._push=function(M){var P=TZ(M,v.offsets,t,e+u.charStrings);n.glyphs.push(M,ea.cffGlyphLoader(n,M,lT,P))};else for(var w=0;w<n.nGlyphs;w+=1){var T=v.objects[w];n.glyphs.push(w,ea.cffGlyphLoader(n,w,lT,T))}}function FF(t,e){var n,r=t1.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+t1.length:(n=t1.length+e.length,e.push(t)),n}function NZ(){return new nt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function kZ(t){var e=new nt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function OF(t,e,n){for(var r={},i=0;i<t.length;i+=1){var s=t[i],o=e[s.name];o!==void 0&&!bF(o,s.value)&&(s.type==="SID"&&(o=FF(o,n)),r[s.op]={name:s.name,type:s.type,value:o})}return r}function cT(t,e){var n=new nt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=OF(PF,t,e),n}function uT(t){var e=new nt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function UZ(t){var e=new nt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function GZ(){return new nt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function QZ(t,e){for(var n=new nt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=t[r],s=FF(i,e);n.fields.push({name:"glyph_"+r,type:"SID",value:s})}return n}function HZ(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,s=0;s<n.commands.length;s+=1){var o=void 0,a=void 0,l=n.commands[s];if(l.type==="Q"){var c=.3333333333333333,u=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(c*r+u*l.x1),y1:Math.round(c*i+u*l.y1),x2:Math.round(c*l.x+u*l.x1),y2:Math.round(c*l.y+u*l.y1)}}if(l.type==="M")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var h=Math.round(l.x1-r),d=Math.round(l.y1-i),m=Math.round(l.x2-l.x1),A=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:h}),e.push({name:"dy1",type:"NUMBER",value:d}),e.push({name:"dx2",type:"NUMBER",value:m}),e.push({name:"dy2",type:"NUMBER",value:A}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function zZ(t){for(var e=new nt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=HZ(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function VZ(t,e){var n=new nt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=OF(DF,t,e),n}function WZ(t,e){for(var n=new nt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},o=[],a,l=1;l<t.length;l+=1)a=t.get(l),o.push(a.name);var c=[];n.header=NZ(),n.nameIndex=kZ([e.postScriptName]);var u=cT(i,c);n.topDictIndex=uT(u),n.globalSubrIndex=GZ(),n.charsets=QZ(o,c),n.charStringsIndex=zZ(t),n.privateDict=VZ(s,c),n.stringIndex=UZ(c);var h=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return i.charset=h,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),u=cT(i,c),n.topDictIndex=uT(u),n}var $Z={parse:OZ,make:WZ};function jZ(t,e){var n={},r=new Dt.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),bt.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function KZ(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new nt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var JZ={parse:jZ,make:KZ};function XZ(t,e){var n={},r=new Dt.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function YZ(t){return new nt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var qZ={parse:XZ,make:YZ};function ZZ(t,e,n,r,i){for(var s,o,a=new Dt.Parser(t,e),l=0;l<r;l+=1){l<n&&(s=a.parseUShort(),o=a.parseShort());var c=i.get(l);c.advanceWidth=s,c.leftSideBearing=o}}function eee(t,e,n,r,i){t._hmtxTableData={};for(var s,o,a=new Dt.Parser(e,n),l=0;l<i;l+=1)l<r&&(s=a.parseUShort(),o=a.parseShort()),t._hmtxTableData[l]={advanceWidth:s,leftSideBearing:o}}function tee(t,e,n,r,i,s,o){o.lowMemory?eee(t,e,n,r,i):ZZ(e,n,r,i,s)}function nee(t){for(var e=new nt.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,s=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:s})}return e}var ree={parse:tee,make:nee};function iee(t){for(var e=new nt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+t.length*4,i=0;i<t.length;++i){var s=n.indexOf(t[i]);s<0&&(s=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+s}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function see(t,e){var n=new Dt.Parser(t,e),r=n.parseULong();bt.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),s=[],o=0;o<i;o++){for(var a="",l=e+n.parseUShort(),c=n.parseUShort(),u=l;u<l+c;++u)a+=String.fromCharCode(t.getInt8(u));s.push(a)}return s}var oee={make:iee,parse:see};function aee(t,e){var n={},r=new Dt.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function lee(t){return new nt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var cee={parse:aee,make:lee},NF=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],kF={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},uee={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},UF={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function fee(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return kF[e];case 3:return UF[e]}}var sE="utf-16",hee={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},dee={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function GF(t,e,n){switch(t){case 0:return sE;case 1:return dee[n]||hee[e];case 3:if(e===1||e===10)return sE;break}}function pee(t,e,n){for(var r={},i=new Dt.Parser(t,e),s=i.parseUShort(),o=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<o;l++){var c=i.parseUShort(),u=i.parseUShort(),h=i.parseUShort(),d=i.parseUShort(),m=NF[d]||d,A=i.parseUShort(),x=i.parseUShort(),E=fee(c,h,n),g=GF(c,u,h);if(g!==void 0&&E!==void 0){var y=void 0;if(g===sE?y=jh.UTF16(t,a+x,A):y=jh.MACSTRING(t,a+x,A,g),y){var v=r[m];v===void 0&&(v=r[m]={}),v[E]=y}}}return s===1&&i.parseUShort(),r}function D6(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function fT(t,e,n,r,i,s){return new nt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:s}])}function mee(t,e){var n=t.length,r=e.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var s=0;s<n;s++)if(e[i+s]!==t[s])continue e;return i}return-1}function hT(t,e){var n=mee(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}function gee(t,e){var n,r=[],i={},s=D6(NF);for(var o in t){var a=s[o];if(a===void 0&&(a=o),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');i[n]=t[o],r.push(n)}for(var l=D6(kF),c=D6(UF),u=[],h=[],d=0;d<r.length;d++){n=r[d];var m=i[n];for(var A in m){var x=m[A],E=1,g=l[A],y=uee[g],v=GF(E,y,g),S=Ne.MACSTRING(x,v);S===void 0&&(E=0,g=e.indexOf(A),g<0&&(g=e.length,e.push(A)),y=4,S=Ne.UTF16(x));var w=hT(S,h);u.push(fT(E,y,g,n,S.length,w));var T=c[A];if(T!==void 0){var M=Ne.UTF16(x),P=hT(M,h);u.push(fT(3,1,T,n,M.length,P))}}}u.sort(function(L,H){return L.platformID-H.platformID||L.encodingID-H.encodingID||L.languageID-H.languageID||L.nameID-H.nameID});for(var b=new nt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+u.length*12}]),B=0;B<u.length;B++)b.fields.push({name:"record_"+B,type:"RECORD",value:u[B]});return b.fields.push({name:"strings",type:"LITERAL",value:h}),b}var Aee={parse:pee,make:gee},oE=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function vee(t){for(var e=0;e<oE.length;e+=1){var n=oE[e];if(t>=n.begin&&t<n.end)return e}return-1}function yee(t,e){var n={},r=new Dt.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function Eee(t){return new nt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var dT={parse:yee,make:Eee,unicodeRanges:oE,getUnicodeRange:vee};function xee(t,e){var n={},r=new Dt.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=oT.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var s=0;s<n.numberOfGlyphs;s++)if(n.glyphNameIndex[s]>=oT.length){var o=r.parseChar();n.names.push(r.parseString(o))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=r.parseChar();break}return n}function Cee(){return new nt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var See={parse:xee,make:Cee},po=new Array(9);po[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(he.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(he.coverage),substitute:this.parseOffset16List()};bt.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};po[2]=function(){var e=this.parseUShort();return bt.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(he.coverage),sequences:this.parseListOfLists()}};po[3]=function(){var e=this.parseUShort();return bt.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(he.coverage),alternateSets:this.parseListOfLists()}};po[4]=function(){var e=this.parseUShort();return bt.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(he.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Sh={sequenceIndex:he.uShort,lookupListIndex:he.uShort};po[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(he.coverage),ruleSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Sh)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(he.coverage),classDef:this.parsePointer(he.classDef),classSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Sh)}})};if(n===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:n,coverages:this.parseList(r,he.pointer(he.coverage)),lookupRecords:this.parseRecordList(i,Sh)}}bt.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};po[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(he.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Sh)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(he.coverage),backtrackClassDef:this.parsePointer(he.classDef),inputClassDef:this.parsePointer(he.classDef),lookaheadClassDef:this.parsePointer(he.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Sh)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(he.pointer(he.coverage)),inputCoverage:this.parseList(he.pointer(he.coverage)),lookaheadCoverage:this.parseList(he.pointer(he.coverage)),lookupRecords:this.parseRecordList(Sh)};bt.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};po[7]=function(){var e=this.parseUShort();bt.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),r=new he(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:po[n].call(r)}};po[8]=function(){var e=this.parseUShort();return bt.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(he.coverage),backtrackCoverage:this.parseList(he.pointer(he.coverage)),lookaheadCoverage:this.parseList(he.pointer(he.coverage)),substitutes:this.parseUShortList()}};function _ee(t,e){e=e||0;var n=new he(t,e),r=n.parseVersion(1);return bt.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(po)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(po),variations:n.parseFeatureVariationsList()}}var md=new Array(9);md[1]=function(e){return e.substFormat===1?new nt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new nt.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new nt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new nt.Coverage(e.coverage)}].concat(nt.ushortList("substitute",e.substitute)))};md[2]=function(e){return bt.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new nt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new nt.Coverage(e.coverage)}].concat(nt.tableList("seqSet",e.sequences,function(n){return new nt.Table("sequenceSetTable",nt.ushortList("sequence",n))})))};md[3]=function(e){return bt.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new nt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new nt.Coverage(e.coverage)}].concat(nt.tableList("altSet",e.alternateSets,function(n){return new nt.Table("alternateSetTable",nt.ushortList("alternate",n))})))};md[4]=function(e){return bt.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new nt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new nt.Coverage(e.coverage)}].concat(nt.tableList("ligSet",e.ligatureSets,function(n){return new nt.Table("ligatureSetTable",nt.tableList("ligature",n,function(r){return new nt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat(nt.ushortList("component",r.components,r.components.length+1)))}))})))};md[6]=function(e){if(e.substFormat===1){var n=new nt.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new nt.Coverage(e.coverage)}].concat(nt.tableList("chainRuleSet",e.chainRuleSets,function(s){return new nt.Table("chainRuleSetTable",nt.tableList("chainRule",s,function(o){var a=nt.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat(nt.ushortList("inputGlyph",o.input,o.input.length+1)).concat(nt.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat(nt.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(l,c){a=a.concat({name:"sequenceIndex"+c,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:l.lookupListIndex})}),new nt.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)bt.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(s,o){r.push({name:"backtrackCoverage"+o,type:"TABLE",value:new nt.Coverage(s)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(s,o){r.push({name:"inputCoverage"+o,type:"TABLE",value:new nt.Coverage(s)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(s,o){r.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new nt.Coverage(s)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(s,o){r=r.concat({name:"sequenceIndex"+o,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:s.lookupListIndex})});var i=new nt.Table("chainContextTable",r);return i}bt.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function wee(t){return new nt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new nt.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new nt.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new nt.LookupList(t.lookups,md)}])}var Iee={parse:_ee,make:wee};function Tee(t,e){var n=new Dt.Parser(t,e),r=n.parseULong();bt.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),s={},o=0;o<i;o++){var a=n.parseTag(),l=n.parseULong(),c=n.parseULong(),u=jh.UTF8(t,e+l,c);s[a]=u}return s}function Mee(t){var e=Object.keys(t).length,n="",r=16+e*12,i=new nt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var s in t){var o=n.length;n+=t[s],i.fields.push({name:"tag "+s,type:"TAG",value:s}),i.fields.push({name:"offset "+s,type:"ULONG",value:r+o}),i.fields.push({name:"length "+s,type:"ULONG",value:t[s].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}var bee={parse:Tee,make:Mee};function pT(t){return Math.log(t)/Math.log(2)|0}function n7(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function mT(t,e,n,r){return new nt.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function QF(t){var e=new nt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,pT(e.numTables));e.searchRange=16*n,e.entrySelector=pT(n),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],s=e.sizeOf()+mT().sizeOf()*e.numTables;s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<t.length;o+=1){var a=t[o];bt.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),c=mT(a.tableName,n7(a.encode()),s,l);for(r.push({name:c.tag+" Table Record",type:"RECORD",value:c}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,bt.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(u,h){return u.value.tag>h.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function gT(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0){var s=t.glyphs.get(i);return s.getMetrics()}}return n}function Bee(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function Ree(t){for(var e=[],n=[],r=[],i=[],s=[],o=[],a=[],l,c=0,u=0,h=0,d=0,m=0,A=0;A<t.glyphs.length;A+=1){var x=t.glyphs.get(A),E=x.unicode|0;if(isNaN(x.advanceWidth))throw new Error("Glyph "+x.name+" ("+A+"): advanceWidth is not a number.");(l>E||l===void 0)&&E>0&&(l=E),c<E&&(c=E);var g=dT.getUnicodeRange(E);if(g<32)u|=1<<g;else if(g<64)h|=1<<g-32;else if(g<96)d|=1<<g-64;else if(g<123)m|=1<<g-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(x.name!==".notdef"){var y=x.getMetrics();e.push(y.xMin),n.push(y.yMin),r.push(y.xMax),i.push(y.yMax),o.push(y.leftSideBearing),a.push(y.rightSideBearing),s.push(x.advanceWidth)}}var v={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:Bee(s),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};v.ascender=t.ascender,v.descender=t.descender;var S=JZ.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:v.xMin,yMin:v.yMin,xMax:v.xMax,yMax:v.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),w=qZ.make({ascender:v.ascender,descender:v.descender,advanceWidthMax:v.advanceWidthMax,minLeftSideBearing:v.minLeftSideBearing,minRightSideBearing:v.minRightSideBearing,xMaxExtent:v.maxLeftSideBearing+(v.xMax-v.xMin),numberOfHMetrics:t.glyphs.length}),T=cee.make(t.glyphs.length),M=dT.make(Object.assign({xAvgCharWidth:Math.round(v.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:c,ulUnicodeRange1:u,ulUnicodeRange2:h,ulUnicodeRange3:d,ulUnicodeRange4:m,sTypoAscender:v.ascender,sTypoDescender:v.descender,sTypoLineGap:0,usWinAscent:v.yMax,usWinDescent:Math.abs(v.yMin),ulCodePageRange1:1,sxHeight:gT(t,"xyvw",{yMax:Math.round(v.ascender/2)}).yMax,sCapHeight:gT(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",v).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),P=ree.make(t.glyphs),b=vZ.make(t.glyphs),B=t.getEnglishName("fontFamily"),L=t.getEnglishName("fontSubfamily"),H=B+" "+L,U=t.getEnglishName("postScriptName");U||(U=B.replace(/\s/g,"")+"-"+L);var V={};for(var W in t.names)V[W]=t.names[W];V.uniqueID||(V.uniqueID={en:t.getEnglishName("manufacturer")+":"+H}),V.postScriptName||(V.postScriptName={en:U}),V.preferredFamily||(V.preferredFamily=t.names.fontFamily),V.preferredSubfamily||(V.preferredSubfamily=t.names.fontSubfamily);var q=[],Y=Aee.make(V,q),k=q.length>0?oee.make(q):void 0,K=See.make(),$=$Z.make(t.glyphs,{version:t.getEnglishName("version"),fullName:H,familyName:B,weightName:L,postScriptName:U,unitsPerEm:t.unitsPerEm,fontBBox:[0,v.yMin,v.ascender,v.advanceWidthMax]}),G=t.metas&&Object.keys(t.metas).length>0?bee.make(t.metas):void 0,X=[S,w,T,M,Y,b,K,$,P];k&&X.push(k),t.tables.gsub&&X.push(Iee.make(t.tables.gsub)),G&&X.push(G);for(var le=QF(X),pe=le.encode(),ye=n7(pe),Se=le.fields,we=!1,Me=0;Me<Se.length;Me+=1)if(Se[Me].name==="head table"){Se[Me].value.checkSumAdjustment=2981146554-ye,we=!0;break}if(!we)throw new Error("Could not find head table with checkSum to adjust.");return le}var Pee={make:QF,fontToTable:Ree,computeCheckSum:n7};function L6(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,s=t[i].tag;if(s===e)return i;s<e?n=i+1:r=i-1}return-n-1}function AT(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,s=t[i];if(s===e)return i;s<e?n=i+1:r=i-1}return-n-1}function vT(t,e){for(var n,r=0,i=t.length-1;r<=i;){var s=r+i>>>1;n=t[s];var o=n.start;if(o===e)return n;o<e?r=s+1:i=s-1}if(r>0)return n=t[r-1],e>n.end?0:n}function O3(t,e){this.font=t,this.tableName=e}O3.prototype={searchTag:L6,binSearch:AT,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,i=L6(n.scripts,t);if(i>=0)return r[i].script;if(e){var s={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,s),s.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=L6(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(n){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,s),s.langSys}}},getFeatureTable:function(t,e,n,r){var i=this.getLangSysTable(t,e,r);if(i){for(var s,o=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if(s=a[o[l]],s.tag===n)return s.feature;if(r){var c=a.length;return bt.assert(c===0||n>=a[c-1].tag,"Features must be added in alphabetical order."),s={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(c),s.feature}}},getLookupTables:function(t,e,n,r,i){var s=this.getFeatureTable(t,e,n,i),o=[];if(s){for(var a,l=s.lookupListIndexes,c=this.font.tables[this.tableName].lookups,u=0;u<l.length;u++)a=c[l[u]],a.lookupType===r&&o.push(a);if(o.length===0&&i){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var h=c.length;return c.push(a),l.push(h),[a]}}return o},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=vT(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=AT(t.glyphs,e);return n>=0?n:-1;case 2:var r=vT(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var i=n[r],s=i.start,o=i.end,a=s;a<=o;a++)e.push(a);return e}};function N3(t){O3.call(this,t,"gpos")}N3.prototype=O3.prototype;N3.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};N3.prototype.getKerningValue=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r].subtables,s=0;s<i.length;s++){var o=i[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],c=0;c<l.length;c++){var u=l[c];if(u.secondGlyph===n)return u.value1&&u.value1.xAdvance||0}break;case 2:var h=this.getGlyphClass(o.classDef1,e),d=this.getGlyphClass(o.classDef2,n),m=o.classRecords[h][d];return m.value1&&m.value1.xAdvance||0}}return 0};N3.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function as(t){O3.call(this,t,"gsub")}function Dee(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function r7(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var s=r[i];if(s.substFormat===e)return s}if(n)return r.push(n),n}as.prototype=O3.prototype;as.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};as.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;if(l.substFormat===1){var h=l.deltaGlyphId;for(u=0;u<c.length;u++){var d=c[u];r.push({sub:d,by:d+h})}}else{var m=l.substitute;for(u=0;u<c.length;u++)r.push({sub:c[u],by:m[u]})}}return r};as.prototype.getMultiple=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,2),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;for(u=0;u<c.length;u++){var h=c[u],d=l.sequences[u];r.push({sub:h,by:d})}}return r};as.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.alternateSets,h=0;h<c.length;h++)r.push({sub:c[h],by:u[h]});return r};as.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.ligatureSets,h=0;h<c.length;h++)for(var d=c[h],m=u[h],A=0;A<m.length;A++){var x=m[A];r.push({sub:[d].concat(x.components),by:x.ligGlyph})}return r};as.prototype.addSingle=function(t,e,n,r){var i=this.getLookupTables(n,r,t,1,!0)[0],s=r7(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});bt.assert(s.coverage.format===1,"Single: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.substitute.splice(a,0,0)),s.substitute[a]=e.by};as.prototype.addMultiple=function(t,e,n,r){bt.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(n,r,t,2,!0)[0],s=r7(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});bt.assert(s.coverage.format===1,"Multiple: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.sequences.splice(a,0,0)),s.sequences[a]=e.by};as.prototype.addAlternate=function(t,e,n,r){var i=this.getLookupTables(n,r,t,3,!0)[0],s=r7(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});bt.assert(s.coverage.format===1,"Alternate: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.alternateSets.splice(a,0,0)),s.alternateSets[a]=e.by};as.prototype.addLigature=function(t,e,n,r){var i=this.getLookupTables(n,r,t,4,!0)[0],s=i.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=s),bt.assert(s.coverage.format===1,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},c=this.binSearch(s.coverage.glyphs,o);if(c>=0){for(var u=s.ligatureSets[c],h=0;h<u.length;h++)if(Dee(u[h].components,a))return;u.push(l)}else c=-1-c,s.coverage.glyphs.splice(c,0,o),s.ligatureSets.splice(c,0,[l])};as.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};as.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,r):this.addLigature(t,e,n,r)}};function Lee(){return typeof window<"u"}function Fee(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];return e}function mp(t,e){if(!t)throw e}function yT(t,e,n,r,i){var s;return(e&r)>0?(s=t.parseByte(),e&i||(s=-s),s=n+s):(e&i)>0?s=n:s=n+t.parseShort(),s}function HF(t,e,n){var r=new Dt.Parser(e,n);t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort();var i,s;if(t.numberOfContours>0){for(var o=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)o.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(r.parseByte());var c=o[o.length-1]+1;i=[];for(var u=0;u<c;u+=1)if(s=r.parseByte(),i.push(s),(s&8)>0)for(var h=r.parseByte(),d=0;d<h;d+=1)i.push(s),u+=1;if(bt.argument(i.length===c,"Bad flags."),o.length>0){var m=[],A;if(c>0){for(var x=0;x<c;x+=1)s=i[x],A={},A.onCurve=!!(s&1),A.lastPointOfContour=o.indexOf(x)>=0,m.push(A);for(var E=0,g=0;g<c;g+=1)s=i[g],A=m[g],A.x=yT(r,s,E,2,16),E=A.x;for(var y=0,v=0;v<c;v+=1)s=i[v],A=m[v],A.y=yT(r,s,y,4,32),y=A.y}t.points=m}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var S=!0;S;){i=r.parseUShort();var w={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(w.dx=r.parseShort(),w.dy=r.parseShort()):w.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(w.dx=r.parseChar(),w.dy=r.parseChar()):w.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?w.xScale=w.yScale=r.parseF2Dot14():(i&64)>0?(w.xScale=r.parseF2Dot14(),w.yScale=r.parseF2Dot14()):(i&128)>0&&(w.xScale=r.parseF2Dot14(),w.scale01=r.parseF2Dot14(),w.scale10=r.parseF2Dot14(),w.yScale=r.parseF2Dot14()),t.components.push(w),S=!!(i&32)}if(i&256){t.instructionLength=r.parseUShort(),t.instructions=[];for(var T=0;T<t.instructionLength;T+=1)t.instructions.push(r.parseByte())}}}function F6(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],s={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(s)}return n}function Oee(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return bt.argument(n.length===0,"There are still points left in the current contour."),e}function zF(t){var e=new wr;if(!t)return e;for(var n=Oee(t),r=0;r<n.length;++r){var i=n[r],s=null,o=i[i.length-1],a=i[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var c=0;c<i.length;++c)if(s=o,o=a,a=i[(c+1)%i.length],o.onCurve)e.lineTo(o.x,o.y);else{var u=a;s.onCurve||((o.x+s.x)*.5,(o.y+s.y)*.5),a.onCurve||(u={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,u.x,u.y)}e.closePath()}return e}function VF(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var s=void 0;if(r.matchedPoints===void 0)s=F6(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[r.matchedPoints[0]],a=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=F6([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=F6(i.points,l)}e.points=e.points.concat(s)}}return zF(e.points)}function Nee(t,e,n,r){for(var i=new ea.GlyphSet(r),s=0;s<n.length-1;s+=1){var o=n[s],a=n[s+1];o!==a?i.push(s,ea.ttfGlyphLoader(r,s,HF,t,e+o,VF)):i.push(s,ea.glyphLoader(r,s))}return i}function kee(t,e,n,r){var i=new ea.GlyphSet(r);return r._push=function(s){var o=n[s],a=n[s+1];o!==a?i.push(s,ea.ttfGlyphLoader(r,s,HF,t,e+o,VF)):i.push(s,ea.glyphLoader(r,s))},i}function Uee(t,e,n,r,i){return i.lowMemory?kee(t,e,n,r):Nee(t,e,n,r)}var Gee={getPath:zF,parse:Uee},WF,Ou,$F,aE;function jF(t){this.font=t,this.getCommands=function(e){return Gee.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Qee(t){return t}function KF(t){return Math.sign(t)*Math.round(Math.abs(t))}function Hee(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function zee(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function Vee(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function Wee(t){return Math.sign(t)*Math.floor(Math.abs(t))}var JF=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,i=1;return t<0&&(t=-t,i=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*i:t*i},jo={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var i,s,o,a,l,c,u;if(!r||r===this){if(i=t.xo-e.xo,s=t.xo-n.xo,l=e.x-e.xo,c=n.x-n.xo,o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){t.x=t.xo+(l+c)/2;return}t.x=t.xo+(l*a+c*o)/u;return}if(i=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){jo.setRelative(t,t,(l+c)/2,r,!0);return}jo.setRelative(t,t,(l*a+c*o)/u,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,i){if(!r||r===this){t.x=(i?e.xo:e.x)+n;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y;t.x=a+(t.y-l)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},Ga={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var i,s,o,a,l,c,u;if(!r||r===this){if(i=t.yo-e.yo,s=t.yo-n.yo,l=e.y-e.yo,c=n.y-n.yo,o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){t.y=t.yo+(l+c)/2;return}t.y=t.yo+(l*a+c*o)/u;return}if(i=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){Ga.setRelative(t,t,(l+c)/2,r,!0);return}Ga.setRelative(t,t,(l*a+c*o)/u,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,i){if(!r||r===this){t.y=(i?e.yo:e.y)+n;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y;t.y=l+r.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(jo);Object.freeze(Ga);function k3(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}k3.prototype.distance=function(t,e,n,r){return this.x*jo.distance(t,e,n,r)+this.y*Ga.distance(t,e,n,r)};k3.prototype.interpolate=function(t,e,n,r){var i,s,o,a,l,c,u;if(o=r.distance(t,e,!0,!0),a=r.distance(t,n,!0,!0),i=r.distance(e,e,!1,!0),s=r.distance(n,n,!1,!0),l=Math.abs(o),c=Math.abs(a),u=l+c,u===0){this.setRelative(t,t,(i+s)/2,r,!0);return}this.setRelative(t,t,(i*c+s*l)/u,r,!0)};k3.prototype.setRelative=function(t,e,n,r,i){r=r||this;var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y,c=r.normalSlope,u=this.slope,h=t.x,d=t.y;t.x=(u*h-c*a+l-d)/(u-c),t.y=u*(t.x-h)+d};k3.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function U3(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?jo:t===0&&e===1?Ga:new k3(t,e)}function za(t,e,n,r){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}za.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};za.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var q0=Object.freeze(new za(0,0)),$ee={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function $l(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=jo,this.round=KF}}jF.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){$l.prototype=$ee,i=this._fpgmState=new $l("fpgm",n.tables.fpgm),i.funcs=[],i.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{Ou(i)}catch(c){console.log("Hinting error in FPGM:"+c),this._errorState=3;return}}$l.prototype=i,r=this._prepState=new $l("prep",n.tables.prep),r.ppem=e;var s=n.tables.cvt;if(s)for(var o=r.cvt=new Array(s.length),a=e/n.unitsPerEm,l=0;l<s.length;l++)o[l]=s[l]*a;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{Ou(r)}catch(c){this._errorState<2&&console.log("Hinting error in PREP:"+c),this._errorState=2}}if(!(this._errorState>1))try{return $F(t,r)}catch(c){this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};$F=function(t,e){var n=e.ppem/e.font.unitsPerEm,r=n,i=t.components,s,o,a;if($l.prototype=e,!i)a=new $l("glyf",t.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),aE(t,a,n,r),o=a.gZone;else{var l=e.font;o=[],s=[];for(var c=0;c<i.length;c++){var u=i[c],h=l.glyphs.get(u.glyphIndex);a=new $l("glyf",h.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+c+"---"),a.step=-1),aE(h,a,n,r);for(var d=Math.round(u.dx*n),m=Math.round(u.dy*r),A=a.gZone,x=a.contours,E=0;E<A.length;E++){var g=A[E];g.xTouched=g.yTouched=!1,g.xo=g.x=g.x+d,g.yo=g.y=g.y+m}var y=o.length;o.push.apply(o,A);for(var v=0;v<x.length;v++)s.push(x[v]+y)}t.instructions&&!a.inhibitGridFit&&(a=new $l("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=s,o.push(new za(0,0),new za(Math.round(t.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),Ou(a),o.length-=2)}return o};aE=function(t,e,n,r){for(var i=t.points||[],s=i.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,c=0;c<s;c++)l=i[c],o[c]=new za(l.x*n,l.y*r,l.lastPointOfContour,l.onCurve);for(var u,h,d=0;d<s;d++)l=o[d],u||(u=l,a.push(d)),l.lastPointOfContour?(l.nextPointOnContour=u,u.prevPointOnContour=l,u=void 0):(h=o[d+1],l.nextPointOnContour=h,h.prevPointOnContour=l);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var m=0;m<s;m++)console.log(m,o[m].x,o[m].y)}if(o.push(new za(0,0),new za(Math.round(t.advanceWidth*n),0)),Ou(e),o.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var A=0;A<s;A++)console.log(A,o[A].x,o[A].y)}}};Ou=function(t){var e=t.prog;if(e){var n=e.length,r;for(t.ip=0;t.ip<n;t.ip++){if(exports.DEBUG&&t.step++,r=WF[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}}};function Tv(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new za(0,0)}function XF(t,e){var n=t.prog,r=t.ip,i=1,s;do if(s=n[++r],s===88)i++;else if(s===89)i--;else if(s===64)r+=n[r+1]+1;else if(s===65)r+=2*n[r+1]+1;else if(s>=176&&s<=183)r+=s-176+1;else if(s>=184&&s<=191)r+=(s-184+1)*2;else if(e&&i===1&&s===27)break;while(i>0);t.ip=r}function ET(t,e){exports.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function xT(t,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function CT(t,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function ST(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log("SPVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.pv=e.dpv=U3(a,l)}function _T(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log("SFVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.fv=U3(a,l)}function jee(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=U3(r,n)}function Kee(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=U3(r,n)}function Jee(t){var e=t.stack,n=t.pv;exports.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function Xee(t){var e=t.stack,n=t.fv;exports.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function Yee(t){t.fv=t.pv,exports.DEBUG&&console.log(t.step,"SFVTPV[]")}function qee(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop(),s=e.pop(),o=e.pop(),a=t.z0,l=t.z1,c=a[n],u=a[r],h=l[i],d=l[s],m=t.z2[o];exports.DEBUG&&console.log("ISECT[], ",n,r,i,s,o);var A=c.x,x=c.y,E=u.x,g=u.y,y=h.x,v=h.y,S=d.x,w=d.y,T=(A-E)*(v-w)-(x-g)*(y-S),M=A*g-x*E,P=y*w-v*S;m.x=(M*(y-S)-P*(A-E))/T,m.y=(M*(v-w)-P*(x-g))/T}function Zee(t){t.rp0=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function ete(t){t.rp1=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function tte(t){t.rp2=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function nte(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||Tv(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function rte(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||Tv(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function ite(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||Tv(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function ste(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||Tv(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function ote(t){t.loop=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function ate(t){exports.DEBUG&&console.log(t.step,"RTG[]"),t.round=KF}function lte(t){exports.DEBUG&&console.log(t.step,"RTHG[]"),t.round=zee}function cte(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function ute(t){exports.DEBUG&&console.log(t.step,"ELSE[]"),XF(t,!1)}function fte(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function hte(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function dte(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function O6(t){exports.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function pte(t){exports.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function mte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)}function gte(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function Ate(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);var i=t.ip,s=t.prog;t.prog=t.funcs[n];for(var o=0;o<r;o++)Ou(t),exports.DEBUG&&console.log(++t.step,o+1<r?"next loopcall":"done loopcall",o);t.ip=i,t.prog=s}function vte(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,r=t.prog;t.prog=t.funcs[e],Ou(t),t.ip=n,t.prog=r,exports.DEBUG&&console.log(++t.step,"returning from",e)}function yte(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function Ete(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function xte(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,r=t.ip,i=e.pop(),s=r;for(exports.DEBUG&&console.log(t.step,"FDEF[]",i);n[++r]!==45;);t.ip=r,t.funcs[i]=n.slice(s+1,r)}function wT(t,e){var n=e.stack.pop(),r=e.z0[n],i=e.fv,s=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var o=s.distance(r,q0);t&&(o=e.round(o)),i.setRelative(r,q0,o,s),i.touch(r),e.rp0=e.rp1=n}function IT(t,e){var n=e.z2,r=n.length-2,i,s,o;exports.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<r;a++)i=n[a],!t.touched(i)&&(s=i.prevTouched(t),s!==i&&(o=i.nextTouched(t),s===o&&t.setRelative(i,i,t.distance(s,s,!1,!0),t,!0),t.interpolate(i,s,o,t)))}function TT(t,e){for(var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=e.loop,l=e.z2;a--;){var c=n.pop(),u=l[c],h=o.distance(i,i,!1,!0);s.setRelative(u,u,h,o),s.touch(u),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",c)}e.loop=1}function MT(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=n.pop(),l=e.z2[e.contours[a]],c=l;exports.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var u=o.distance(i,i,!1,!0);do c!==i&&s.setRelative(c,c,u,o),c=c.nextPointOnContour;while(c!==l)}function bT(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=n.pop();exports.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var c,u=o.distance(i,i,!1,!0),h=l.length-2,d=0;d<h;d++)c=l[d],s.setRelative(c,c,u,o)}function Cte(t){for(var e=t.stack,n=t.loop,r=t.fv,i=e.pop()/64,s=t.z2;n--;){var o=e.pop(),a=s[o];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",o,i),r.setRelative(a,a,i),r.touch(a)}t.loop=1}function Ste(t){for(var e=t.stack,n=t.rp1,r=t.rp2,i=t.loop,s=t.z0[n],o=t.z1[r],a=t.fv,l=t.dpv,c=t.z2;i--;){var u=e.pop(),h=c[u];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"IP[]",u,n,"<->",r),a.interpolate(h,s,o,l),a.touch(h)}t.loop=1}function BT(t,e){var n=e.stack,r=n.pop()/64,i=n.pop(),s=e.z1[i],o=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(s,o,r,l),a.touch(s),exports.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,i),e.rp1=e.rp0,e.rp2=i,t&&(e.rp0=i)}function _te(t){for(var e=t.stack,n=t.rp0,r=t.z0[n],i=t.loop,s=t.fv,o=t.pv,a=t.z1;i--;){var l=e.pop(),c=a[l];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"ALIGNRP[]",l),s.setRelative(c,r,0,o),s.touch(c)}t.loop=1}function wte(t){exports.DEBUG&&console.log(t.step,"RTDG[]"),t.round=Hee}function RT(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z0[i],o=e.fv,a=e.pv,l=e.cvt[r];exports.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",l,")",i);var c=a.distance(s,q0);t&&(Math.abs(c-l)<e.cvCutIn&&(c=l),c=e.round(c)),o.setRelative(s,q0,c,a),e.zp0===0&&(s.xo=s.x,s.yo=s.y),o.touch(s),e.rp0=e.rp1=i}function Ite(t){var e=t.prog,n=t.ip,r=t.stack,i=e[++n];exports.DEBUG&&console.log(t.step,"NPUSHB[]",i);for(var s=0;s<i;s++)r.push(e[++n]);t.ip=n}function Tte(t){var e=t.ip,n=t.prog,r=t.stack,i=n[++e];exports.DEBUG&&console.log(t.step,"NPUSHW[]",i);for(var s=0;s<i;s++){var o=n[++e]<<8|n[++e];o&32768&&(o=-((o^65535)+1)),r.push(o)}t.ip=e}function Mte(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"WS",r,i),n[i]=r}function bte(t){var e=t.stack,n=t.store,r=e.pop();exports.DEBUG&&console.log(t.step,"RS",r);var i=n&&n[r]||0;e.push(i)}function Bte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64}function Rte(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function PT(t,e){var n=e.stack,r=n.pop(),i=e.z2[r];exports.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(e.dpv.distance(i,q0,t,!1)*64)}function DT(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z1[r],o=e.z0[i],a=e.dpv.distance(o,s,t,t);exports.DEBUG&&console.log(e.step,"MD["+t+"]",r,i,"->",a),e.stack.push(Math.round(a*64))}function Pte(t){exports.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function Dte(t){exports.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function Lte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)}function Fte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)}function Ote(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)}function Nte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)}function kte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)}function Ute(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)}function Gte(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function Qte(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function Hte(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"IF[]",e),e||(XF(t,!0),exports.DEBUG&&console.log(t.step,"EIF[]"))}function zte(t){exports.DEBUG&&console.log(t.step,"EIF[]")}function Vte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)}function Wte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)}function $te(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function N6(t,e){var n=e.stack,r=n.pop(),i=e.fv,s=e.pv,o=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,c=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(var u=0;u<r;u++){var h=n.pop(),d=n.pop(),m=a+((d&240)>>4);if(m===o){var A=(d&15)-8;A>=0&&A++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",h,"by",A*l);var x=c[h];i.setRelative(x,x,A*l,s)}}}function jte(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function Kte(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function Jte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)}function Xte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)}function Yte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(r*64/n)}function qte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)}function Zte(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function ene(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function tne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function nne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function pA(t,e){var n=e.stack,r=n.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(r/64)*64)}function rne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm}function k6(t,e){var n=e.stack,r=n.pop(),i=e.ppem,s=e.deltaBase+(t-1)*16,o=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(var a=0;a<r;a++){var l=n.pop(),c=n.pop(),u=s+((c&240)>>4);if(u===i){var h=(c&15)-8;h>=0&&h++;var d=h*o;exports.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",d),e.cvt[l]+=d}}}function ine(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=JF;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function sne(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=JF;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function one(t){exports.DEBUG&&console.log(t.step,"ROFF[]"),t.round=Qee}function ane(t){exports.DEBUG&&console.log(t.step,"RUTG[]"),t.round=Vee}function lne(t){exports.DEBUG&&console.log(t.step,"RDTG[]"),t.round=Wee}function cne(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function LT(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.dpv=U3(a,l)}function une(t){var e=t.stack,n=e.pop(),r=0;exports.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),e.push(r)}function fne(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(i)}function hne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))}function dne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))}function pne(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function mne(t){var e=t.stack.pop(),n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Rl(t,e){var n=e.stack,r=e.prog,i=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var s=0;s<t;s++)n.push(r[++i]);e.ip=i}function Pl(t,e){var n=e.ip,r=e.prog,i=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var s=0;s<t;s++){var o=r[++n]<<8|r[++n];o&32768&&(o=-((o^65535)+1)),i.push(o)}e.ip=n}function Ze(t,e,n,r,i,s){var o=s.stack,a=t&&o.pop(),l=o.pop(),c=s.rp0,u=s.z0[c],h=s.z1[l],d=s.minDis,m=s.fv,A=s.dpv,x,E,g,y;E=x=A.distance(h,u,!0,!0),g=E>=0?1:-1,E=Math.abs(E),t&&(y=s.cvt[a],r&&Math.abs(E-y)<s.cvCutIn&&(E=y)),n&&E<d&&(E=d),r&&(E=s.round(E)),m.setRelative(h,u,g*E,A),m.touch(h),exports.DEBUG&&console.log(s.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",t?a+"("+s.cvt[a]+","+y+")":"",l,"(d =",x,"->",g*E,")"),s.rp1=s.rp0,s.rp2=l,e&&(s.rp0=l)}WF=[ET.bind(void 0,Ga),ET.bind(void 0,jo),xT.bind(void 0,Ga),xT.bind(void 0,jo),CT.bind(void 0,Ga),CT.bind(void 0,jo),ST.bind(void 0,0),ST.bind(void 0,1),_T.bind(void 0,0),_T.bind(void 0,1),jee,Kee,Jee,Xee,Yee,qee,Zee,ete,tte,nte,rte,ite,ste,ote,ate,lte,cte,ute,fte,hte,void 0,void 0,dte,O6,pte,mte,gte,yte,Ete,void 0,void 0,void 0,Ate,vte,xte,void 0,wT.bind(void 0,0),wT.bind(void 0,1),IT.bind(void 0,Ga),IT.bind(void 0,jo),TT.bind(void 0,0),TT.bind(void 0,1),MT.bind(void 0,0),MT.bind(void 0,1),bT.bind(void 0,0),bT.bind(void 0,1),Cte,Ste,BT.bind(void 0,0),BT.bind(void 0,1),_te,wte,RT.bind(void 0,0),RT.bind(void 0,1),Ite,Tte,Mte,bte,Bte,Rte,PT.bind(void 0,0),PT.bind(void 0,1),void 0,DT.bind(void 0,0),DT.bind(void 0,1),Pte,void 0,Dte,void 0,void 0,Lte,Fte,Ote,Nte,kte,Ute,Gte,Qte,Hte,zte,Vte,Wte,$te,N6.bind(void 0,1),jte,Kte,Jte,Xte,Yte,qte,Zte,ene,tne,nne,pA.bind(void 0,0),pA.bind(void 0,1),pA.bind(void 0,2),pA.bind(void 0,3),void 0,void 0,void 0,void 0,rne,N6.bind(void 0,2),N6.bind(void 0,3),k6.bind(void 0,1),k6.bind(void 0,2),k6.bind(void 0,3),ine,sne,void 0,void 0,one,void 0,ane,lne,O6,O6,void 0,void 0,void 0,void 0,void 0,cne,LT.bind(void 0,0),LT.bind(void 0,1),une,void 0,fne,hne,dne,pne,mne,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Rl.bind(void 0,1),Rl.bind(void 0,2),Rl.bind(void 0,3),Rl.bind(void 0,4),Rl.bind(void 0,5),Rl.bind(void 0,6),Rl.bind(void 0,7),Rl.bind(void 0,8),Pl.bind(void 0,1),Pl.bind(void 0,2),Pl.bind(void 0,3),Pl.bind(void 0,4),Pl.bind(void 0,5),Pl.bind(void 0,6),Pl.bind(void 0,7),Pl.bind(void 0,8),Ze.bind(void 0,0,0,0,0,0),Ze.bind(void 0,0,0,0,0,1),Ze.bind(void 0,0,0,0,0,2),Ze.bind(void 0,0,0,0,0,3),Ze.bind(void 0,0,0,0,1,0),Ze.bind(void 0,0,0,0,1,1),Ze.bind(void 0,0,0,0,1,2),Ze.bind(void 0,0,0,0,1,3),Ze.bind(void 0,0,0,1,0,0),Ze.bind(void 0,0,0,1,0,1),Ze.bind(void 0,0,0,1,0,2),Ze.bind(void 0,0,0,1,0,3),Ze.bind(void 0,0,0,1,1,0),Ze.bind(void 0,0,0,1,1,1),Ze.bind(void 0,0,0,1,1,2),Ze.bind(void 0,0,0,1,1,3),Ze.bind(void 0,0,1,0,0,0),Ze.bind(void 0,0,1,0,0,1),Ze.bind(void 0,0,1,0,0,2),Ze.bind(void 0,0,1,0,0,3),Ze.bind(void 0,0,1,0,1,0),Ze.bind(void 0,0,1,0,1,1),Ze.bind(void 0,0,1,0,1,2),Ze.bind(void 0,0,1,0,1,3),Ze.bind(void 0,0,1,1,0,0),Ze.bind(void 0,0,1,1,0,1),Ze.bind(void 0,0,1,1,0,2),Ze.bind(void 0,0,1,1,0,3),Ze.bind(void 0,0,1,1,1,0),Ze.bind(void 0,0,1,1,1,1),Ze.bind(void 0,0,1,1,1,2),Ze.bind(void 0,0,1,1,1,3),Ze.bind(void 0,1,0,0,0,0),Ze.bind(void 0,1,0,0,0,1),Ze.bind(void 0,1,0,0,0,2),Ze.bind(void 0,1,0,0,0,3),Ze.bind(void 0,1,0,0,1,0),Ze.bind(void 0,1,0,0,1,1),Ze.bind(void 0,1,0,0,1,2),Ze.bind(void 0,1,0,0,1,3),Ze.bind(void 0,1,0,1,0,0),Ze.bind(void 0,1,0,1,0,1),Ze.bind(void 0,1,0,1,0,2),Ze.bind(void 0,1,0,1,0,3),Ze.bind(void 0,1,0,1,1,0),Ze.bind(void 0,1,0,1,1,1),Ze.bind(void 0,1,0,1,1,2),Ze.bind(void 0,1,0,1,1,3),Ze.bind(void 0,1,1,0,0,0),Ze.bind(void 0,1,1,0,0,1),Ze.bind(void 0,1,1,0,0,2),Ze.bind(void 0,1,1,0,0,3),Ze.bind(void 0,1,1,0,1,0),Ze.bind(void 0,1,1,0,1,1),Ze.bind(void 0,1,1,0,1,2),Ze.bind(void 0,1,1,0,1,3),Ze.bind(void 0,1,1,1,0,0),Ze.bind(void 0,1,1,1,0,1),Ze.bind(void 0,1,1,1,0,2),Ze.bind(void 0,1,1,1,0,3),Ze.bind(void 0,1,1,1,1,0),Ze.bind(void 0,1,1,1,1,1),Ze.bind(void 0,1,1,1,1,2),Ze.bind(void 0,1,1,1,1,3)];function gd(t){this.char=t,this.state={},this.activeState=null}function i7(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function gne(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function mo(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function Mv(t){this.eventId=t,this.subscribers=[]}function Ane(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(i){Object.defineProperty(e.events,i,{value:new Mv(i)})}),t&&n.forEach(function(i){var s=t[i];typeof s=="function"&&e.events[i].subscribe(s)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function er(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],Ane.call(this,t)}gd.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};gd.prototype.getState=function(t){return this.state[t]||null};er.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};er.prototype.composeRUD=function(t){var e=this,n=!0,r=t.map(function(s){return e[s[0]].apply(e,s.slice(1).concat(n))}),i=function(s){return typeof s=="object"&&s.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(s){return!i(s)})])};er.prototype.replaceRange=function(t,e,n,r){e=e!==null?e:this.tokens.length;var i=n.every(function(o){return o instanceof gd});if(!isNaN(t)&&this.inboundIndex(t)&&i){var s=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[s,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};er.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof gd){var r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};er.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r};er.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};er.prototype.insertToken=function(t,e,n){var r=t.every(function(i){return i instanceof gd});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};er.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(r,i){var s=[r,i],o=e===null||e.apply(this,s)===!0,a=[r,i];if(o){var l=n.apply(this,a);r.setState(t,l)}}),this.registeredModifiers.push(t)};Mv.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};Mv.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};mo.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};mo.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};er.prototype.rangeToText=function(t){if(t instanceof i7)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};er.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};er.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};er.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};er.prototype.dispatch=function(t,e){var n=this,r=this.events[t];r instanceof Mv&&r.subscribers.forEach(function(i){i.apply(n,e||[])})};er.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new gne(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r};er.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};er.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};er.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};er.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(r){return r.char}),e=0;e<t.length;e++){var n=new mo(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};er.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,r=new i7(n,t,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};er.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(r){var i=r.contextName,s=e.getContext(i).openRange;if(!s&&r.checkStart(t)&&(s=new i7(n,null,i),e.getContext(i).openRange=s,e.dispatch("contextStart",[i,n])),s&&r.checkEnd(t)){var o=n-s.startIndex+1,a=e.setEndOffset(o,i);e.dispatch("contextEnd",[i,a])}})};er.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var r=e[n],i=new mo(e,n);this.dispatch("next",[i]),this.runContextCheck(i);var s=new gd(r);this.tokens.push(s),this.dispatch("newToken",[s,i])}return this.dispatch("end",[this.tokens]),this.tokens};function oc(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function YF(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function mc(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function n1(t){return/[A-z]/.test(t)}function vne(t){return/\s/.test(t)}function ls(t){this.font=t,this.features={}}function cu(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function G3(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,r=0;r<n.length;r++){var i=n[r];if(t>=i.start&&t<=i.end){var s=t-i.start;return i.index+s}}break;default:return-1}return-1}function yne(t,e){var n=G3(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function Ene(t,e){var n=G3(t,e.coverage);return n===-1?null:e.substitute[n]}function U6(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],s=e.current;s=Array.isArray(s)?s[0]:s;var o=G3(s,i);o!==-1&&n.push(o)}return n.length!==t.length?-1:n}function xne(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var r=U6(e.inputCoverage,t);if(r===-1)return[];var i=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var s=t.lookahead.slice(i);s.length&&mc(s[0].char);)s.shift();var o=new mo(s,0),a=U6(e.lookaheadCoverage,o),l=[].concat(t.backtrack);for(l.reverse();l.length&&mc(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var c=new mo(l,0),u=U6(e.backtrackCoverage,c),h=r.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&u.length===e.backtrackCoverage.length,d=[];if(h)for(var m=0;m<e.lookupRecords.length;m++)for(var A=e.lookupRecords[m],x=A.lookupListIndex,E=this.getLookupByIndex(x),g=0;g<E.subtables.length;g++){var y=E.subtables[g],v=this.getLookupMethod(E,y),S=this.getSubstitutionType(E,y);if(S==="12")for(var w=0;w<r.length;w++){var T=t.get(w),M=v(T);M&&d.push(M)}}return d}function Cne(t,e){var n=t.current,r=G3(n,e.coverage);if(r===-1)return null;for(var i,s=e.ligatureSets[r],o=0;o<s.length;o++){i=s[o];for(var a=0;a<i.components.length;a++){var l=t.lookahead[a],c=i.components[a];if(l!==c)break;if(a===i.components.length-1)return i}}return null}function Sne(t,e){var n=G3(t,e.coverage);return n===-1?null:e.sequences[n]}ls.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};ls.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var i=n[r];if(i.tag===t&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var s=i.langSysRecords;if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};ls.prototype.mapTagsToFeatures=function(t,e){for(var n={},r=0;r<t.length;r++){var i=t[r].tag,s=t[r].feature;n[i]=s}this.features[e].tags=n};ls.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var r=this.font.tables.gsub;return e=n.map(function(i){return r.features[i]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};ls.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),r=e.substFormat.toString();return n+r};ls.prototype.getLookupMethod=function(t,e){var n=this,r=this.getSubstitutionType(t,e);switch(r){case"11":return function(i){return yne.apply(n,[i,e])};case"12":return function(i){return Ene.apply(n,[i,e])};case"63":return function(i){return xne.apply(n,[i,e])};case"41":return function(i){return Cne.apply(n,[i,e])};case"21":return function(i){return Sne.apply(n,[i,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};ls.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var i=this.getFeatureLookups(r),s=[].concat(e.context),o=0;o<i.length;o++)for(var a=i[o],l=this.getLookupSubtables(a),c=0;c<l.length;c++){var u=l[c],h=this.getSubstitutionType(a,u),d=this.getLookupMethod(a,u),m=void 0;switch(h){case"11":m=d(e.current),m&&s.splice(n,1,new cu({id:11,tag:t.tag,substitution:m}));break;case"12":m=d(e.current),m&&s.splice(n,1,new cu({id:12,tag:t.tag,substitution:m}));break;case"63":m=d(e),Array.isArray(m)&&m.length&&s.splice(n,1,new cu({id:63,tag:t.tag,substitution:m}));break;case"41":m=d(e),m&&s.splice(n,1,new cu({id:41,tag:t.tag,substitution:m}));break;case"21":m=d(e.current),m&&s.splice(n,1,new cu({id:21,tag:t.tag,substitution:m}));break}e=new mo(s,n),!(Array.isArray(m)&&!m.length)&&(m=null)}return s.length?s:null};ls.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(r){return r.tag===t.tag});return e&&n};ls.prototype.getLookupSubtables=function(t){return t.subtables||null};ls.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};ls.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};ls.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function _ne(t){var e=t.current,n=t.get(-1);return n===null&&oc(e)||!oc(n)&&oc(e)}function wne(t){var e=t.get(1);return e===null||!oc(e)}var Ine={startCheck:_ne,endCheck:wne};function Tne(t){var e=t.current,n=t.get(-1);return(oc(e)||mc(e))&&!oc(n)}function Mne(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!oc(e)&&!mc(e)):var n=vne(e);if(!n)return!0;if(n){var r=!1;if(r=t.lookahead.some(function(i){return oc(i)||mc(i)}),!r)return!0}break;default:return!1}}var bne={startCheck:Tne,endCheck:Mne};function Bne(t,e,n){e[n].setState(t.tag,t.substitution)}function Rne(t,e,n){e[n].setState(t.tag,t.substitution)}function Pne(t,e,n){t.substitution.forEach(function(r,i){var s=e[n+i];s.setState(t.tag,r)})}function Dne(t,e,n){var r=e[n];r.setState(t.tag,t.substitution.ligGlyph);for(var i=t.substitution.components.length,s=0;s<i;s++)r=e[n+s+1],r.setState("deleted",!0)}var FT={11:Bne,12:Rne,63:Pne,41:Dne};function s7(t,e,n){t instanceof cu&&FT[t.id]&&FT[t.id](t,e,n)}function Lne(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var r=e[n],i=YF(r),s=mc(r);if(!i&&!s)return!0;if(i)return!1}return!1}function Fne(t){if(YF(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],r=mc(n);if(!r)return!0}return!1}function One(t){var e=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(t);if(i.length!==1){var s=new mo(i.map(function(a){return a.getState("glyphIndex")}),0),o=new mo(i.map(function(a){return a.char}),0);i.forEach(function(a,l){if(!mc(a.char)){s.setCurrentIndex(l),o.setCurrentIndex(l);var c=0;Lne(o)&&(c|=1),Fne(o)&&(c|=2);var u;switch(c){case 1:u="fina";break;case 2:u="init";break;case 3:u="medi";break}if(r.indexOf(u)!==-1){var h=e.query.lookupFeature({tag:u,script:n,contextParams:s});if(h instanceof Error)return console.info(h.message);h.forEach(function(d,m){d instanceof cu&&(s7(d,i,m),s.context[m]=d.substitution)})}}})}}function OT(t,e){var n=t.map(function(r){return r.activeState.value});return new mo(n,e||0)}function Nne(t){var e=this,n="arab",r=this.tokenizer.getRangeTokens(t),i=OT(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:i});a.length&&(a.forEach(function(l){return s7(l,r,o)}),i=OT(r))})}function kne(t){var e=t.current,n=t.get(-1);return n===null&&n1(e)||!n1(n)&&n1(e)}function Une(t){var e=t.get(1);return e===null||!n1(e)}var Gne={startCheck:kne,endCheck:Une};function NT(t,e){var n=t.map(function(r){return r.activeState.value});return new mo(n,e||0)}function Qne(t){var e=this,n="latn",r=this.tokenizer.getRangeTokens(t),i=NT(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:i});a.length&&(a.forEach(function(l){return s7(l,r,o)}),i=NT(r))})}function wo(t){this.baseDir=t||"ltr",this.tokenizer=new er,this.featuresTags={}}wo.prototype.setText=function(t){this.text=t};wo.prototype.contextChecks={latinWordCheck:Gne,arabicWordCheck:Ine,arabicSentenceCheck:bne};function G6(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function Hne(){return G6.call(this,"latinWord"),G6.call(this,"arabicWord"),G6.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function zne(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var r=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}wo.prototype.registerFeatures=function(t,e){var n=this,r=e.filter(function(i){return n.query.supports({script:t,tag:i})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(r):this.featuresTags[t]=r};wo.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new ls(t));for(var n=0;n<e.length;n++){var r=e[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};wo.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function o7(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Vne(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){o7.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){One.call(t,r)})}}function Wne(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){o7.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){Nne.call(t,i)})}}}function $ne(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){o7.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){Qne.call(t,i)})}}}wo.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};wo.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(Vne.call(this),Wne.call(this)),this.checkContextReady("latinWord")&&$ne.call(this),this.checkContextReady("arabicSentence")&&zne.call(this)};wo.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),Hne.call(this),this.applyFeaturesToContexts())};wo.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};wo.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function xn(t){t=t||{},t.tables=t.tables||{},t.empty||(mp(t.familyName,"When creating a new Font object, familyName is required."),mp(t.styleName,"When creating a new Font object, styleName is required."),mp(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),mp(t.ascender,"When creating a new Font object, ascender is required."),mp(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new ea.GlyphSet(this,t.glyphs||[]),this.encoding=new MF(this),this.position=new N3(this),this.substitution=new as(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new jF(this)}})}xn.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};xn.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};xn.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};xn.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};xn.prototype.stringToGlyphs=function(t,e){var n=this,r=new wo,i=function(h){return n.charToGlyphIndex(h.char)};r.registerModifier("glyphIndex",null,i);var s=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,s);for(var o=r.getTextGlyphs(t),a=o.length,l=new Array(a),c=this.glyphs.get(0),u=0;u<a;u+=1)l[u]=this.glyphs.get(o[u])||c;return l};xn.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};xn.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};xn.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};xn.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};xn.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};xn.prototype.forEachGlyph=function(t,e,n,r,i,s){e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var o=1/this.unitsPerEm*r,a=this.stringToGlyphs(t,i),l;if(i.kerning){var c=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(c,i.language)}for(var u=0;u<a.length;u+=1){var h=a[u];if(s.call(this,h,e,n,r,i),h.advanceWidth&&(e+=h.advanceWidth*o),i.kerning&&u<a.length-1){var d=l?this.position.getKerningValue(l,h.index,a[u+1].index):this.getKerningValue(h,a[u+1]);e+=d*o}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};xn.prototype.getPath=function(t,e,n,r,i){var s=new wr;return this.forEachGlyph(t,e,n,r,i,function(o,a,l,c){var u=o.getPath(a,l,c,i,this);s.extend(u)}),s};xn.prototype.getPaths=function(t,e,n,r,i){var s=[];return this.forEachGlyph(t,e,n,r,i,function(o,a,l,c){var u=o.getPath(a,l,c,i,this);s.push(u)}),s};xn.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};xn.prototype.draw=function(t,e,n,r,i,s){this.getPath(e,n,r,i,s).draw(t)};xn.prototype.drawPoints=function(t,e,n,r,i,s){this.forEachGlyph(e,n,r,i,s,function(o,a,l,c){o.drawPoints(t,a,l,c)})};xn.prototype.drawMetrics=function(t,e,n,r,i,s){this.forEachGlyph(e,n,r,i,s,function(o,a,l,c){o.drawMetrics(t,a,l,c)})};xn.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};xn.prototype.validate=function(){var t=this;function e(r,i){}function n(r){var i=t.getEnglishName(r);i&&i.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};xn.prototype.toTables=function(){return Pee.fontToTable(this)};xn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};xn.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e[i];return n};xn.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(Lee())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),s=new Blob([i],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),c=Fee(r);l.writeFileSync(t,c)}};xn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};xn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};xn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var ll=new Array(10);ll[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(he.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(he.coverage),values:this.parseValueRecordList()};bt.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};ll[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();bt.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(he.coverage),i=this.parseUShort(),s=this.parseUShort();if(n===1)return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:s,pairSets:this.parseList(he.pointer(he.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}})))};if(n===2){var o=this.parsePointer(he.classDef),a=this.parsePointer(he.classDef),l=this.parseUShort(),c=this.parseUShort();return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:s,classDef1:o,classDef2:a,class1Count:l,class2Count:c,classRecords:this.parseList(l,he.list(c,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}}))}}};ll[3]=function(){return{error:"GPOS Lookup 3 not supported"}};ll[4]=function(){return{error:"GPOS Lookup 4 not supported"}};ll[5]=function(){return{error:"GPOS Lookup 5 not supported"}};ll[6]=function(){return{error:"GPOS Lookup 6 not supported"}};ll[7]=function(){return{error:"GPOS Lookup 7 not supported"}};ll[8]=function(){return{error:"GPOS Lookup 8 not supported"}};ll[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var jne=Object.defineProperty,Kne=(t,e,n)=>e in t?jne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,st=(t,e,n)=>(Kne(t,typeof e!="symbol"?e+"":e,n),n);function kT(t,e){if(e===SD)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===N1||e===u9){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===N1)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}new be;const qF=class{parse(t,e={decodeSpeed:5,encodeSpeed:5,encoderMethod:qF.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1}){if(t instanceof It&&t.isBufferGeometry)throw new Error("DRACOExporter: The first parameter of parse() is now an instance of Mesh or Points.");if(DracoEncoderModule===void 0)throw new Error("THREE.DRACOExporter: required the draco_encoder to work.");const n=t.geometry,r=DracoEncoderModule(),i=new r.Encoder;let s,o;if(!n.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.BufferGeometry instance.");if(t instanceof sn&&t.isMesh){s=new r.MeshBuilder,o=new r.Mesh;const d=n.getAttribute("position");s.AddFloatAttributeToMesh(o,r.POSITION,d.count,d.itemSize,d.array);const m=n.getIndex();if(m!==null)s.AddFacesToMesh(o,m.count/3,m.array);else{const A=new(d.count>65535?Uint32Array:Uint16Array)(d.count);for(let x=0;x<A.length;x++)A[x]=x;s.AddFacesToMesh(o,d.count,A)}if(e.exportNormals){const A=n.getAttribute("normal");A!==void 0&&s.AddFloatAttributeToMesh(o,r.NORMAL,A.count,A.itemSize,A.array)}if(e.exportUvs){const A=n.getAttribute("uv");A!==void 0&&s.AddFloatAttributeToMesh(o,r.TEX_COORD,A.count,A.itemSize,A.array)}if(e.exportColor){const A=n.getAttribute("color");A!==void 0&&s.AddFloatAttributeToMesh(o,r.COLOR,A.count,A.itemSize,A.array)}}else if(t instanceof av&&t.isPoints){s=new r.PointCloudBuilder,o=new r.PointCloud;const d=n.getAttribute("position");if(s.AddFloatAttribute(o,r.POSITION,d.count,d.itemSize,d.array),e.exportColor){const m=n.getAttribute("color");m!==void 0&&s.AddFloatAttribute(o,r.COLOR,m.count,m.itemSize,m.array)}}else throw new Error("DRACOExporter: Unsupported object type.");const a=new r.DracoInt8Array,l=e.encodeSpeed!==void 0?e.encodeSpeed:5,c=e.decodeSpeed!==void 0?e.decodeSpeed:5;if(i.SetSpeedOptions(l,c),e.encoderMethod!==void 0&&i.SetEncodingMethod(e.encoderMethod),e.quantization!==void 0)for(let d=0;d<5;d++)e.quantization[d]!==void 0&&i.SetAttributeQuantization(d,e.quantization[d]);let u;if(t instanceof sn&&t.isMesh?u=i.EncodeMeshToDracoBuffer(o,a):u=i.EncodePointCloudToDracoBuffer(o,!0,a),r.destroy(o),u===0)throw new Error("THREE.DRACOExporter: Draco encoding failed.");const h=new Int8Array(new ArrayBuffer(u));for(let d=0;d<u;d++)h[d]=a.GetValue(d);return r.destroy(a),r.destroy(i),r.destroy(s),h}};let la=qF;st(la,"MESH_EDGEBREAKER_ENCODING",1);st(la,"MESH_SEQUENTIAL_ENCODING",0);st(la,"POINT_CLOUD",0);st(la,"TRIANGULAR_MESH",1);st(la,"INVALID",-1);st(la,"POSITION",0);st(la,"NORMAL",1);st(la,"COLOR",2);st(la,"TEX_COORD",3);st(la,"GENERIC",4);const ZF=class extends sn{constructor(t,e={}){super(t),this.isReflector=!0,this.type="Reflector",this.camera=new Rn;const n=this,r=e.color!==void 0?new be(e.color):new be(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||ZF.ReflectorShader,l=e.multisample!==void 0?e.multisample:4,c=new _s,u=new O,h=new O,d=new O,m=new et,A=new O(0,0,-1),x=new Wt,E=new O,g=new O,y=new Wt,v=new et,S=this.camera,w=new hn(i,s,{samples:l,type:ir}),T=new Jt({uniforms:Nn.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});T.uniforms.tDiffuse.value=w.texture,T.uniforms.color.value=r,T.uniforms.textureMatrix.value=v,this.material=T,this.onBeforeRender=function(M,P,b){if(h.setFromMatrixPosition(n.matrixWorld),d.setFromMatrixPosition(b.matrixWorld),m.extractRotation(n.matrixWorld),u.set(0,0,1),u.applyMatrix4(m),E.subVectors(h,d),E.dot(u)>0)return;E.reflect(u).negate(),E.add(h),m.extractRotation(b.matrixWorld),A.set(0,0,-1),A.applyMatrix4(m),A.add(d),g.subVectors(h,A),g.reflect(u).negate(),g.add(h),S.position.copy(E),S.up.set(0,1,0),S.up.applyMatrix4(m),S.up.reflect(u),S.lookAt(g),S.far=b.far,S.updateMatrixWorld(),S.projectionMatrix.copy(b.projectionMatrix),v.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),v.multiply(S.projectionMatrix),v.multiply(S.matrixWorldInverse),v.multiply(n.matrixWorld),c.setFromNormalAndCoplanarPoint(u,h),c.applyMatrix4(S.matrixWorldInverse),x.set(c.normal.x,c.normal.y,c.normal.z,c.constant);const B=S.projectionMatrix;y.x=(Math.sign(x.x)+B.elements[8])/B.elements[0],y.y=(Math.sign(x.y)+B.elements[9])/B.elements[5],y.z=-1,y.w=(1+B.elements[10])/B.elements[14],x.multiplyScalar(2/x.dot(y)),B.elements[2]=x.x,B.elements[6]=x.y,B.elements[10]=x.z+1-o,B.elements[14]=x.w,n.visible=!1;const L=M.getRenderTarget(),H=M.xr.enabled,U=M.shadowMap.autoUpdate,V=M.toneMapping;let W=!1;"outputColorSpace"in M?W=M.outputColorSpace==="srgb":W=M.outputEncoding===3001,M.xr.enabled=!1,M.shadowMap.autoUpdate=!1,"outputColorSpace"in M?M.outputColorSpace="linear-srgb":M.outputEncoding=3e3,M.toneMapping=Rs,M.setRenderTarget(w),M.state.buffers.depth.setMask(!0),M.autoClear===!1&&M.clear(),M.render(P,S),M.xr.enabled=H,M.shadowMap.autoUpdate=U,M.toneMapping=V,"outputColorSpace"in M?M.outputColorSpace=W?"srgb":"srgb-linear":M.outputEncoding=W?3001:3e3,M.setRenderTarget(L);const q=b.viewport;q!==void 0&&M.state.viewport(q),n.visible=!0},this.getRenderTarget=function(){return w},this.dispose=function(){w.dispose(),n.material.dispose()}}};let lE=ZF;st(lE,"ReflectorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(sl.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const eO=class extends sn{constructor(t,e={}){super(t),this.isRefractor=!0,this.type="Refractor",this.camera=new Rn;const n=this,r=e.color!==void 0?new be(e.color):new be(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||eO.RefractorShader,l=e.multisample!==void 0?e.multisample:4,c=this.camera;c.matrixAutoUpdate=!1,c.userData.refractor=!0;const u=new _s,h=new et,d=new hn(i,s,{samples:l,type:ir});this.material=new Jt({uniforms:Nn.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,transparent:!0}),this.material.uniforms.color.value=r,this.material.uniforms.tDiffuse.value=d.texture,this.material.uniforms.textureMatrix.value=h;const m=function(){const y=new O,v=new O,S=new et,w=new O,T=new O;return function(P){return y.setFromMatrixPosition(n.matrixWorld),v.setFromMatrixPosition(P.matrixWorld),w.subVectors(y,v),S.extractRotation(n.matrixWorld),T.set(0,0,1),T.applyMatrix4(S),w.dot(T)<0}}(),A=function(){const y=new O,v=new O,S=new ur,w=new O;return function(){n.matrixWorld.decompose(v,S,w),y.set(0,0,1).applyQuaternion(S).normalize(),y.negate(),u.setFromNormalAndCoplanarPoint(y,v)}}(),x=function(){const y=new _s,v=new Wt,S=new Wt;return function(T){c.matrixWorld.copy(T.matrixWorld),c.matrixWorldInverse.copy(c.matrixWorld).invert(),c.projectionMatrix.copy(T.projectionMatrix),c.far=T.far,y.copy(u),y.applyMatrix4(c.matrixWorldInverse),v.set(y.normal.x,y.normal.y,y.normal.z,y.constant);const M=c.projectionMatrix;S.x=(Math.sign(v.x)+M.elements[8])/M.elements[0],S.y=(Math.sign(v.y)+M.elements[9])/M.elements[5],S.z=-1,S.w=(1+M.elements[10])/M.elements[14],v.multiplyScalar(2/v.dot(S)),M.elements[2]=v.x,M.elements[6]=v.y,M.elements[10]=v.z+1-o,M.elements[14]=v.w}}();function E(y){h.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),h.multiply(y.projectionMatrix),h.multiply(y.matrixWorldInverse),h.multiply(n.matrixWorld)}function g(y,v,S){n.visible=!1;const w=y.getRenderTarget(),T=y.xr.enabled,M=y.shadowMap.autoUpdate,P=y.toneMapping;let b=!1;"outputColorSpace"in y?b=y.outputColorSpace==="srgb":b=y.outputEncoding===3001,y.xr.enabled=!1,y.shadowMap.autoUpdate=!1,"outputColorSpace"in y?y.outputColorSpace="linear-srgb":y.outputEncoding=3e3,y.toneMapping=Rs,y.setRenderTarget(d),y.autoClear===!1&&y.clear(),y.render(v,c),y.xr.enabled=T,y.shadowMap.autoUpdate=M,y.toneMapping=P,y.setRenderTarget(w),"outputColorSpace"in y?y.outputColorSpace=b?"srgb":"srgb-linear":y.outputEncoding=b?3001:3e3;const B=S.viewport;B!==void 0&&y.state.viewport(B),n.visible=!0}this.onBeforeRender=function(y,v,S){S.userData.refractor!==!0&&m(S)&&(A(),E(S),x(S),g(y,v,S))},this.getRenderTarget=function(){return d},this.dispose=function(){d.dispose(),n.material.dispose()}}};let cE=eO;st(cE,"RefractorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`

		uniform mat4 textureMatrix;

		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec4 vUv;

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(sl.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const Jne=new It,uE=class extends sn{constructor(){super(uE.Geometry,new Pr({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const t=new O,e=new O,n=new Yo(new Uint8Array(16*16*3),16,16,Yn);n.minFilter=_t,n.magFilter=_t,n.wrapS=On,n.wrapT=On;const r=new Yo(new Uint8Array(16*16*3),16,16,Yn);r.minFilter=_t,r.magFilter=_t,r.wrapS=On,r.wrapT=On;const i=uE.Geometry,s=new e0({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),o=new e0({uniforms:{map:{value:n},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),a=new sn(i,s),l=[],c=tO.Shader,u=new e0({uniforms:{map:{value:null},occlusionMap:{value:r},color:{value:new be(16777215)},scale:{value:new fe},screenPosition:{value:new O}},vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:b0,transparent:!0,depthWrite:!1}),h=new sn(i,u);this.addElement=function(E){l.push(E)};const d=new fe,m=new fe,A=new bL,x=new Wt;this.onBeforeRender=function(E,g,y){E.getCurrentViewport(x);const v=x.w/x.z,S=x.z/2,w=x.w/2;let T=16/x.w;if(d.set(T*v,T),A.min.set(x.x,x.y),A.max.set(x.x+(x.z-16),x.y+(x.w-16)),e.setFromMatrixPosition(this.matrixWorld),e.applyMatrix4(y.matrixWorldInverse),!(e.z>0)&&(t.copy(e).applyMatrix4(y.projectionMatrix),m.x=x.x+t.x*S+S-8,m.y=x.y+t.y*w+w-8,A.containsPoint(m))){E.copyFramebufferToTexture(m,n);let M=s.uniforms;M.scale.value=d,M.screenPosition.value=t,E.renderBufferDirect(y,null,i,s,a,null),E.copyFramebufferToTexture(m,r),M=o.uniforms,M.scale.value=d,M.screenPosition.value=t,E.renderBufferDirect(y,null,i,o,a,null);const P=-t.x*2,b=-t.y*2;for(let B=0,L=l.length;B<L;B++){const H=l[B],U=u.uniforms;U.color.value.copy(H.color),U.map.value=H.texture,U.screenPosition.value.x=t.x+P*H.distance,U.screenPosition.value.y=t.y+b*H.distance,T=H.size/x.w;const V=x.w/x.z;U.scale.value.set(T*V,T),u.uniformsNeedUpdate=!0,E.renderBufferDirect(y,null,i,u,h,null)}}},this.dispose=function(){s.dispose(),o.dispose(),u.dispose(),n.dispose(),r.dispose();for(let E=0,g=l.length;E<g;E++)l[E].texture.dispose()}}};let Xne=uE;st(Xne,"Geometry",Jne);class tO{constructor(e,n=1,r=0,i=new be(16777215)){this.texture=e,this.size=n,this.distance=r,this.color=i}}st(tO,"Shader",{uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`});class r0{constructor(e=Math){st(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),st(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),st(this,"p",[]),st(this,"perm",[]),st(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),st(this,"dot",(n,r,i)=>n[0]*r+n[1]*i),st(this,"dot3",(n,r,i,s)=>n[0]*r+n[1]*i+n[2]*s),st(this,"dot4",(n,r,i,s,o)=>n[0]*r+n[1]*i+n[2]*s+n[3]*o),st(this,"noise",(n,r)=>{let i,s,o;const a=.5*(Math.sqrt(3)-1),l=(n+r)*a,c=Math.floor(n+l),u=Math.floor(r+l),h=(3-Math.sqrt(3))/6,d=(c+u)*h,m=c-d,A=u-d,x=n-m,E=r-A;let g=0,y=1;x>E&&(g=1,y=0);const v=x-g+h,S=E-y+h,w=x-1+2*h,T=E-1+2*h,M=c&255,P=u&255,b=this.perm[M+this.perm[P]]%12,B=this.perm[M+g+this.perm[P+y]]%12,L=this.perm[M+1+this.perm[P+1]]%12;let H=.5-x*x-E*E;H<0?i=0:(H*=H,i=H*H*this.dot(this.grad3[b],x,E));let U=.5-v*v-S*S;U<0?s=0:(U*=U,s=U*U*this.dot(this.grad3[B],v,S));let V=.5-w*w-T*T;return V<0?o=0:(V*=V,o=V*V*this.dot(this.grad3[L],w,T)),70*(i+s+o)}),st(this,"noise3d",(n,r,i)=>{let s,o,a,l;const c=.3333333333333333,u=(n+r+i)*c,h=Math.floor(n+u),d=Math.floor(r+u),m=Math.floor(i+u),A=1/6,x=(h+d+m)*A,E=h-x,g=d-x,y=m-x,v=n-E,S=r-g,w=i-y;let T,M,P,b,B,L;v>=S?S>=w?(T=1,M=0,P=0,b=1,B=1,L=0):v>=w?(T=1,M=0,P=0,b=1,B=0,L=1):(T=0,M=0,P=1,b=1,B=0,L=1):S<w?(T=0,M=0,P=1,b=0,B=1,L=1):v<w?(T=0,M=1,P=0,b=0,B=1,L=1):(T=0,M=1,P=0,b=1,B=1,L=0);const H=v-T+A,U=S-M+A,V=w-P+A,W=v-b+2*A,q=S-B+2*A,Y=w-L+2*A,k=v-1+3*A,K=S-1+3*A,$=w-1+3*A,G=h&255,X=d&255,le=m&255,pe=this.perm[G+this.perm[X+this.perm[le]]]%12,ye=this.perm[G+T+this.perm[X+M+this.perm[le+P]]]%12,Se=this.perm[G+b+this.perm[X+B+this.perm[le+L]]]%12,we=this.perm[G+1+this.perm[X+1+this.perm[le+1]]]%12;let Me=.6-v*v-S*S-w*w;Me<0?s=0:(Me*=Me,s=Me*Me*this.dot3(this.grad3[pe],v,S,w));let Ve=.6-H*H-U*U-V*V;Ve<0?o=0:(Ve*=Ve,o=Ve*Ve*this.dot3(this.grad3[ye],H,U,V));let We=.6-W*W-q*q-Y*Y;We<0?a=0:(We*=We,a=We*We*this.dot3(this.grad3[Se],W,q,Y));let xe=.6-k*k-K*K-$*$;return xe<0?l=0:(xe*=xe,l=xe*xe*this.dot3(this.grad3[we],k,K,$)),32*(s+o+a+l)}),st(this,"noise4d",(n,r,i,s)=>{const o=this.grad4,a=this.simplex,l=this.perm,c=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;let h,d,m,A,x;const E=(n+r+i+s)*c,g=Math.floor(n+E),y=Math.floor(r+E),v=Math.floor(i+E),S=Math.floor(s+E),w=(g+y+v+S)*u,T=g-w,M=y-w,P=v-w,b=S-w,B=n-T,L=r-M,H=i-P,U=s-b,V=B>L?32:0,W=B>H?16:0,q=L>H?8:0,Y=B>U?4:0,k=L>U?2:0,K=H>U?1:0,$=V+W+q+Y+k+K;let G,X,le,pe,ye,Se,we,Me,Ve,We,xe,j;G=a[$][0]>=3?1:0,X=a[$][1]>=3?1:0,le=a[$][2]>=3?1:0,pe=a[$][3]>=3?1:0,ye=a[$][0]>=2?1:0,Se=a[$][1]>=2?1:0,we=a[$][2]>=2?1:0,Me=a[$][3]>=2?1:0,Ve=a[$][0]>=1?1:0,We=a[$][1]>=1?1:0,xe=a[$][2]>=1?1:0,j=a[$][3]>=1?1:0;const Ae=B-G+u,ue=L-X+u,_e=H-le+u,Ee=U-pe+u,Qe=B-ye+2*u,Oe=L-Se+2*u,ke=H-we+2*u,qe=U-Me+2*u,xt=B-Ve+3*u,Yt=L-We+3*u,N=H-xe+3*u,F=U-j+3*u,ne=B-1+4*u,Ce=L-1+4*u,ve=H-1+4*u,Ie=U-1+4*u,ze=g&255,Te=y&255,oe=v&255,tt=S&255,it=l[ze+l[Te+l[oe+l[tt]]]]%32,ot=l[ze+G+l[Te+X+l[oe+le+l[tt+pe]]]]%32,$e=l[ze+ye+l[Te+Se+l[oe+we+l[tt+Me]]]]%32,je=l[ze+Ve+l[Te+We+l[oe+xe+l[tt+j]]]]%32,Ct=l[ze+1+l[Te+1+l[oe+1+l[tt+1]]]]%32;let Qt=.6-B*B-L*L-H*H-U*U;Qt<0?h=0:(Qt*=Qt,h=Qt*Qt*this.dot4(o[it],B,L,H,U));let Z=.6-Ae*Ae-ue*ue-_e*_e-Ee*Ee;Z<0?d=0:(Z*=Z,d=Z*Z*this.dot4(o[ot],Ae,ue,_e,Ee));let De=.6-Qe*Qe-Oe*Oe-ke*ke-qe*qe;De<0?m=0:(De*=De,m=De*De*this.dot4(o[$e],Qe,Oe,ke,qe));let ae=.6-xt*xt-Yt*Yt-N*N-F*F;ae<0?A=0:(ae*=ae,A=ae*ae*this.dot4(o[je],xt,Yt,N,F));let Re=.6-ne*ne-Ce*Ce-ve*ve-Ie*Ie;return Re<0?x=0:(Re*=Re,x=Re*Re*this.dot4(o[Ct],ne,Ce,ve,Ie)),27*(h+d+m+A+x)});for(let n=0;n<256;n++)this.p[n]=Math.floor(e.random()*256);for(let n=0;n<512;n++)this.perm[n]=this.p[n&255]}}const ui=class extends It{constructor(t={}){super(),this.isLightningStrike=!0,this.type="LightningStrike",this.init(ui.copyParameters(t,t)),this.createMesh()}static createRandomGenerator(){const e=[];for(let r=0;r<2053;r++)e.push(Math.random());const n={currentSeed:0,random:function(){const r=e[n.currentSeed];return n.currentSeed=(n.currentSeed+1)%2053,r},getSeed:function(){return n.currentSeed/2053},setSeed:function(r){n.currentSeed=Math.floor(r*2053)%2053}};return n}static copyParameters(t={},e={}){const n=function(r){return e===t?r:r.clone()};return t.sourceOffset=e.sourceOffset!==void 0?n(e.sourceOffset):new O(0,100,0),t.destOffset=e.destOffset!==void 0?n(e.destOffset):new O(0,0,0),t.timeScale=e.timeScale!==void 0?e.timeScale:1,t.roughness=e.roughness!==void 0?e.roughness:.9,t.straightness=e.straightness!==void 0?e.straightness:.7,t.up0=e.up0!==void 0?n(e.up0):new O(0,0,1),t.up1=e.up1!==void 0?n(e.up1):new O(0,0,1),t.radius0=e.radius0!==void 0?e.radius0:1,t.radius1=e.radius1!==void 0?e.radius1:1,t.radius0Factor=e.radius0Factor!==void 0?e.radius0Factor:.5,t.radius1Factor=e.radius1Factor!==void 0?e.radius1Factor:.2,t.minRadius=e.minRadius!==void 0?e.minRadius:.2,t.isEternal=e.isEternal!==void 0?e.isEternal:e.birthTime===void 0||e.deathTime===void 0,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.propagationTimeFactor=e.propagationTimeFactor!==void 0?e.propagationTimeFactor:.1,t.vanishingTimeFactor=e.vanishingTimeFactor!==void 0?e.vanishingTimeFactor:.9,t.subrayPeriod=e.subrayPeriod!==void 0?e.subrayPeriod:4,t.subrayDutyCycle=e.subrayDutyCycle!==void 0?e.subrayDutyCycle:.6,t.maxIterations=e.maxIterations!==void 0?e.maxIterations:9,t.isStatic=e.isStatic!==void 0?e.isStatic:!1,t.ramification=e.ramification!==void 0?e.ramification:5,t.maxSubrayRecursion=e.maxSubrayRecursion!==void 0?e.maxSubrayRecursion:3,t.recursionProbability=e.recursionProbability!==void 0?e.recursionProbability:.6,t.generateUVs=e.generateUVs!==void 0?e.generateUVs:!1,t.randomGenerator=e.randomGenerator,t.noiseSeed=e.noiseSeed,t.onDecideSubrayCreation=e.onDecideSubrayCreation,t.onSubrayCreation=e.onSubrayCreation,t}update(t){this.isStatic||(this.rayParameters.isEternal||this.rayParameters.birthTime<=t&&t<=this.rayParameters.deathTime?(this.updateMesh(t),t<this.subrays[0].endPropagationTime?this.state=ui.RAY_PROPAGATING:t>this.subrays[0].beginVanishingTime?this.state=ui.RAY_VANISHING:this.state=ui.RAY_STEADY,this.visible=!0):(this.visible=!1,t<this.rayParameters.birthTime?this.state=ui.RAY_UNBORN:this.state=ui.RAY_EXTINGUISHED))}init(t){this.rayParameters=t,this.maxIterations=t.maxIterations!==void 0?Math.floor(t.maxIterations):9,t.maxIterations=this.maxIterations,this.isStatic=t.isStatic!==void 0?t.isStatic:!1,t.isStatic=this.isStatic,this.ramification=t.ramification!==void 0?Math.floor(t.ramification):5,t.ramification=this.ramification,this.maxSubrayRecursion=t.maxSubrayRecursion!==void 0?Math.floor(t.maxSubrayRecursion):3,t.maxSubrayRecursion=this.maxSubrayRecursion,this.recursionProbability=t.recursionProbability!==void 0?t.recursionProbability:.6,t.recursionProbability=this.recursionProbability,this.generateUVs=t.generateUVs!==void 0?t.generateUVs:!1,t.generateUVs=this.generateUVs,t.randomGenerator!==void 0?(this.randomGenerator=t.randomGenerator,this.seedGenerator=t.randomGenerator,t.noiseSeed!==void 0&&this.seedGenerator.setSeed(t.noiseSeed)):(this.randomGenerator=ui.createRandomGenerator(),this.seedGenerator=Math),t.onDecideSubrayCreation!==void 0?this.onDecideSubrayCreation=t.onDecideSubrayCreation:(this.createDefaultSubrayCreationCallbacks(),t.onSubrayCreation!==void 0&&(this.onSubrayCreation=t.onSubrayCreation)),this.state=ui.RAY_INITIALIZED,this.maxSubrays=Math.ceil(1+Math.pow(this.ramification,Math.max(0,this.maxSubrayRecursion-1))),t.maxSubrays=this.maxSubrays,this.maxRaySegments=2*(1<<this.maxIterations),this.subrays=[];for(let e=0;e<this.maxSubrays;e++)this.subrays.push(this.createSubray());this.raySegments=[];for(let e=0;e<this.maxRaySegments;e++)this.raySegments.push(this.createSegment());this.time=0,this.timeFraction=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this.generateUVs?this.createTriangleVerticesWithUVs:this.createTriangleVerticesWithoutUVs,this.numSubrays=0,this.currentSubray=null,this.currentSegmentIndex=0,this.isInitialSegment=!1,this.subrayProbability=0,this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.vertices=null,this.uvs=null,this.indices=null,this.positionAttribute=null,this.uvsAttribute=null,this.simplexX=new r0(this.seedGenerator),this.simplexY=new r0(this.seedGenerator),this.simplexZ=new r0(this.seedGenerator),this.forwards=new O,this.forwardsFill=new O,this.side=new O,this.down=new O,this.middlePos=new O,this.middleLinPos=new O,this.newPos=new O,this.vPos=new O,this.cross1=new O}createMesh(){const t=1<<this.maxIterations,e=3*(t+1)*this.maxSubrays,n=18*t*this.maxSubrays;this.vertices=new Float32Array(e*3),this.indices=new Uint32Array(n),this.generateUVs&&(this.uvs=new Float32Array(e*2)),this.fillMesh(0),this.setIndex(new Z2(this.indices,1)),this.positionAttribute=new rt(this.vertices,3),this.setAttribute("position",this.positionAttribute),this.generateUVs&&(this.uvsAttribute=new rt(new Float32Array(this.uvs),2),this.setAttribute("uv",this.uvsAttribute)),this.isStatic||(this.index.usage=qA,this.positionAttribute.usage=qA,this.generateUVs&&(this.uvsAttribute.usage=qA)),this.vertices=this.positionAttribute.array,this.indices=this.index.array,this.generateUVs&&(this.uvs=this.uvsAttribute.array)}updateMesh(t){this.fillMesh(t),this.drawRange.count=this.currentIndex,this.index.needsUpdate=!0,this.positionAttribute.needsUpdate=!0,this.generateUVs&&(this.uvsAttribute.needsUpdate=!0)}fillMesh(t){const e=this;this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.fractalRay(t,function(r){const i=e.currentSubray;t<i.birthTime||(this.rayParameters.isEternal&&e.currentSubray.recursion==0?(e.createPrism(r),e.onDecideSubrayCreation(r,e)):t<i.endPropagationTime?e.timeFraction>=r.fraction0*i.propagationTimeFactor&&(e.createPrism(r),e.onDecideSubrayCreation(r,e)):t<i.beginVanishingTime?(e.createPrism(r),e.onDecideSubrayCreation(r,e)):(e.timeFraction<=i.vanishingTimeFactor+r.fraction1*(1-i.vanishingTimeFactor)&&e.createPrism(r),e.onDecideSubrayCreation(r,e)))})}addNewSubray(){return this.subrays[this.numSubrays++]}initSubray(t,e){t.pos0.copy(e.sourceOffset),t.pos1.copy(e.destOffset),t.up0.copy(e.up0),t.up1.copy(e.up1),t.radius0=e.radius0,t.radius1=e.radius1,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.timeScale=e.timeScale,t.roughness=e.roughness,t.straightness=e.straightness,t.propagationTimeFactor=e.propagationTimeFactor,t.vanishingTimeFactor=e.vanishingTimeFactor,t.maxIterations=this.maxIterations,t.seed=e.noiseSeed!==void 0?e.noiseSeed:0,t.recursion=0}fractalRay(t,e){this.time=t,this.currentSegmentCallback=e,this.numSubrays=0,this.initSubray(this.addNewSubray(),this.rayParameters);for(let n=0;n<this.numSubrays;n++){const r=this.subrays[n];this.currentSubray=r,this.randomGenerator.setSeed(r.seed),r.endPropagationTime=xh.lerp(r.birthTime,r.deathTime,r.propagationTimeFactor),r.beginVanishingTime=xh.lerp(r.deathTime,r.birthTime,1-r.vanishingTimeFactor);const i=this.randomGenerator.random;r.linPos0.set(i(),i(),i()).multiplyScalar(1e3),r.linPos1.set(i(),i(),i()).multiplyScalar(1e3),this.timeFraction=(t-r.birthTime)/(r.deathTime-r.birthTime),this.currentSegmentIndex=0,this.isInitialSegment=!0;const s=this.getNewSegment();s.iteration=0,s.pos0.copy(r.pos0),s.pos1.copy(r.pos1),s.linPos0.copy(r.linPos0),s.linPos1.copy(r.linPos1),s.up0.copy(r.up0),s.up1.copy(r.up1),s.radius0=r.radius0,s.radius1=r.radius1,s.fraction0=0,s.fraction1=1,s.positionVariationFactor=1-r.straightness,this.subrayProbability=this.ramification*Math.pow(this.recursionProbability,r.recursion)/(1<<r.maxIterations),this.fractalRayRecursive(s)}this.currentSegmentCallback=null,this.currentSubray=null}fractalRayRecursive(t){if(t.iteration>=this.currentSubray.maxIterations){this.currentSegmentCallback(t);return}this.forwards.subVectors(t.pos1,t.pos0);let e=this.forwards.length();e<1e-6&&(this.forwards.set(0,0,.01),e=this.forwards.length());const n=(t.radius0+t.radius1)*.5,r=(t.fraction0+t.fraction1)*.5,i=this.time*this.currentSubray.timeScale*Math.pow(2,t.iteration);this.middlePos.lerpVectors(t.pos0,t.pos1,.5),this.middleLinPos.lerpVectors(t.linPos0,t.linPos1,.5);const s=this.middleLinPos;this.newPos.set(this.simplexX.noise4d(s.x,s.y,s.z,i),this.simplexY.noise4d(s.x,s.y,s.z,i),this.simplexZ.noise4d(s.x,s.y,s.z,i)),this.newPos.multiplyScalar(t.positionVariationFactor*e),this.newPos.add(this.middlePos);const o=this.getNewSegment();o.pos0.copy(t.pos0),o.pos1.copy(this.newPos),o.linPos0.copy(t.linPos0),o.linPos1.copy(this.middleLinPos),o.up0.copy(t.up0),o.up1.copy(t.up1),o.radius0=t.radius0,o.radius1=n,o.fraction0=t.fraction0,o.fraction1=r,o.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,o.iteration=t.iteration+1;const a=this.getNewSegment();a.pos0.copy(this.newPos),a.pos1.copy(t.pos1),a.linPos0.copy(this.middleLinPos),a.linPos1.copy(t.linPos1),this.cross1.crossVectors(t.up0,this.forwards.normalize()),a.up0.crossVectors(this.forwards,this.cross1).normalize(),a.up1.copy(t.up1),a.radius0=n,a.radius1=t.radius1,a.fraction0=r,a.fraction1=t.fraction1,a.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,a.iteration=t.iteration+1,this.fractalRayRecursive(o),this.fractalRayRecursive(a)}createPrism(t){this.forwardsFill.subVectors(t.pos1,t.pos0).normalize(),this.isInitialSegment&&(this.currentCreateTriangleVertices(t.pos0,t.up0,this.forwardsFill,t.radius0,0),this.isInitialSegment=!1),this.currentCreateTriangleVertices(t.pos1,t.up0,this.forwardsFill,t.radius1,t.fraction1),this.createPrismFaces()}createTriangleVerticesWithoutUVs(t,e,n,r){this.side.crossVectors(e,n).multiplyScalar(r*ui.COS30DEG),this.down.copy(e).multiplyScalar(-r*ui.SIN30DEG);const i=this.vPos,s=this.vertices;i.copy(t).sub(this.side).add(this.down),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,i.copy(t).add(this.side).add(this.down),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,i.copy(e).multiplyScalar(r).add(t),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,this.currentVertex+=3}createTriangleVerticesWithUVs(t,e,n,r,i){this.side.crossVectors(e,n).multiplyScalar(r*ui.COS30DEG),this.down.copy(e).multiplyScalar(-r*ui.SIN30DEG);const s=this.vPos,o=this.vertices,a=this.uvs;s.copy(t).sub(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=0,s.copy(t).add(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=.5,s.copy(e).multiplyScalar(r).add(t),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=1,this.currentVertex+=3}createPrismFaces(t){const e=this.indices;t=this.currentVertex-6,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+5}createDefaultSubrayCreationCallbacks(){const t=this.randomGenerator.random;this.onDecideSubrayCreation=function(s,o){const a=o.currentSubray,l=o.rayParameters.subrayPeriod,c=o.rayParameters.subrayDutyCycle,u=o.rayParameters.isEternal&&a.recursion==0?-t()*l:xh.lerp(a.birthTime,a.endPropagationTime,s.fraction0)-t()*l,h=o.time-u,d=Math.floor(h/l),m=t()*(d+1),A=h%l<=c*l;let x=0;if(A&&(x=o.subrayProbability),a.recursion<o.maxSubrayRecursion&&o.numSubrays<o.maxSubrays&&t()<x){const E=o.addNewSubray(),g=o.randomGenerator.getSeed();E.seed=m,o.randomGenerator.setSeed(m),E.recursion=a.recursion+1,E.maxIterations=Math.max(1,a.maxIterations-1),E.linPos0.set(t(),t(),t()).multiplyScalar(1e3),E.linPos1.set(t(),t(),t()).multiplyScalar(1e3),E.up0.copy(a.up0),E.up1.copy(a.up1),E.radius0=s.radius0*o.rayParameters.radius0Factor,E.radius1=Math.min(o.rayParameters.minRadius,s.radius1*o.rayParameters.radius1Factor),E.birthTime=u+d*l,E.deathTime=E.birthTime+l*c,!o.rayParameters.isEternal&&a.recursion==0&&(E.birthTime=Math.max(E.birthTime,a.birthTime),E.deathTime=Math.min(E.deathTime,a.deathTime)),E.timeScale=a.timeScale*2,E.roughness=a.roughness,E.straightness=a.straightness,E.propagationTimeFactor=a.propagationTimeFactor,E.vanishingTimeFactor=a.vanishingTimeFactor,o.onSubrayCreation(s,a,E,o),o.randomGenerator.setSeed(g)}};const e=new O,n=new O,r=new O,i=new O;this.onSubrayCreation=function(s,o,a,l){l.subrayCylinderPosition(s,o,a,.5,.6,.2)},this.subrayConePosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*(t()*l));const h=e.length();r.crossVectors(o.up0,n);const d=2*Math.PI*t();r.multiplyScalar(Math.cos(d)),i.copy(o.up0).multiplyScalar(Math.sin(d)),a.pos1.copy(r).add(i).multiplyScalar(h*c*(u+t()*(1-u))).add(e).add(o.pos0)},this.subrayCylinderPosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*((2*t()-1)*l));const h=e.length();r.crossVectors(o.up0,n);const d=2*Math.PI*t();r.multiplyScalar(Math.cos(d)),i.copy(o.up0).multiplyScalar(Math.sin(d)),a.pos1.copy(r).add(i).multiplyScalar(h*c*(u+t()*(1-u))).add(e).add(o.pos0)}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new O,pos1:new O,linPos0:new O,linPos1:new O,up0:new O,up1:new O,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new O,pos1:new O,linPos0:new O,linPos1:new O,up0:new O,up1:new O,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){return this.raySegments[this.currentSegmentIndex++]}copy(t){return super.copy(t),this.init(ui.copyParameters({},t.rayParameters)),this}clone(){return new this.constructor(ui.copyParameters({},this.rayParameters))}};let Rc=ui;st(Rc,"RAY_INITIALIZED",0);st(Rc,"RAY_UNBORN",1);st(Rc,"RAY_PROPAGATING",2);st(Rc,"RAY_STEADY",3);st(Rc,"RAY_VANISHING",4);st(Rc,"RAY_EXTINGUISHED",5);st(Rc,"COS30DEG",Math.cos(30*Math.PI/180));st(Rc,"SIN30DEG",Math.sin(30*Math.PI/180));const iu=class extends sn{constructor(t,e={}){super(t),this.isReflectorForSSRPass=!0,this.type="ReflectorForSSRPass";const n=this,r=e.color!==void 0?new be(e.color):new be(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||iu.ReflectorShader,l=e.useDepthTexture===!0,c=new O(0,1,0),u=new O,h=new O;n.needsUpdate=!1,n.maxDistance=iu.ReflectorShader.uniforms.maxDistance.value,n.opacity=iu.ReflectorShader.uniforms.opacity.value,n.color=r,n.resolution=e.resolution||new fe(window.innerWidth,window.innerHeight),n._distanceAttenuation=iu.ReflectorShader.defines.DISTANCE_ATTENUATION,Object.defineProperty(n,"distanceAttenuation",{get(){return n._distanceAttenuation},set(L){n._distanceAttenuation!==L&&(n._distanceAttenuation=L,n.material.defines.DISTANCE_ATTENUATION=L,n.material.needsUpdate=!0)}}),n._fresnel=iu.ReflectorShader.defines.FRESNEL,Object.defineProperty(n,"fresnel",{get(){return n._fresnel},set(L){n._fresnel!==L&&(n._fresnel=L,n.material.defines.FRESNEL=L,n.material.needsUpdate=!0)}});const d=new O,m=new O,A=new O,x=new et,E=new O(0,0,-1),g=new O,y=new O,v=new et,S=new Rn;let w;l&&(w=new fd,w.type=Wu,w.minFilter=_t,w.magFilter=_t);const T={depthTexture:l?w:null,type:ir},M=new hn(i,s,T),P=new Jt({transparent:l,defines:Object.assign({},iu.ReflectorShader.defines,{useDepthTexture:l}),uniforms:Nn.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});P.uniforms.tDiffuse.value=M.texture,P.uniforms.color.value=n.color,P.uniforms.textureMatrix.value=v,l&&(P.uniforms.tDepth.value=M.depthTexture),this.material=P;const B=[new _s(new O(0,1,0),o)];this.doRender=function(L,H,U){if(P.uniforms.maxDistance.value=n.maxDistance,P.uniforms.color.value=n.color,P.uniforms.opacity.value=n.opacity,u.copy(U.position).normalize(),h.copy(u).reflect(c),P.uniforms.fresnelCoe.value=(u.dot(h)+1)/2,m.setFromMatrixPosition(n.matrixWorld),A.setFromMatrixPosition(U.matrixWorld),x.extractRotation(n.matrixWorld),d.set(0,0,1),d.applyMatrix4(x),g.subVectors(m,A),g.dot(d)>0)return;g.reflect(d).negate(),g.add(m),x.extractRotation(U.matrixWorld),E.set(0,0,-1),E.applyMatrix4(x),E.add(A),y.subVectors(m,E),y.reflect(d).negate(),y.add(m),S.position.copy(g),S.up.set(0,1,0),S.up.applyMatrix4(x),S.up.reflect(d),S.lookAt(y),S.far=U.far,S.updateMatrixWorld(),S.projectionMatrix.copy(U.projectionMatrix),P.uniforms.virtualCameraNear.value=U.near,P.uniforms.virtualCameraFar.value=U.far,P.uniforms.virtualCameraMatrixWorld.value=S.matrixWorld,P.uniforms.virtualCameraProjectionMatrix.value=U.projectionMatrix,P.uniforms.virtualCameraProjectionMatrixInverse.value=U.projectionMatrixInverse,P.uniforms.resolution.value=n.resolution,v.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),v.multiply(S.projectionMatrix),v.multiply(S.matrixWorldInverse),v.multiply(n.matrixWorld);const V=L.getRenderTarget(),W=L.xr.enabled,q=L.shadowMap.autoUpdate,Y=L.clippingPlanes;L.xr.enabled=!1,L.shadowMap.autoUpdate=!1,L.clippingPlanes=B,L.setRenderTarget(M),L.state.buffers.depth.setMask(!0),L.autoClear===!1&&L.clear(),L.render(H,S),L.xr.enabled=W,L.shadowMap.autoUpdate=q,L.clippingPlanes=Y,L.setRenderTarget(V);const k=U.viewport;k!==void 0&&L.state.viewport(k)},this.getRenderTarget=function(){return M}}};let Yne=iu;st(Yne,"ReflectorShader",{defines:{DISTANCE_ATTENUATION:!0,FRESNEL:!0},uniforms:{color:{value:null},tDiffuse:{value:null},tDepth:{value:null},textureMatrix:{value:new et},maxDistance:{value:180},opacity:{value:.5},fresnelCoe:{value:null},virtualCameraNear:{value:null},virtualCameraFar:{value:null},virtualCameraProjectionMatrix:{value:new et},virtualCameraMatrixWorld:{value:new et},virtualCameraProjectionMatrixInverse:{value:new et},resolution:{value:new fe}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;
		uniform float maxDistance;
		uniform float opacity;
		uniform float fresnelCoe;
		uniform float virtualCameraNear;
		uniform float virtualCameraFar;
		uniform mat4 virtualCameraProjectionMatrix;
		uniform mat4 virtualCameraProjectionMatrixInverse;
		uniform mat4 virtualCameraMatrixWorld;
		uniform vec2 resolution;
		varying vec4 vUv;
		#include <packing>
		float blendOverlay( float base, float blend ) {
			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );
		}
		vec3 blendOverlay( vec3 base, vec3 blend ) {
			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			return perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view
		}
		void main() {
			vec4 base = texture2DProj( tDiffuse, vUv );
			#ifdef useDepthTexture
				vec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;
				uv.x=1.-uv.x;
				float depth = texture2DProj( tDepth, vUv ).r;
				float viewZ = getViewZ( depth );
				float clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];
				vec3 viewPosition=getViewPosition( uv, depth, clipW );
				vec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;
				if(worldPosition.y>maxDistance) discard;
				float op=opacity;
				#ifdef DISTANCE_ATTENUATION
					float ratio=1.-(worldPosition.y/maxDistance);
					float attenuation=ratio*ratio;
					op=opacity*attenuation;
				#endif
				#ifdef FRESNEL
					op*=fresnelCoe;
				#endif
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), op );
			#else
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );
			#endif
		}
	`});const r1={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new O},up:{value:new O(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${parseInt(sl.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},nO=new Jt({name:"SkyShader",fragmentShader:r1.fragmentShader,vertexShader:r1.vertexShader,uniforms:Nn.clone(r1.uniforms),side:ei,depthWrite:!1});class rO extends sn{constructor(){super(new Tc(1,1,1),nO)}}st(rO,"SkyShader",r1);st(rO,"material",nO);const iO=class extends sn{constructor(t,e={}){super(t),this.isWater=!0,this.type="Water";const n=this,r=e.color!==void 0?new be(e.color):new be(16777215),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.flowDirection||new fe(1,0),l=e.flowSpeed||.03,c=e.reflectivity||.02,u=e.scale||1,h=e.shader||iO.WaterShader,d=e.encoding!==void 0?e.encoding:3e3,m=e.flowMap||void 0,A=e.normalMap0,x=e.normalMap1,E=.15,g=E*.5,y=new et,v=new wv;if(lE===void 0){console.error("THREE.Water: Required component Reflector not found.");return}if(cE===void 0){console.error("THREE.Water: Required component Refractor not found.");return}const S=new lE(t,{textureWidth:i,textureHeight:s,clipBias:o,encoding:d}),w=new cE(t,{textureWidth:i,textureHeight:s,clipBias:o,encoding:d});S.matrixAutoUpdate=!1,w.matrixAutoUpdate=!1,this.material=new Jt({uniforms:Nn.merge([Fe.fog,h.uniforms]),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,transparent:!0,fog:!0}),m!==void 0?(this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:m}):this.material.uniforms.flowDirection={type:"v2",value:a},A.wrapS=A.wrapT=Os,x.wrapS=x.wrapT=Os,this.material.uniforms.tReflectionMap.value=S.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=w.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=A,this.material.uniforms.tNormalMap1.value=x,this.material.uniforms.color.value=r,this.material.uniforms.reflectivity.value=c,this.material.uniforms.textureMatrix.value=y,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=g,this.material.uniforms.config.value.z=g,this.material.uniforms.config.value.w=u;function T(P){y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y.multiply(P.projectionMatrix),y.multiply(P.matrixWorldInverse),y.multiply(n.matrixWorld)}function M(){const P=v.getDelta(),b=n.material.uniforms.config;b.value.x+=l*P,b.value.y=b.value.x+g,b.value.x>=E?(b.value.x=0,b.value.y=g):b.value.y>=E&&(b.value.y=b.value.y-E)}this.onBeforeRender=function(P,b,B){T(B),M(),n.visible=!1,S.matrixWorld.copy(n.matrixWorld),w.matrixWorld.copy(n.matrixWorld),S.onBeforeRender(P,b,B),w.onBeforeRender(P,b,B),n.visible=!0}}};let qne=iO;st(qne,"WaterShader",{uniforms:{color:{value:null},reflectivity:{value:0},tReflectionMap:{value:null},tRefractionMap:{value:null},tNormalMap0:{value:null},tNormalMap1:{value:null},textureMatrix:{value:null},config:{value:new Wt}},vertexShader:`

		#include <common>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>

		uniform mat4 textureMatrix;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			vUv = uv;
			vCoord = textureMatrix * vec4( position, 1.0 );

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vToEye = cameraPosition - worldPosition.xyz;

			vec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex
			gl_Position = projectionMatrix * mvPosition;

			#include <logdepthbuf_vertex>
			#include <fog_vertex>

		}`,fragmentShader:`

		#include <common>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>

		uniform sampler2D tReflectionMap;
		uniform sampler2D tRefractionMap;
		uniform sampler2D tNormalMap0;
		uniform sampler2D tNormalMap1;

		#ifdef USE_FLOWMAP
			uniform sampler2D tFlowMap;
		#else
			uniform vec2 flowDirection;
		#endif

		uniform vec3 color;
		uniform float reflectivity;
		uniform vec4 config;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			#include <logdepthbuf_fragment>

			float flowMapOffset0 = config.x;
			float flowMapOffset1 = config.y;
			float halfCycle = config.z;
			float scale = config.w;

			vec3 toEye = normalize( vToEye );

			// determine flow direction
			vec2 flow;
			#ifdef USE_FLOWMAP
				flow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;
			#else
				flow = flowDirection;
			#endif
			flow.x *= - 1.0;

			// sample normal maps (distort uvs with flowdata)
			vec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );
			vec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );

			// linear interpolate to get the final normal color
			float flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;
			vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );

			// calculate normal vector
			vec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );

			// calculate the fresnel term to blend reflection and refraction maps
			float theta = max( dot( toEye, normal ), 0.0 );
			float reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );

			// calculate final uv coords
			vec3 coord = vCoord.xyz / vCoord.w;
			vec2 uv = coord.xy + coord.z * normal.xz * 0.05;

			vec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );
			vec4 refractColor = texture2D( tRefractionMap, uv );

			// multiply water color with the mix of both textures
			gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );

			#include <tonemapping_fragment>
			#include <${parseInt(sl.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
			#include <fog_fragment>

		}`});const Q6={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","	float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","	gl_FragColor = vec4( vec3( depth ), opacity );","}"].join(`
`)};class bv{constructor(){st(this,"enabled",!0),st(this,"needsSwap",!0),st(this,"clear",!1),st(this,"renderToScreen",!1)}setSize(e,n){}render(e,n,r,i,s){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class Bv{constructor(e){st(this,"camera",new al(-1,1,1,-1,0,1)),st(this,"geometry",new cd(2,2)),st(this,"mesh"),this.mesh=new sn(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}const ta={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},gp={defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new fe},cameraProjectionMatrix:{value:new et},cameraInverseProjectionMatrix:{value:new et},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","	return texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","		return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","		return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","	float depth = getDepth( vUv );","	float viewZ = getViewZ( depth );","	vec3 viewPosition = getViewPosition( vUv, depth, viewZ );","	vec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","	vec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","	vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","	vec3 bitangent = cross( viewNormal, tangent );","	mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","		vec3 sampleVector = kernelMatrix * kernel[ i ];","		vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","		vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","		samplePointNDC /= samplePointNDC.w;","		vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","		float realDepth = getLinearDepth( samplePointUv );","		float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","		float delta = sampleDepth - realDepth;","		if ( delta > minDistance && delta < maxDistance ) {","			occlusion += 1.0;","		}","	}","	occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","	gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join(`
`)},mA={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","void main() {","	float depth = getLinearDepth( vUv );","	gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join(`
`)},gA={uniforms:{tDiffuse:{value:null},resolution:{value:new fe}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","	vec2 texelSize = ( 1.0 / resolution );","	float result = 0.0;","	for ( int i = - 2; i <= 2; i ++ ) {","		for ( int j = - 2; j <= 2; j ++ ) {","			vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","			result += texture2D( tDiffuse, vUv + offset ).r;","		}","	}","	gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join(`
`)},su=class extends bv{constructor(t,e,n,r){super(),this.width=n!==void 0?n:512,this.height=r!==void 0?r:512,this.clear=!0,this.camera=e,this.scene=t,this.kernelRadius=8,this.kernelSize=32,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=new Map,this.generateSampleKernel(),this.generateRandomKernelRotations();const i=new fd;i.format=fc,i.type=Ha,this.beautyRenderTarget=new hn(this.width,this.height),this.normalRenderTarget=new hn(this.width,this.height,{minFilter:_t,magFilter:_t,depthTexture:i}),this.ssaoRenderTarget=new hn(this.width,this.height),this.blurRenderTarget=this.ssaoRenderTarget.clone(),gp===void 0&&console.error("THREE.SSAOPass: The pass relies on SSAOShader."),this.ssaoMaterial=new Jt({defines:Object.assign({},gp.defines),uniforms:Nn.clone(gp.uniforms),vertexShader:gp.vertexShader,fragmentShader:gp.fragmentShader,blending:Gt}),this.ssaoMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new B3,this.normalMaterial.blending=Gt,this.blurMaterial=new Jt({defines:Object.assign({},gA.defines),uniforms:Nn.clone(gA.uniforms),vertexShader:gA.vertexShader,fragmentShader:gA.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new Jt({defines:Object.assign({},mA.defines),uniforms:Nn.clone(mA.uniforms),vertexShader:mA.vertexShader,fragmentShader:mA.fragmentShader,blending:Gt}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new Jt({uniforms:Nn.clone(ta.uniforms),vertexShader:ta.vertexShader,fragmentShader:ta.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:j2,blendDst:Nh,blendEquation:Ji,blendSrcAlpha:$2,blendDstAlpha:Nh,blendEquationAlpha:Ji}),this.fsQuad=new Bv(null),this.originalClearColor=new be}dispose(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.capabilities.isWebGL2===!1&&(this.noiseTexture.format=s9),t.setRenderTarget(this.beautyRenderTarget),t.clear(),t.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(t,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.output){case su.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case su.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case su.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case su.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case su.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case su.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=B0,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}renderPass(t,e,n,r,i){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,r,i){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.beautyRenderTarget.setSize(t,e),this.ssaoRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.ssaoMaterial.uniforms.resolution.value.set(t,e),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e)}generateSampleKernel(){const t=this.kernelSize,e=this.kernel;for(let n=0;n<t;n++){const r=new O;r.x=Math.random()*2-1,r.y=Math.random()*2-1,r.z=Math.random(),r.normalize();let i=n/t;i=xh.lerp(.1,1,i*i),r.multiplyScalar(i),e.push(r)}}generateRandomKernelRotations(){r0===void 0&&console.error("THREE.SSAOPass: The pass relies on SimplexNoise.");const n=new r0,r=4*4,i=new Float32Array(r);for(let s=0;s<r;s++){const o=Math.random()*2-1,a=Math.random()*2-1,l=0;i[s]=n.noise3d(o,a,l)}this.noiseTexture=new Yo(i,4,4,pu,pi),this.noiseTexture.wrapS=Os,this.noiseTexture.wrapT=Os,this.noiseTexture.needsUpdate=!0}overrideVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){e.set(n,n.visible),(n.isPoints||n.isLine)&&(n.visible=!1)})}restoreVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){const r=e.get(n);n.visible=r}),e.clear()}};let Zne=su;st(Zne,"OUTPUT",{Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5});const ere={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new be(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)},fE=class extends bv{constructor(t,e,n,r){super(),this.strength=e!==void 0?e:1,this.radius=n,this.threshold=r,this.resolution=t!==void 0?new fe(t.x,t.y):new fe(256,256),this.clearColor=new be(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new hn(i,s,{type:ir}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let u=0;u<this.nMips;u++){const h=new hn(i,s,{type:ir});h.texture.name="UnrealBloomPass.h"+u,h.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(h);const d=new hn(i,s,{type:ir});d.texture.name="UnrealBloomPass.v"+u,d.texture.generateMipmaps=!1,this.renderTargetsVertical.push(d),i=Math.round(i/2),s=Math.round(s/2)}const o=ere;this.highPassUniforms=Nn.clone(o.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Jt({uniforms:this.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const a=[3,5,7,9,11];i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);for(let u=0;u<this.nMips;u++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(a[u])),this.separableBlurMaterials[u].uniforms.texSize.value=new fe(i,s),i=Math.round(i/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new O(1,1,1),new O(1,1,1),new O(1,1,1),new O(1,1,1),new O(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const c=ta;this.copyUniforms=Nn.clone(c.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Jt({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:b0,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new be,this.oldClearAlpha=1,this.basic=new Pr,this.fsQuad=new Bv(null)}dispose(){for(let t=0;t<this.renderTargetsHorizontal.length;t++)this.renderTargetsHorizontal[t].dispose();for(let t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(let t=0;t<this.separableBlurMaterials.length;t++)this.separableBlurMaterials[t].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(t,e){let n=Math.round(t/2),r=Math.round(e/2);this.renderTargetBright.setSize(n,r);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,r),this.renderTargetsVertical[i].setSize(n,r),this.separableBlurMaterials[i].uniforms.texSize.value=new fe(n,r),n=Math.round(n/2),r=Math.round(r/2)}render(t,e,n,r,i){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const s=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),i&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,t.setRenderTarget(null),t.clear(),this.fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this.fsQuad.render(t);let o=this.renderTargetBright;for(let a=0;a<this.nMips;a++)this.fsQuad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[a].uniforms.direction.value=fE.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[a]),t.clear(),this.fsQuad.render(t),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=fE.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[a]),t.clear(),this.fsQuad.render(t),o=this.renderTargetsVertical[a];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.fsQuad.render(t)),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=s}getSeperableBlurMaterial(t){return new Jt({defines:{KERNEL_RADIUS:t,SIGMA:t},uniforms:{colorTexture:{value:null},texSize:{value:new fe(.5,.5)},direction:{value:new fe(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(t){return new Jt({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let sO=fE;st(sO,"BlurDirectionX",new fe(1,0));st(sO,"BlurDirectionY",new fe(0,1));const AA={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new fe(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new et},cameraInverseProjectionMatrix:{value:new et},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","	#if DIFFUSE_TEXTURE == 1","	return texture2D( tDiffuse, vUv );","	#else","	return vec4( 1.0 );","	#endif","}","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","	#if NORMAL_TEXTURE == 1","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","	#else","	return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","	#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","	vec3 viewDelta = sampleViewPosition - centerViewPosition;","	float viewDistance = length( viewDelta );","	float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","	return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","	// precompute some variables require in getOcclusion.","	scaleDividedByCameraFar = scale / cameraFar;","	minResolutionMultipliedByCameraFar = minResolution * cameraFar;","	vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","	// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","	float angle = rand( vUv + randomSeed ) * PI2;","	vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","	vec2 radiusStep = radius;","	float occlusionSum = 0.0;","	float weightSum = 0.0;","	for( int i = 0; i < NUM_SAMPLES; i ++ ) {","		vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","		radius += radiusStep;","		angle += ANGLE_STEP;","		float sampleDepth = getDepth( sampleUv );","		if( sampleDepth >= ( 1.0 - EPSILON ) ) {","			continue;","		}","		float sampleViewZ = getViewZ( sampleDepth );","		vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","		occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","		weightSum += 1.0;","	}","	if( weightSum == 0.0 ) discard;","	return occlusionSum * ( intensity / weightSum );","}","void main() {","	float centerDepth = getDepth( vUv );","	if( centerDepth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = getViewZ( centerDepth );","	vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","	float ambientOcclusion = getAmbientOcclusion( viewPosition );","	gl_FragColor = getDefaultColor( vUv );","	gl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join(`
`)},Dl={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new fe(512,512)},sampleUvOffsets:{value:[new fe(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","	vUv = uv;","	vInvSize = 1.0 / size;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","void main() {","	float depth = getDepth( vUv );","	if( depth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = -getViewZ( depth );","	bool rBreak = false, lBreak = false;","	float weightSum = sampleWeights[0];","	vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","	for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","		float sampleWeight = sampleWeights[i];","		vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","		vec2 sampleUv = vUv + sampleUvOffset;","		float viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","		if( ! rBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","		sampleUv = vUv - sampleUvOffset;","		viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","		if( ! lBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","	}","	gl_FragColor = diffuseSum / weightSum;","}"].join(`
`)},J1={createSampleWeights:(t,e)=>{const n=(i,s)=>Math.exp(-(i*i)/(2*(s*s)))/(Math.sqrt(2*Math.PI)*s),r=[];for(let i=0;i<=t;i++)r.push(n(i,e));return r},createSampleOffsets:(t,e)=>{const n=[];for(let r=0;r<=t;r++)n.push(e.clone().multiplyScalar(r));return n},configure:(t,e,n,r)=>{t.defines.KERNEL_RADIUS=e,t.uniforms.sampleUvOffsets.value=J1.createSampleOffsets(e,r),t.uniforms.sampleWeights.value=J1.createSampleWeights(e,n),t.needsUpdate=!0}};class tre extends bv{constructor(e,n,r=!1,i=!1,s=new fe(256,256)){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=r,this.supportsNormalTexture=i,this.originalClearColor=new be,this._oldClearColor=new be,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new fe(s.x,s.y),this.saoRenderTarget=new hn(this.resolution.x,this.resolution.y,{type:ir}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new hn(this.resolution.x,this.resolution.y,{minFilter:_t,magFilter:_t,type:ir}),this.depthRenderTarget=this.normalRenderTarget.clone();let o;this.supportsDepthTextureExtension&&(o=new fd,o.type=Wu,this.beautyRenderTarget.depthTexture=o,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new nv,this.depthMaterial.depthPacking=h9,this.depthMaterial.blending=Gt,this.normalMaterial=new B3,this.normalMaterial.blending=Gt,this.saoMaterial=new Jt({defines:Object.assign({},AA.defines),fragmentShader:AA.fragmentShader,vertexShader:AA.vertexShader,uniforms:Nn.clone(AA.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=Gt,this.vBlurMaterial=new Jt({uniforms:Nn.clone(Dl.uniforms),defines:Object.assign({},Dl.defines),vertexShader:Dl.vertexShader,fragmentShader:Dl.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=Gt,this.hBlurMaterial=new Jt({uniforms:Nn.clone(Dl.uniforms),defines:Object.assign({},Dl.defines),vertexShader:Dl.vertexShader,fragmentShader:Dl.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=Gt,this.materialCopy=new Jt({uniforms:Nn.clone(ta.uniforms),vertexShader:ta.vertexShader,fragmentShader:ta.fragmentShader,blending:Gt}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=B0,this.materialCopy.blendSrc=j2,this.materialCopy.blendDst=Nh,this.materialCopy.blendEquation=Ji,this.materialCopy.blendSrcAlpha=$2,this.materialCopy.blendDstAlpha=Nh,this.materialCopy.blendEquationAlpha=Ji,this.depthCopy=new Jt({uniforms:Nn.clone(Q6.uniforms),vertexShader:Q6.vertexShader,fragmentShader:Q6.fragmentShader,blending:Gt}),this.fsQuad=new Bv(null)}render(e,n,r){if(this.renderToScreen&&(this.materialCopy.blending=Gt,this.materialCopy.uniforms.tDiffuse.value=r.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),this.params.output===1)return;e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const i=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const s=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=s,this.hBlurMaterial.uniforms.depthCutoff.value=s,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(J1.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new fe(0,1)),J1.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new fe(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let o=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,o=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?o.blending=B0:o.blending=Gt,this.renderPass(e,o,this.renderToScreen?null:r),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=i}renderPass(e,n,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=n,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,n,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i=n.clearColor||i,s=n.clearAlpha||s,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=n,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,n){this.beautyRenderTarget.setSize(e,n),this.saoRenderTarget.setSize(e,n),this.blurIntermediateRenderTarget.setSize(e,n),this.normalRenderTarget.setSize(e,n),this.depthRenderTarget.setSize(e,n),this.saoMaterial.uniforms.size.value.set(e,n),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,n),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,n),this.hBlurMaterial.needsUpdate=!0}dispose(){this.saoRenderTarget.dispose(),this.blurIntermediateRenderTarget.dispose(),this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.depthRenderTarget.dispose(),this.depthMaterial.dispose(),this.normalMaterial.dispose(),this.saoMaterial.dispose(),this.vBlurMaterial.dispose(),this.hBlurMaterial.dispose(),this.materialCopy.dispose(),this.depthCopy.dispose(),this.fsQuad.dispose()}}st(tre,"OUTPUT",{Beauty:1,Default:0,SAO:2,Depth:3,Normal:4});const Uo={defines:{MAX_STEP:0,isPerspectiveCamera:!0,isDistanceAttenuation:!0,isFresnel:!0,isInfiniteThick:!1,isSelective:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new fe},cameraProjectionMatrix:{value:new et},cameraInverseProjectionMatrix:{value:new et},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},surfDist:{value:.007},thickTolerance:{value:.03}},vertexShader:`

    varying vec2 vUv;

    void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float surfDist;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		uniform float thickTolerance;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef isPerspectiveCamera
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef isSelective
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef isPerspectiveCamera
				vec3 viewIncidenceDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#else
				vec3 viewIncidenceDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidenceDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef isPerspectiveCamera
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<MAX_STEP;i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef isPerspectiveCamera
					// https://www.comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
					float sD=surfDist*cW;
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
					float sD=surfDist;
				#endif
				if(viewReflectRayZ-sD>vZ) continue;

				#ifdef isInfiniteThick
					if(viewReflectRayZ+thickTolerance*clipW<vP.z) break;
				#endif
				float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

				float op=opacity;

				if(away<sD){
					vec3 vN=getViewNormal( uv );
					if(dot(viewReflectDir,vN)>=0.) continue;
					float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
					if(distance>maxDistance) break;
					#ifdef isDistanceAttenuation
						float ratio=1.-(distance/maxDistance);
						float attenuation=ratio*ratio;
						op=opacity*attenuation;
					#endif
					#ifdef isFresnel
						float fresnel=(dot(viewIncidenceDir,viewReflectDir)+1.)/2.;
						op*=fresnel;
					#endif
					vec4 reflectColor=texture2D(tDiffuse,uv);
					gl_FragColor.xyz=reflectColor.xyz;
					gl_FragColor.a=op;
					break;
				}
			}
		}
	`},vA={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDepth;

    uniform float cameraNear;
    uniform float cameraFar;

    varying vec2 vUv;

    #include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

    void main() {

    	float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
    	gl_FragColor = vec4( vec3( d ), 1.0 );

    }

  `},Ll={uniforms:{tDiffuse:{value:null},resolution:{value:new fe},opacity:{value:.5}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDiffuse;
    uniform vec2 resolution;
    varying vec2 vUv;
    void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

    	vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`},ou=class extends bv{constructor({renderer:t,scene:e,camera:n,width:r,height:i,selects:s,bouncing:o=!1,groundReflector:a}){super(),this.width=r!==void 0?r:512,this.height=i!==void 0?i:512,this.clear=!0,this.renderer=t,this.scene=e,this.camera=n,this.groundReflector=a,this.opacity=Uo.uniforms.opacity.value,this.output=0,this.maxDistance=Uo.uniforms.maxDistance.value,this.thickness=Uo.uniforms.thickness.value,this.tempColor=new be,this._selects=s,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(c){this._selects!==c&&(this._selects=c,Array.isArray(c)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),this._bouncing=o,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(c){this._bouncing!==c&&(this._bouncing=c,c?this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture:this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture)}}),this.blur=!0,this._distanceAttenuation=Uo.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(c){this._distanceAttenuation!==c&&(this._distanceAttenuation=c,this.ssrMaterial.defines.DISTANCE_ATTENUATION=c,this.ssrMaterial.needsUpdate=!0)}}),this._fresnel=Uo.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(c){this._fresnel!==c&&(this._fresnel=c,this.ssrMaterial.defines.FRESNEL=c,this.ssrMaterial.needsUpdate=!0)}}),this._infiniteThick=Uo.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(c){this._infiniteThick!==c&&(this._infiniteThick=c,this.ssrMaterial.defines.INFINITE_THICK=c,this.ssrMaterial.needsUpdate=!0)}});const l=new fd;l.type=Wu,l.minFilter=_t,l.magFilter=_t,this.beautyRenderTarget=new hn(this.width,this.height,{minFilter:_t,magFilter:_t,type:ir,depthTexture:l,depthBuffer:!0}),this.prevRenderTarget=new hn(this.width,this.height,{minFilter:_t,magFilter:_t}),this.normalRenderTarget=new hn(this.width,this.height,{minFilter:_t,magFilter:_t,type:ir}),this.metalnessRenderTarget=new hn(this.width,this.height,{minFilter:_t,magFilter:_t,type:ir}),this.ssrRenderTarget=new hn(this.width,this.height,{minFilter:_t,magFilter:_t}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),this.ssrMaterial=new Jt({defines:Object.assign({},Uo.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:Nn.clone(Uo.uniforms),vertexShader:Uo.vertexShader,fragmentShader:Uo.fragmentShader,blending:Gt}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new B3,this.normalMaterial.blending=Gt,this.metalnessOnMaterial=new Pr({color:"white"}),this.metalnessOffMaterial=new Pr({color:"black"}),this.blurMaterial=new Jt({defines:Object.assign({},Ll.defines),uniforms:Nn.clone(Ll.uniforms),vertexShader:Ll.vertexShader,fragmentShader:Ll.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new Jt({defines:Object.assign({},Ll.defines),uniforms:Nn.clone(Ll.uniforms),vertexShader:Ll.vertexShader,fragmentShader:Ll.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new Jt({defines:Object.assign({},vA.defines),uniforms:Nn.clone(vA.uniforms),vertexShader:vA.vertexShader,fragmentShader:vA.fragmentShader,blending:Gt}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new Jt({uniforms:Nn.clone(ta.uniforms),vertexShader:ta.vertexShader,fragmentShader:ta.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:R0,blendDst:P0,blendEquation:Ji,blendSrcAlpha:R0,blendDstAlpha:P0,blendEquationAlpha:Ji}),this.fsQuad=new Bv(null),this.originalClearColor=new be}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.setRenderTarget(this.beautyRenderTarget),t.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),t.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(t,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(t,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.renderPass(t,this.blurMaterial2,this.blurRenderTarget2)),this.output){case ou.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Xo,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Xo,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e));break;case ou.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Xo,this.renderPass(t,this.copyMaterial,this.prevRenderTarget));break;case ou.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case ou.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case ou.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case ou.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=Gt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderMetalness(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.traverseVisible(a=>{a._SSRPassBackupMaterial=a.material,this._selects.includes(a)?a.material=this.metalnessOnMaterial:a.material=this.metalnessOffMaterial}),t.render(this.scene,this.camera),this.scene.traverseVisible(a=>{a.material=a._SSRPassBackupMaterial}),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(t*t+e*e),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(t,e),this.prevRenderTarget.setSize(t,e),this.ssrRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.metalnessRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.blurRenderTarget2.setSize(t,e),this.ssrMaterial.uniforms.resolution.value.set(t,e),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e),this.blurMaterial2.uniforms.resolution.value.set(t,e)}};let nre=ou;st(nre,"OUTPUT",{Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7});class a7 extends Fr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new are(n)}),this.register(function(n){return new mre(n)}),this.register(function(n){return new gre(n)}),this.register(function(n){return new Are(n)}),this.register(function(n){return new cre(n)}),this.register(function(n){return new ure(n)}),this.register(function(n){return new fre(n)}),this.register(function(n){return new hre(n)}),this.register(function(n){return new ore(n)}),this.register(function(n){return new dre(n)}),this.register(function(n){return new lre(n)}),this.register(function(n){return new pre(n)}),this.register(function(n){return new ire(n)}),this.register(function(n){return new vre(n)}),this.register(function(n){return new yre(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Zo.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Cr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){n(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Zo.decodeText(new Uint8Array(e.slice(0,4)))===oO){try{o[Vt.KHR_BINARY_GLTF]=new Ere(e)}catch(u){i&&i(u);return}s=JSON.parse(o[Vt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Zo.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Dre(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(u){case Vt.KHR_MATERIALS_UNLIT:o[u]=new sre;break;case Vt.KHR_DRACO_MESH_COMPRESSION:o[u]=new xre(s,this.dracoLoader);break;case Vt.KHR_TEXTURE_TRANSFORM:o[u]=new Cre;break;case Vt.KHR_MESH_QUANTIZATION:o[u]=new Sre;break;default:h.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function rre(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Vt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class ire{constructor(e){this.parser=e,this.name=Vt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new be(16777215);l.color!==void 0&&u.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new G9(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new U9(u),c.distance=h;break;case"spot":c=new k9(u),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Ql(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class sre{constructor(){this.name=Vt.KHR_MATERIALS_UNLIT}getMaterialType(){return Pr}extendParams(e,n,r){const i=[];e.color=new be(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class ore{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class are{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new fe(a,a)}return Promise.all(s)}}class lre{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class cre{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new be(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class ure{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class fre{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new be(a[0],a[1],a[2]),Promise.all(s)}}class hre{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class dre{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new be(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class pre{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class mre{constructor(e){this.parser=e,this.name=Vt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class gre{constructor(e){this.parser=e,this.name=Vt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Are{constructor(e){this.parser=e,this.name=Vt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class vre{constructor(e){this.name=Vt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,h=i.byteStride,d=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,h,d,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*h);return o.decodeGltfBuffer(new Uint8Array(m),u,h,d,i.mode,i.filter),m})})}else return null}}class yre{constructor(e){this.name=Vt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==ys.TRIANGLES&&c.mode!==ys.TRIANGLE_STRIP&&c.mode!==ys.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),h=u.isGroup?u.children:[u],d=c[0].count,m=[];for(const A of h){const x=new et,E=new O,g=new ur,y=new O(1,1,1),v=new _9(A.geometry,A.material,d);for(let S=0;S<d;S++)l.TRANSLATION&&E.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,S),l.SCALE&&y.fromBufferAttribute(l.SCALE,S),v.setMatrixAt(S,x.compose(E,g,y));for(const S in l)S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&A.geometry.setAttribute(S,l[S]);jt.prototype.copy.call(v,A),this.parser.assignFinalMaterial(v),m.push(v)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const oO="glTF",Ap=12,UT={JSON:1313821514,BIN:5130562};class Ere{constructor(e){this.name=Vt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Ap);if(this.header={magic:Zo.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==oO)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Ap,i=new DataView(e,Ap);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===UT.JSON){const l=new Uint8Array(e,Ap+s,o);this.content=Zo.decodeText(l)}else if(a===UT.BIN){const l=Ap+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class xre{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Vt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const h=hE[u]||u.toLowerCase();a[h]=o[u]}for(const u in e.attributes){const h=hE[u]||u.toLowerCase();if(o[u]!==void 0){const d=r.accessors[e.attributes[u]],m=_h[d.componentType];c[h]=m.name,l[h]=d.normalized===!0}}return n.getDependency("bufferView",s).then(function(u){return new Promise(function(h){i.decodeDracoFile(u,function(d){for(const m in d.attributes){const A=d.attributes[m],x=l[m];x!==void 0&&(A.normalized=x)}h(d)},a,c)})})}}class Cre{constructor(){this.name=Vt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class Sre{constructor(){this.name=Vt.KHR_MESH_QUANTIZATION}}class aO extends pd{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-n,h=(r-n)/u,d=h*h,m=d*h,A=e*c,x=A-c,E=-2*m+3*d,g=m-d,y=1-E,v=g-d+h;for(let S=0;S!==a;S++){const w=o[x+S+a],T=o[x+S+l]*u,M=o[A+S+a],P=o[A+S]*u;s[S]=y*w+v*T+E*M+g*P}return s}}const _re=new ur;class wre extends aO{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return _re.fromArray(s).normalize().toArray(s),s}}const ys={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},_h={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},GT={9728:_t,9729:fn,9984:F0,9985:J2,9986:Ah,9987:Ns},QT={33071:On,33648:kh,10497:Os},H6={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},hE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...sl.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Fl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ire={CUBICSPLINE:void 0,LINEAR:Du,STEP:Uh},z6={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Tre(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new dd({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ia})),t.DefaultMaterial}function Zc(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Ql(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Mre(t,e,n){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const h=e[c];if(h.POSITION!==void 0&&(r=!0),h.NORMAL!==void 0&&(i=!0),h.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const h=e[c];if(r){const d=h.POSITION!==void 0?n.getDependency("accessor",h.POSITION):t.attributes.position;o.push(d)}if(i){const d=h.NORMAL!==void 0?n.getDependency("accessor",h.NORMAL):t.attributes.normal;a.push(d)}if(s){const d=h.COLOR_0!==void 0?n.getDependency("accessor",h.COLOR_0):t.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],h=c[1],d=c[2];return r&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=h),s&&(t.morphAttributes.color=d),t.morphTargetsRelative=!0,t})}function bre(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Bre(t){let e;const n=t.extensions&&t.extensions[Vt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+V6(n.attributes):e=t.indices+":"+V6(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+V6(t.targets[r]);return e}function V6(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function dE(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Rre(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Pre=new et;class Dre{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new rre,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new AL(this.options.manager):this.textureLoader=new _L(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Cr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Zc(s,a,i),Ql(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Vt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Zo.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=H6[i.type],a=_h[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new tn(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=H6[i.type],c=_h[i.componentType],u=c.BYTES_PER_ELEMENT,h=u*l,d=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,A=i.normalized===!0;let x,E;if(m&&m!==h){const g=Math.floor(d/m),y="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let v=n.cache.get(y);v||(x=new c(a,g*m,i.count*m/u),v=new w3(x,m/u),n.cache.add(y,v)),E=new hc(v,l,d%m/u,A)}else a===null?x=new c(i.count*l):x=new c(a,d,i.count*l),E=new tn(x,l,A);if(i.sparse!==void 0){const g=H6.SCALAR,y=_h[i.sparse.indices.componentType],v=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,w=new y(o[1],v,i.sparse.count*g),T=new c(o[2],S,i.sparse.count*l);a!==null&&(E=new tn(E.array.slice(),E.itemSize,E.normalized));for(let M=0,P=w.length;M<P;M++){const b=w[M];if(E.setX(b,T[M*l]),l>=2&&E.setY(b,T[M*l+1]),l>=3&&E.setZ(b,T[M*l+2]),l>=4&&E.setW(b,T[M*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return E})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return u.magFilter=GT[d.magFilter]||fn,u.minFilter=GT[d.minFilter]||Ns,u.wrapS=QT[d.wrapS]||Os,u.wrapT=QT[d.wrapT]||Os,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const d=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(h){return new Promise(function(d,m){let A=d;n.isImageBitmapLoader===!0&&(A=function(x){const E=new Mn(x);E.needsUpdate=!0,d(E)}),n.load(Zo.resolveURL(h,s.path),A,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||Rre(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=u,u}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Vt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Vt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Vt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new ov,fr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new ri,fr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return dd}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Vt.KHR_MATERIALS_UNLIT]){const h=i[Vt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,n))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new be(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const d=h.baseColorFactor;a.color.fromArray(d),a.opacity=d[3]}h.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",h.baseColorTexture,3001)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=In);const u=s.alphaMode||z6.OPAQUE;if(u===z6.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===z6.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Pr&&(c.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new fe(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Pr&&(c.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Pr&&(a.emissive=new be().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Pr&&c.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),Ql(h,s),n.associations.set(h,{materials:e}),s.extensions&&Zc(i,h,s),h})}createUniqueName(e){const n=$t.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Vt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return HT(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Bre(c),h=i[u];if(h)o.push(h.promise);else{let d;c.extensions&&c.extensions[Vt.KHR_DRACO_MESH_COMPRESSION]?d=s(c):d=HT(new It,c,n),i[u]={primitive:c,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?Tre(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],h=[];for(let m=0,A=u.length;m<A;m++){const x=u[m],E=o[m];let g;const y=c[m];if(E.mode===ys.TRIANGLES||E.mode===ys.TRIANGLE_STRIP||E.mode===ys.TRIANGLE_FAN||E.mode===void 0)g=s.isSkinnedMesh===!0?new S9(x,y):new sn(x,y),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),E.mode===ys.TRIANGLE_STRIP?g.geometry=kT(g.geometry,u9):E.mode===ys.TRIANGLE_FAN&&(g.geometry=kT(g.geometry,N1));else if(E.mode===ys.LINES)g=new xo(x,y);else if(E.mode===ys.LINE_STRIP)g=new Xa(x,y);else if(E.mode===ys.LINE_LOOP)g=new w9(x,y);else if(E.mode===ys.POINTS)g=new av(x,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);Object.keys(g.geometry.morphAttributes).length>0&&bre(g,s),g.name=n.createUniqueName(s.name||"mesh_"+e),Ql(g,s),E.extensions&&Zc(i,g,E),n.assignFinalMaterial(g),h.push(g)}for(let m=0,A=h.length;m<A;m++)n.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&Zc(i,h[0],s),h[0];const d=new Ua;s.extensions&&Zc(i,d,s),n.associations.set(d,{meshes:e});for(let m=0,A=h.length;m<A;m++)d.add(h[m]);return d})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Rn(xh.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new al(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Ql(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const h=o[c];if(h){a.push(h);const d=new et;s!==null&&d.fromArray(s.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new I3(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,h=r.channels.length;u<h;u++){const d=r.channels[u],m=r.samplers[d.sampler],A=d.target,x=A.node,E=r.parameters!==void 0?r.parameters[m.input]:m.input,g=r.parameters!==void 0?r.parameters[m.output]:m.output;A.node!==void 0&&(s.push(this.getDependency("node",x)),o.push(this.getDependency("accessor",E)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(A))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const h=u[0],d=u[1],m=u[2],A=u[3],x=u[4],E=[];for(let g=0,y=h.length;g<y;g++){const v=h[g],S=d[g],w=m[g],T=A[g],M=x[g];if(v===void 0)continue;v.updateMatrix();let P;switch(Fl[M.path]){case Fl.weights:P=zh;break;case Fl.rotation:P=pc;break;case Fl.position:case Fl.scale:default:P=Vh;break}const b=v.name?v.name:v.uuid,B=T.interpolation!==void 0?Ire[T.interpolation]:Du,L=[];Fl[M.path]===Fl.weights?v.traverse(function(U){U.morphTargetInfluences&&L.push(U.name?U.name:U.uuid)}):L.push(b);let H=w.array;if(w.normalized){const U=dE(H.constructor),V=new Float32Array(H.length);for(let W=0,q=H.length;W<q;W++)V[W]=H[W]*U;H=V}for(let U=0,V=L.length;U<V;U++){const W=new P(L[U]+"."+Fl[M.path],S.array,H,B);T.interpolation==="CUBICSPLINE"&&(W.createInterpolant=function(Y){const k=this instanceof pc?wre:aO;return new k(this.times,this.values,this.getValueSize()/3,Y)},W.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),E.push(W)}}return new Wh(i,void 0,E)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],h=c[1],d=c[2];d!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(d,Pre)});for(let m=0,A=h.length;m<A;m++)u.add(h[m]);return u})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new sv:c.length>1?u=new Ua:c.length===1?u=c[0]:u=new jt,u!==c[0])for(let h=0,d=c.length;h<d;h++)u.add(c[h]);if(s.name&&(u.userData.name=s.name,u.name=o),Ql(u,s),s.extensions&&Zc(r,u,s),s.matrix!==void 0){const h=new et;h.fromArray(s.matrix),u.applyMatrix4(h)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Ua;r.name&&(s.name=i.createUniqueName(r.name)),Ql(s,r),r.extensions&&Zc(n,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,h=l.length;u<h;u++)s.add(l[u]);const c=u=>{const h=new Map;for(const[d,m]of i.associations)(d instanceof fr||d instanceof Mn)&&h.set(d,m);return u.traverse(d=>{const m=i.associations.get(d);m!=null&&h.set(d,m)}),h};return i.associations=c(s),s})}}function Lre(t,e,n){const r=e.attributes,i=new Eo;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new O(l[0],l[1],l[2]),new O(c[0],c[1],c[2])),a.normalized){const u=dE(_h[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new O,l=new O;for(let c=0,u=s.length;c<u;c++){const h=s[c];if(h.POSITION!==void 0){const d=n.json.accessors[h.POSITION],m=d.min,A=d.max;if(m!==void 0&&A!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(A[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(A[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(A[2]))),d.normalized){const x=dE(_h[d.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Qs;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function HT(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=hE[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Ql(t,e),Lre(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?Mre(t,e.targets,n):t})}const pE=class{static createButton(t,e={}){const n=document.createElement("button");function r(){let a=null;async function l(u){u.addEventListener("end",c),await t.xr.setSession(u),n.textContent="EXIT VR",a=u}function c(){a.removeEventListener("end",c),n.textContent="ENTER VR",a=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="ENTER VR",n.onmouseenter=()=>{n.style.opacity="1.0"},n.onmouseleave=()=>{n.style.opacity="0.5"},n.onclick=()=>{var u;if(a===null){const h=[e.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);(u=navigator.xr)==null||u.requestSession("immersive-vr",{...e,optionalFeatures:h}).then(l)}else a.end()}}function i(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function s(){i(),n.textContent="VR NOT SUPPORTED"}function o(a){a.style.position="absolute",a.style.bottom="20px",a.style.padding="12px 6px",a.style.border="1px solid #fff",a.style.borderRadius="4px",a.style.background="rgba(0,0,0,0.1)",a.style.color="#fff",a.style.font="normal 13px sans-serif",a.style.textAlign="center",a.style.opacity="0.5",a.style.outline="none",a.style.zIndex="999"}if("xr"in navigator)return o(n),n.id="VRButton",n.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then(a=>{a?r():s(),a&&pE.xrSessionIsGranted&&n.click()}),n;{const a=document.createElement("a");return window.isSecureContext===!1?(a.href=document.location.href.replace(/^http:/,"https:"),a.innerHTML="WEBXR NEEDS HTTPS"):(a.href="https://immersiveweb.dev/",a.innerHTML="WEBXR NOT AVAILABLE"),a.style.left="calc(50% - 90px)",a.style.width="180px",a.style.textDecoration="none",o(a),a}}static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{pE.xrSessionIsGranted=!0})}};let Fre=pE;st(Fre,"xrSessionIsGranted",!1);class lO{constructor(e){st(this,"data"),this.data=e}generateShapes(e,n=100,r){const i=[],s={letterSpacing:0,lineHeight:1,...r},o=Ore(e,n,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(i,o[a].toShapes(!1));return i}}st(lO,"isFont");st(lO,"type");function Ore(t,e,n,r){const i=Array.from(t),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,a=[];let l=0,c=0;for(let u=0;u<i.length;u++){const h=i[u];if(h===`
`)l=0,c-=o*r.lineHeight;else{const d=Nre(h,s,l,c,n);d&&(l+=d.offsetX+r.letterSpacing,a.push(d.path))}}return a}function Nre(t,e,n,r,i){const s=i.glyphs[t]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const o=new RL;let a,l,c,u,h,d,m,A;if(s.o){const x=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let E=0,g=x.length;E<g;)switch(x[E++]){case"m":a=parseInt(x[E++])*e+n,l=parseInt(x[E++])*e+r,o.moveTo(a,l);break;case"l":a=parseInt(x[E++])*e+n,l=parseInt(x[E++])*e+r,o.lineTo(a,l);break;case"q":c=parseInt(x[E++])*e+n,u=parseInt(x[E++])*e+r,h=parseInt(x[E++])*e+n,d=parseInt(x[E++])*e+r,o.quadraticCurveTo(h,d,c,u);break;case"b":c=parseInt(x[E++])*e+n,u=parseInt(x[E++])*e+r,h=parseInt(x[E++])*e+n,d=parseInt(x[E++])*e+r,m=parseInt(x[E++])*e+n,A=parseInt(x[E++])*e+r,o.bezierCurveTo(h,d,m,A,c,u);break}}return{offsetX:s.ha*e,path:o}}class kre extends Mn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=_t,this.minFilter=_t,this.wrapR=On,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}var Ure=typeof global=="object"&&global&&global.Object===Object&&global;const cO=Ure;var Gre=typeof self=="object"&&self&&self.Object===Object&&self,Qre=cO||Gre||Function("return this")();const ca=Qre;var Hre=ca.Symbol;const ks=Hre;var uO=Object.prototype,zre=uO.hasOwnProperty,Vre=uO.toString,vp=ks?ks.toStringTag:void 0;function Wre(t){var e=zre.call(t,vp),n=t[vp];try{t[vp]=void 0;var r=!0}catch{}var i=Vre.call(t);return r&&(e?t[vp]=n:delete t[vp]),i}var $re=Object.prototype,jre=$re.toString;function Kre(t){return jre.call(t)}var Jre="[object Null]",Xre="[object Undefined]",zT=ks?ks.toStringTag:void 0;function Pc(t){return t==null?t===void 0?Xre:Jre:zT&&zT in Object(t)?Wre(t):Kre(t)}function go(t){return t!=null&&typeof t=="object"}var Yre="[object Symbol]";function Rv(t){return typeof t=="symbol"||go(t)&&Pc(t)==Yre}function Q3(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var qre=Array.isArray;const Xt=qre;var Zre=1/0,VT=ks?ks.prototype:void 0,WT=VT?VT.toString:void 0;function fO(t){if(typeof t=="string")return t;if(Xt(t))return Q3(t,fO)+"";if(Rv(t))return WT?WT.call(t):"";var e=t+"";return e=="0"&&1/t==-Zre?"-0":e}var eie=/\s/;function tie(t){for(var e=t.length;e--&&eie.test(t.charAt(e)););return e}var nie=/^\s+/;function rie(t){return t&&t.slice(0,tie(t)+1).replace(nie,"")}function Us(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $T=0/0,iie=/^[-+]0x[0-9a-f]+$/i,sie=/^0b[01]+$/i,oie=/^0o[0-7]+$/i,aie=parseInt;function lie(t){if(typeof t=="number")return t;if(Rv(t))return $T;if(Us(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Us(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=rie(t);var n=sie.test(t);return n||oie.test(t)?aie(t.slice(2),n?2:8):iie.test(t)?$T:+t}var jT=1/0,cie=17976931348623157e292;function uie(t){if(!t)return t===0?t:0;if(t=lie(t),t===jT||t===-jT){var e=t<0?-1:1;return e*cie}return t===t?t:0}function H3(t){var e=uie(t),n=e%1;return e===e?n?e-n:e:0}function Kh(t){return t}var fie="[object AsyncFunction]",hie="[object Function]",die="[object GeneratorFunction]",pie="[object Proxy]";function cl(t){if(!Us(t))return!1;var e=Pc(t);return e==hie||e==die||e==fie||e==pie}var mie=ca["__core-js_shared__"];const W6=mie;var KT=function(){var t=/[^.]+$/.exec(W6&&W6.keys&&W6.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function gie(t){return!!KT&&KT in t}var Aie=Function.prototype,vie=Aie.toString;function Ju(t){if(t!=null){try{return vie.call(t)}catch{}try{return t+""}catch{}}return""}var yie=/[\\^$.*+?()[\]{}|]/g,Eie=/^\[object .+?Constructor\]$/,xie=Function.prototype,Cie=Object.prototype,Sie=xie.toString,_ie=Cie.hasOwnProperty,wie=RegExp("^"+Sie.call(_ie).replace(yie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Iie(t){if(!Us(t)||gie(t))return!1;var e=cl(t)?wie:Eie;return e.test(Ju(t))}function Tie(t,e){return t==null?void 0:t[e]}function Xu(t,e){var n=Tie(t,e);return Iie(n)?n:void 0}var Mie=Xu(ca,"WeakMap");const mE=Mie;var JT=Object.create,bie=function(){function t(){}return function(e){if(!Us(e))return{};if(JT)return JT(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Bie=bie;function Rie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function gr(){}function Pie(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Die=800,Lie=16,Fie=Date.now;function Oie(t){var e=0,n=0;return function(){var r=Fie(),i=Lie-(r-n);if(n=r,i>0){if(++e>=Die)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Nie(t){return function(){return t}}var kie=function(){try{var t=Xu(Object,"defineProperty");return t({},"",{}),t}catch{}}();const X1=kie;var Uie=X1?function(t,e){return X1(t,"toString",{configurable:!0,enumerable:!1,value:Nie(e),writable:!0})}:Kh;const Gie=Uie;var Qie=Oie(Gie);const Hie=Qie;function hO(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function dO(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function zie(t){return t!==t}function Vie(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function l7(t,e,n){return e===e?Vie(t,e,n):dO(t,zie,n)}function pO(t,e){var n=t==null?0:t.length;return!!n&&l7(t,e,0)>-1}var Wie=9007199254740991,$ie=/^(?:0|[1-9]\d*)$/;function Pv(t,e){var n=typeof t;return e=e??Wie,!!e&&(n=="number"||n!="symbol"&&$ie.test(t))&&t>-1&&t%1==0&&t<e}function c7(t,e,n){e=="__proto__"&&X1?X1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function z3(t,e){return t===e||t!==t&&e!==e}var jie=Object.prototype,Kie=jie.hasOwnProperty;function Dv(t,e,n){var r=t[e];(!(Kie.call(t,e)&&z3(r,n))||n===void 0&&!(e in t))&&c7(t,e,n)}function V3(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?c7(n,a,l):Dv(n,a,l)}return n}var XT=Math.max;function Jie(t,e,n){return e=XT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=XT(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Rie(t,this,a)}}function u7(t,e){return Hie(Jie(t,e,Kh),t+"")}var Xie=9007199254740991;function f7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Xie}function ua(t){return t!=null&&f7(t.length)&&!cl(t)}function Lv(t,e,n){if(!Us(n))return!1;var r=typeof e;return(r=="number"?ua(n)&&Pv(e,n.length):r=="string"&&e in n)?z3(n[e],t):!1}function Yie(t){return u7(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&Lv(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var qie=Object.prototype;function W3(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||qie;return t===n}function Zie(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ese="[object Arguments]";function YT(t){return go(t)&&Pc(t)==ese}var mO=Object.prototype,tse=mO.hasOwnProperty,nse=mO.propertyIsEnumerable,rse=YT(function(){return arguments}())?YT:function(t){return go(t)&&tse.call(t,"callee")&&!nse.call(t,"callee")};const Fv=rse;function ise(){return!1}var gO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qT=gO&&typeof module=="object"&&module&&!module.nodeType&&module,sse=qT&&qT.exports===gO,ZT=sse?ca.Buffer:void 0,ose=ZT?ZT.isBuffer:void 0,ase=ose||ise;const Z0=ase;var lse="[object Arguments]",cse="[object Array]",use="[object Boolean]",fse="[object Date]",hse="[object Error]",dse="[object Function]",pse="[object Map]",mse="[object Number]",gse="[object Object]",Ase="[object RegExp]",vse="[object Set]",yse="[object String]",Ese="[object WeakMap]",xse="[object ArrayBuffer]",Cse="[object DataView]",Sse="[object Float32Array]",_se="[object Float64Array]",wse="[object Int8Array]",Ise="[object Int16Array]",Tse="[object Int32Array]",Mse="[object Uint8Array]",bse="[object Uint8ClampedArray]",Bse="[object Uint16Array]",Rse="[object Uint32Array]",_n={};_n[Sse]=_n[_se]=_n[wse]=_n[Ise]=_n[Tse]=_n[Mse]=_n[bse]=_n[Bse]=_n[Rse]=!0;_n[lse]=_n[cse]=_n[xse]=_n[use]=_n[Cse]=_n[fse]=_n[hse]=_n[dse]=_n[pse]=_n[mse]=_n[gse]=_n[Ase]=_n[vse]=_n[yse]=_n[Ese]=!1;function Pse(t){return go(t)&&f7(t.length)&&!!_n[Pc(t)]}function $3(t){return function(e){return t(e)}}var AO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,i0=AO&&typeof module=="object"&&module&&!module.nodeType&&module,Dse=i0&&i0.exports===AO,$6=Dse&&cO.process,Lse=function(){try{var t=i0&&i0.require&&i0.require("util").types;return t||$6&&$6.binding&&$6.binding("util")}catch{}}();const gc=Lse;var eM=gc&&gc.isTypedArray,Fse=eM?$3(eM):Pse;const h7=Fse;var Ose=Object.prototype,Nse=Ose.hasOwnProperty;function vO(t,e){var n=Xt(t),r=!n&&Fv(t),i=!n&&!r&&Z0(t),s=!n&&!r&&!i&&h7(t),o=n||r||i||s,a=o?Zie(t.length,String):[],l=a.length;for(var c in t)(e||Nse.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Pv(c,l)))&&a.push(c);return a}function yO(t,e){return function(n){return t(e(n))}}var kse=yO(Object.keys,Object);const Use=kse;var Gse=Object.prototype,Qse=Gse.hasOwnProperty;function EO(t){if(!W3(t))return Use(t);var e=[];for(var n in Object(t))Qse.call(t,n)&&n!="constructor"&&e.push(n);return e}function ts(t){return ua(t)?vO(t):EO(t)}var Hse=Object.prototype,zse=Hse.hasOwnProperty,Vse=Yie(function(t,e){if(W3(e)||ua(e)){V3(e,ts(e),t);return}for(var n in e)zse.call(e,n)&&Dv(t,n,e[n])});const ns=Vse;function Wse(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var $se=Object.prototype,jse=$se.hasOwnProperty;function Kse(t){if(!Us(t))return Wse(t);var e=W3(t),n=[];for(var r in t)r=="constructor"&&(e||!jse.call(t,r))||n.push(r);return n}function Ov(t){return ua(t)?vO(t,!0):Kse(t)}var Jse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xse=/^\w*$/;function d7(t,e){if(Xt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Rv(t)?!0:Xse.test(t)||!Jse.test(t)||e!=null&&t in Object(e)}var Yse=Xu(Object,"create");const e3=Yse;function qse(){this.__data__=e3?e3(null):{},this.size=0}function Zse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var eoe="__lodash_hash_undefined__",toe=Object.prototype,noe=toe.hasOwnProperty;function roe(t){var e=this.__data__;if(e3){var n=e[t];return n===eoe?void 0:n}return noe.call(e,t)?e[t]:void 0}var ioe=Object.prototype,soe=ioe.hasOwnProperty;function ooe(t){var e=this.__data__;return e3?e[t]!==void 0:soe.call(e,t)}var aoe="__lodash_hash_undefined__";function loe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=e3&&e===void 0?aoe:e,this}function Nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nu.prototype.clear=qse;Nu.prototype.delete=Zse;Nu.prototype.get=roe;Nu.prototype.has=ooe;Nu.prototype.set=loe;function coe(){this.__data__=[],this.size=0}function Nv(t,e){for(var n=t.length;n--;)if(z3(t[n][0],e))return n;return-1}var uoe=Array.prototype,foe=uoe.splice;function hoe(t){var e=this.__data__,n=Nv(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():foe.call(e,n,1),--this.size,!0}function doe(t){var e=this.__data__,n=Nv(e,t);return n<0?void 0:e[n][1]}function poe(t){return Nv(this.__data__,t)>-1}function moe(t,e){var n=this.__data__,r=Nv(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ul(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ul.prototype.clear=coe;ul.prototype.delete=hoe;ul.prototype.get=doe;ul.prototype.has=poe;ul.prototype.set=moe;var goe=Xu(ca,"Map");const t3=goe;function Aoe(){this.size=0,this.__data__={hash:new Nu,map:new(t3||ul),string:new Nu}}function voe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function kv(t,e){var n=t.__data__;return voe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function yoe(t){var e=kv(this,t).delete(t);return this.size-=e?1:0,e}function Eoe(t){return kv(this,t).get(t)}function xoe(t){return kv(this,t).has(t)}function Coe(t,e){var n=kv(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function fl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fl.prototype.clear=Aoe;fl.prototype.delete=yoe;fl.prototype.get=Eoe;fl.prototype.has=xoe;fl.prototype.set=Coe;var Soe="Expected a function";function p7(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Soe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(p7.Cache||fl),n}p7.Cache=fl;var _oe=500;function woe(t){var e=p7(t,function(r){return n.size===_oe&&n.clear(),r}),n=e.cache;return e}var Ioe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Toe=/\\(\\)?/g,Moe=woe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ioe,function(n,r,i,s){e.push(i?s.replace(Toe,"$1"):r||n)}),e});const boe=Moe;function Boe(t){return t==null?"":fO(t)}function Uv(t,e){return Xt(t)?t:d7(t,e)?[t]:boe(Boe(t))}var Roe=1/0;function j3(t){if(typeof t=="string"||Rv(t))return t;var e=t+"";return e=="0"&&1/t==-Roe?"-0":e}function m7(t,e){e=Uv(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[j3(e[n++])];return n&&n==r?t:void 0}function Poe(t,e,n){var r=t==null?void 0:m7(t,e);return r===void 0?n:r}function g7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var tM=ks?ks.isConcatSpreadable:void 0;function Doe(t){return Xt(t)||Fv(t)||!!(tM&&t&&t[tM])}function Gv(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=Doe),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?Gv(a,e-1,n,r,i):g7(i,a):r||(i[i.length]=a)}return i}function co(t){var e=t==null?0:t.length;return e?Gv(t,1):[]}var Loe=yO(Object.getPrototypeOf,Object);const xO=Loe;function CO(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function Foe(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Ooe(){this.__data__=new ul,this.size=0}function Noe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function koe(t){return this.__data__.get(t)}function Uoe(t){return this.__data__.has(t)}var Goe=200;function Qoe(t,e){var n=this.__data__;if(n instanceof ul){var r=n.__data__;if(!t3||r.length<Goe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new fl(r)}return n.set(t,e),this.size=n.size,this}function na(t){var e=this.__data__=new ul(t);this.size=e.size}na.prototype.clear=Ooe;na.prototype.delete=Noe;na.prototype.get=koe;na.prototype.has=Uoe;na.prototype.set=Qoe;function Hoe(t,e){return t&&V3(e,ts(e),t)}function zoe(t,e){return t&&V3(e,Ov(e),t)}var SO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nM=SO&&typeof module=="object"&&module&&!module.nodeType&&module,Voe=nM&&nM.exports===SO,rM=Voe?ca.Buffer:void 0,iM=rM?rM.allocUnsafe:void 0;function Woe(t,e){if(e)return t.slice();var n=t.length,r=iM?iM(n):new t.constructor(n);return t.copy(r),r}function A7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function _O(){return[]}var $oe=Object.prototype,joe=$oe.propertyIsEnumerable,sM=Object.getOwnPropertySymbols,Koe=sM?function(t){return t==null?[]:(t=Object(t),A7(sM(t),function(e){return joe.call(t,e)}))}:_O;const v7=Koe;function Joe(t,e){return V3(t,v7(t),e)}var Xoe=Object.getOwnPropertySymbols,Yoe=Xoe?function(t){for(var e=[];t;)g7(e,v7(t)),t=xO(t);return e}:_O;const wO=Yoe;function qoe(t,e){return V3(t,wO(t),e)}function IO(t,e,n){var r=e(t);return Xt(t)?r:g7(r,n(t))}function gE(t){return IO(t,ts,v7)}function TO(t){return IO(t,Ov,wO)}var Zoe=Xu(ca,"DataView");const AE=Zoe;var eae=Xu(ca,"Promise");const vE=eae;var tae=Xu(ca,"Set");const wh=tae;var oM="[object Map]",nae="[object Object]",aM="[object Promise]",lM="[object Set]",cM="[object WeakMap]",uM="[object DataView]",rae=Ju(AE),iae=Ju(t3),sae=Ju(vE),oae=Ju(wh),aae=Ju(mE),au=Pc;(AE&&au(new AE(new ArrayBuffer(1)))!=uM||t3&&au(new t3)!=oM||vE&&au(vE.resolve())!=aM||wh&&au(new wh)!=lM||mE&&au(new mE)!=cM)&&(au=function(t){var e=Pc(t),n=e==nae?t.constructor:void 0,r=n?Ju(n):"";if(r)switch(r){case rae:return uM;case iae:return oM;case sae:return aM;case oae:return lM;case aae:return cM}return e});const Jh=au;var lae=Object.prototype,cae=lae.hasOwnProperty;function uae(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&cae.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var fae=ca.Uint8Array;const Y1=fae;function y7(t){var e=new t.constructor(t.byteLength);return new Y1(e).set(new Y1(t)),e}function hae(t,e){var n=e?y7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var dae=/\w*$/;function pae(t){var e=new t.constructor(t.source,dae.exec(t));return e.lastIndex=t.lastIndex,e}var fM=ks?ks.prototype:void 0,hM=fM?fM.valueOf:void 0;function mae(t){return hM?Object(hM.call(t)):{}}function gae(t,e){var n=e?y7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Aae="[object Boolean]",vae="[object Date]",yae="[object Map]",Eae="[object Number]",xae="[object RegExp]",Cae="[object Set]",Sae="[object String]",_ae="[object Symbol]",wae="[object ArrayBuffer]",Iae="[object DataView]",Tae="[object Float32Array]",Mae="[object Float64Array]",bae="[object Int8Array]",Bae="[object Int16Array]",Rae="[object Int32Array]",Pae="[object Uint8Array]",Dae="[object Uint8ClampedArray]",Lae="[object Uint16Array]",Fae="[object Uint32Array]";function Oae(t,e,n){var r=t.constructor;switch(e){case wae:return y7(t);case Aae:case vae:return new r(+t);case Iae:return hae(t,n);case Tae:case Mae:case bae:case Bae:case Rae:case Pae:case Dae:case Lae:case Fae:return gae(t,n);case yae:return new r;case Eae:case Sae:return new r(t);case xae:return pae(t);case Cae:return new r;case _ae:return mae(t)}}function Nae(t){return typeof t.constructor=="function"&&!W3(t)?Bie(xO(t)):{}}var kae="[object Map]";function Uae(t){return go(t)&&Jh(t)==kae}var dM=gc&&gc.isMap,Gae=dM?$3(dM):Uae;const Qae=Gae;var Hae="[object Set]";function zae(t){return go(t)&&Jh(t)==Hae}var pM=gc&&gc.isSet,Vae=pM?$3(pM):zae;const Wae=Vae;var $ae=1,jae=2,Kae=4,MO="[object Arguments]",Jae="[object Array]",Xae="[object Boolean]",Yae="[object Date]",qae="[object Error]",bO="[object Function]",Zae="[object GeneratorFunction]",ele="[object Map]",tle="[object Number]",BO="[object Object]",nle="[object RegExp]",rle="[object Set]",ile="[object String]",sle="[object Symbol]",ole="[object WeakMap]",ale="[object ArrayBuffer]",lle="[object DataView]",cle="[object Float32Array]",ule="[object Float64Array]",fle="[object Int8Array]",hle="[object Int16Array]",dle="[object Int32Array]",ple="[object Uint8Array]",mle="[object Uint8ClampedArray]",gle="[object Uint16Array]",Ale="[object Uint32Array]",gn={};gn[MO]=gn[Jae]=gn[ale]=gn[lle]=gn[Xae]=gn[Yae]=gn[cle]=gn[ule]=gn[fle]=gn[hle]=gn[dle]=gn[ele]=gn[tle]=gn[BO]=gn[nle]=gn[rle]=gn[ile]=gn[sle]=gn[ple]=gn[mle]=gn[gle]=gn[Ale]=!0;gn[qae]=gn[bO]=gn[ole]=!1;function i1(t,e,n,r,i,s){var o,a=e&$ae,l=e&jae,c=e&Kae;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Us(t))return t;var u=Xt(t);if(u){if(o=uae(t),!a)return Pie(t,o)}else{var h=Jh(t),d=h==bO||h==Zae;if(Z0(t))return Woe(t,a);if(h==BO||h==MO||d&&!i){if(o=l||d?{}:Nae(t),!a)return l?qoe(t,zoe(o,t)):Joe(t,Hoe(o,t))}else{if(!gn[h])return i?t:{};o=Oae(t,h,a)}}s||(s=new na);var m=s.get(t);if(m)return m;s.set(t,o),Wae(t)?t.forEach(function(E){o.add(i1(E,e,n,E,t,s))}):Qae(t)&&t.forEach(function(E,g){o.set(g,i1(E,e,n,g,t,s))});var A=c?l?TO:gE:l?Ov:ts,x=u?void 0:A(t);return hO(x||t,function(E,g){x&&(g=E,E=t[g]),Dv(o,g,i1(E,e,n,g,t,s))}),o}var vle=4;function ni(t){return i1(t,vle)}function K3(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var yle="__lodash_hash_undefined__";function Ele(t){return this.__data__.set(t,yle),this}function xle(t){return this.__data__.has(t)}function Xh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new fl;++e<n;)this.add(t[e])}Xh.prototype.add=Xh.prototype.push=Ele;Xh.prototype.has=xle;function RO(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function E7(t,e){return t.has(e)}var Cle=1,Sle=2;function PO(t,e,n,r,i,s){var o=n&Cle,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var h=-1,d=!0,m=n&Sle?new Xh:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var A=t[h],x=e[h];if(r)var E=o?r(x,A,h,e,t,s):r(A,x,h,t,e,s);if(E!==void 0){if(E)continue;d=!1;break}if(m){if(!RO(e,function(g,y){if(!E7(m,y)&&(A===g||i(A,g,n,r,s)))return m.push(y)})){d=!1;break}}else if(!(A===x||i(A,x,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function _le(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function x7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var wle=1,Ile=2,Tle="[object Boolean]",Mle="[object Date]",ble="[object Error]",Ble="[object Map]",Rle="[object Number]",Ple="[object RegExp]",Dle="[object Set]",Lle="[object String]",Fle="[object Symbol]",Ole="[object ArrayBuffer]",Nle="[object DataView]",mM=ks?ks.prototype:void 0,j6=mM?mM.valueOf:void 0;function kle(t,e,n,r,i,s,o){switch(n){case Nle:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ole:return!(t.byteLength!=e.byteLength||!s(new Y1(t),new Y1(e)));case Tle:case Mle:case Rle:return z3(+t,+e);case ble:return t.name==e.name&&t.message==e.message;case Ple:case Lle:return t==e+"";case Ble:var a=_le;case Dle:var l=r&wle;if(a||(a=x7),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=Ile,o.set(t,e);var u=PO(a(t),a(e),r,i,s,o);return o.delete(t),u;case Fle:if(j6)return j6.call(t)==j6.call(e)}return!1}var Ule=1,Gle=Object.prototype,Qle=Gle.hasOwnProperty;function Hle(t,e,n,r,i,s){var o=n&Ule,a=gE(t),l=a.length,c=gE(e),u=c.length;if(l!=u&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:Qle.call(e,d)))return!1}var m=s.get(t),A=s.get(e);if(m&&A)return m==e&&A==t;var x=!0;s.set(t,e),s.set(e,t);for(var E=o;++h<l;){d=a[h];var g=t[d],y=e[d];if(r)var v=o?r(y,g,d,e,t,s):r(g,y,d,t,e,s);if(!(v===void 0?g===y||i(g,y,n,r,s):v)){x=!1;break}E||(E=d=="constructor")}if(x&&!E){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(x=!1)}return s.delete(t),s.delete(e),x}var zle=1,gM="[object Arguments]",AM="[object Array]",yA="[object Object]",Vle=Object.prototype,vM=Vle.hasOwnProperty;function Wle(t,e,n,r,i,s){var o=Xt(t),a=Xt(e),l=o?AM:Jh(t),c=a?AM:Jh(e);l=l==gM?yA:l,c=c==gM?yA:c;var u=l==yA,h=c==yA,d=l==c;if(d&&Z0(t)){if(!Z0(e))return!1;o=!0,u=!1}if(d&&!u)return s||(s=new na),o||h7(t)?PO(t,e,n,r,i,s):kle(t,e,l,n,r,i,s);if(!(n&zle)){var m=u&&vM.call(t,"__wrapped__"),A=h&&vM.call(e,"__wrapped__");if(m||A){var x=m?t.value():t,E=A?e.value():e;return s||(s=new na),i(x,E,n,r,s)}}return d?(s||(s=new na),Hle(t,e,n,r,i,s)):!1}function C7(t,e,n,r,i){return t===e?!0:t==null||e==null||!go(t)&&!go(e)?t!==t&&e!==e:Wle(t,e,n,r,C7,i)}var $le=1,jle=2;function Kle(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var h=new na;if(r)var d=r(c,u,l,t,e,h);if(!(d===void 0?C7(u,c,$le|jle,r,h):d))return!1}}return!0}function DO(t){return t===t&&!Us(t)}function Jle(t){for(var e=ts(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,DO(i)]}return e}function LO(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Xle(t){var e=Jle(t);return e.length==1&&e[0][2]?LO(e[0][0],e[0][1]):function(n){return n===t||Kle(n,t,e)}}function Yle(t,e){return t!=null&&e in Object(t)}function FO(t,e,n){e=Uv(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=j3(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&f7(i)&&Pv(o,i)&&(Xt(t)||Fv(t)))}function qle(t,e){return t!=null&&FO(t,e,Yle)}var Zle=1,ece=2;function tce(t,e){return d7(t)&&DO(e)?LO(j3(t),e):function(n){var r=Poe(n,t);return r===void 0&&r===e?qle(n,t):C7(e,r,Zle|ece)}}function nce(t){return function(e){return e==null?void 0:e[t]}}function rce(t){return function(e){return m7(e,t)}}function ice(t){return d7(t)?nce(j3(t)):rce(t)}function fa(t){return typeof t=="function"?t:t==null?Kh:typeof t=="object"?Xt(t)?tce(t[0],t[1]):Xle(t):ice(t)}function sce(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function oce(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var ace=oce();const lce=ace;function cce(t,e){return t&&lce(t,e,ts)}function uce(t,e){return function(n,r){if(n==null)return n;if(!ua(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var fce=uce(cce);const Yu=fce;function hce(t,e,n,r){return Yu(t,function(i,s,o){e(r,i,n(i),o)}),r}function dce(t,e){return function(n,r){var i=Xt(n)?sce:hce,s=e?e():{};return i(n,t,fa(r),s)}}var OO=Object.prototype,pce=OO.hasOwnProperty,mce=u7(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Lv(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=Ov(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||z3(u,OO[c])&&!pce.call(t,c))&&(t[c]=s[c])}return t});const S7=mce;function yM(t){return go(t)&&ua(t)}function NO(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var gce=200;function Ace(t,e,n,r){var i=-1,s=pO,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Q3(e,$3(n))),r?(s=NO,o=!1):e.length>=gce&&(s=E7,o=!1,e=new Xh(e));e:for(;++i<a;){var u=t[i],h=n==null?u:n(u);if(u=r||u!==0?u:0,o&&h===h){for(var d=c;d--;)if(e[d]===h)continue e;l.push(u)}else s(e,h,r)||l.push(u)}return l}var vce=u7(function(t,e){return yM(t)?Ace(t,Gv(e,1,yM,!0)):[]});const Qv=vce;function Yh(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function kr(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:H3(e),CO(t,e<0?0:e,r)):[]}function n3(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:H3(e),e=r-e,CO(t,0,e<0?0:e)):[]}function yce(t){return typeof t=="function"?t:Kh}function mt(t,e){var n=Xt(t)?hO:Yu;return n(t,yce(e))}function Ece(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function xce(t,e){var n=!0;return Yu(t,function(r,i,s){return n=!!e(r,i,s),n}),n}function uo(t,e,n){var r=Xt(t)?Ece:xce;return n&&Lv(t,e,n)&&(e=void 0),r(t,fa(e))}function kO(t,e){var n=[];return Yu(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function zs(t,e){var n=Xt(t)?A7:kO;return n(t,fa(e))}function Cce(t){return function(e,n,r){var i=Object(e);if(!ua(e)){var s=fa(n);e=ts(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var Sce=Math.max;function _ce(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:H3(n);return i<0&&(i=Sce(r+i,0)),dO(t,fa(e),i)}var wce=Cce(_ce);const qh=wce;function Ao(t){return t&&t.length?t[0]:void 0}function Ice(t,e){var n=-1,r=ua(t)?Array(t.length):[];return Yu(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function ct(t,e){var n=Xt(t)?Q3:Ice;return n(t,fa(e))}function Ps(t,e){return Gv(ct(t,e),1)}var Tce=Object.prototype,Mce=Tce.hasOwnProperty,bce=dce(function(t,e,n){Mce.call(t,n)?t[n].push(e):c7(t,n,[e])});const Bce=bce;var Rce=Object.prototype,Pce=Rce.hasOwnProperty;function Dce(t,e){return t!=null&&Pce.call(t,e)}function dt(t,e){return t!=null&&FO(t,e,Dce)}var Lce="[object String]";function Ni(t){return typeof t=="string"||!Xt(t)&&go(t)&&Pc(t)==Lce}function Fce(t,e){return Q3(e,function(n){return t[n]})}function vr(t){return t==null?[]:Fce(t,ts(t))}var Oce=Math.max;function Ei(t,e,n,r){t=ua(t)?t:vr(t),n=n&&!r?H3(n):0;var i=t.length;return n<0&&(n=Oce(i+n,0)),Ni(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&l7(t,e,n)>-1}var Nce=Math.max;function EM(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:H3(n);return i<0&&(i=Nce(r+i,0)),l7(t,e,i)}var kce="[object Map]",Uce="[object Set]",Gce=Object.prototype,Qce=Gce.hasOwnProperty;function yn(t){if(t==null)return!0;if(ua(t)&&(Xt(t)||typeof t=="string"||typeof t.splice=="function"||Z0(t)||h7(t)||Fv(t)))return!t.length;var e=Jh(t);if(e==kce||e==Uce)return!t.size;if(W3(t))return!EO(t).length;for(var n in t)if(Qce.call(t,n))return!1;return!0}var Hce="[object RegExp]";function zce(t){return go(t)&&Pc(t)==Hce}var xM=gc&&gc.isRegExp,Vce=xM?$3(xM):zce;const Ya=Vce;function qa(t){return t===void 0}var Wce="Expected a function";function $ce(t){if(typeof t!="function")throw new TypeError(Wce);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function jce(t,e,n,r){if(!Us(t))return t;e=Uv(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=j3(e[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var u=a[l];c=r?r(u,l,a):void 0,c===void 0&&(c=Us(u)?u:Pv(e[i+1])?[]:{})}Dv(a,l,c),a=a[l]}return t}function Kce(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=m7(t,o);n(a,o)&&jce(s,Uv(o,t),a)}return s}function Io(t,e){if(t==null)return{};var n=Q3(TO(t),function(r){return[r]});return e=fa(e),Kce(t,n,function(r,i){return e(r,i[0])})}function Jce(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function rs(t,e,n){var r=Xt(t)?Foe:Jce,i=arguments.length<3;return r(t,fa(e),n,i,Yu)}function Hv(t,e){var n=Xt(t)?A7:kO;return n(t,$ce(fa(e)))}function Xce(t,e){var n;return Yu(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function UO(t,e,n){var r=Xt(t)?RO:Xce;return n&&Lv(t,e,n)&&(e=void 0),r(t,fa(e))}var Yce=1/0,qce=wh&&1/x7(new wh([,-0]))[1]==Yce?function(t){return new wh(t)}:gr;const Zce=qce;var eue=200;function tue(t,e,n){var r=-1,i=pO,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=NO;else if(s>=eue){var c=e?null:Zce(t);if(c)return x7(c);o=!1,i=E7,l=new Xh}else l=e?[]:a;e:for(;++r<s;){var u=t[r],h=e?e(u):u;if(u=n||u!==0?u:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function _7(t){return t&&t.length?tue(t):[]}function yE(t){console&&console.error&&console.error(`Error: ${t}`)}function GO(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function QO(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function HO(t){function e(){}e.prototype=t;const n=new e;function r(){return typeof n.bar}return r(),r(),t}function nue(t){return rue(t)?t.LABEL:t.name}function rue(t){return Ni(t.LABEL)&&t.LABEL!==""}class ha{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),mt(this.definition,n=>{n.accept(e)})}}class is extends ha{constructor(e){super([]),this.idx=1,ns(this,Io(e,n=>n!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}let Ad=class extends ha{constructor(e){super(e.definition),this.orgText="",ns(this,Io(e,n=>n!==void 0))}};class ki extends ha{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,ns(this,Io(e,n=>n!==void 0))}}class Oi extends ha{constructor(e){super(e.definition),this.idx=1,ns(this,Io(e,n=>n!==void 0))}}class da extends ha{constructor(e){super(e.definition),this.idx=1,ns(this,Io(e,n=>n!==void 0))}}class pa extends ha{constructor(e){super(e.definition),this.idx=1,ns(this,Io(e,n=>n!==void 0))}}class Er extends ha{constructor(e){super(e.definition),this.idx=1,ns(this,Io(e,n=>n!==void 0))}}class To extends ha{constructor(e){super(e.definition),this.idx=1,ns(this,Io(e,n=>n!==void 0))}}class Mo extends ha{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,ns(this,Io(e,n=>n!==void 0))}}class Qn{constructor(e){this.idx=1,ns(this,Io(e,n=>n!==void 0))}accept(e){e.visit(this)}}function iue(t){return ct(t,s1)}function s1(t){function e(n){return ct(n,s1)}if(t instanceof is){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Ni(t.label)&&(n.label=t.label),n}else{if(t instanceof ki)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Oi)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof da)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof pa)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:s1(new Qn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof To)return{type:"RepetitionWithSeparator",idx:t.idx,separator:s1(new Qn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Er)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof Mo)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof Qn){const n={type:"Terminal",name:t.terminalType.name,label:nue(t.terminalType),idx:t.idx};Ni(t.label)&&(n.terminalLabel=t.label);const r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Ya(r)?r.source:r),n}else{if(t instanceof Ad)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class vd{visit(e){const n=e;switch(n.constructor){case is:return this.visitNonTerminal(n);case ki:return this.visitAlternative(n);case Oi:return this.visitOption(n);case da:return this.visitRepetitionMandatory(n);case pa:return this.visitRepetitionMandatoryWithSeparator(n);case To:return this.visitRepetitionWithSeparator(n);case Er:return this.visitRepetition(n);case Mo:return this.visitAlternation(n);case Qn:return this.visitTerminal(n);case Ad:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function sue(t){return t instanceof ki||t instanceof Oi||t instanceof Er||t instanceof da||t instanceof pa||t instanceof To||t instanceof Qn||t instanceof Ad}function q1(t,e=[]){return t instanceof Oi||t instanceof Er||t instanceof To?!0:t instanceof Mo?UO(t.definition,r=>q1(r,e)):t instanceof is&&Ei(e,t)?!1:t instanceof ha?(t instanceof is&&e.push(t),uo(t.definition,r=>q1(r,e))):!1}function oue(t){return t instanceof Mo}function zo(t){if(t instanceof is)return"SUBRULE";if(t instanceof Oi)return"OPTION";if(t instanceof Mo)return"OR";if(t instanceof da)return"AT_LEAST_ONE";if(t instanceof pa)return"AT_LEAST_ONE_SEP";if(t instanceof To)return"MANY_SEP";if(t instanceof Er)return"MANY";if(t instanceof Qn)return"CONSUME";throw Error("non exhaustive match")}class zv{walk(e,n=[]){mt(e.definition,(r,i)=>{const s=kr(e.definition,i+1);if(r instanceof is)this.walkProdRef(r,s,n);else if(r instanceof Qn)this.walkTerminal(r,s,n);else if(r instanceof ki)this.walkFlat(r,s,n);else if(r instanceof Oi)this.walkOption(r,s,n);else if(r instanceof da)this.walkAtLeastOne(r,s,n);else if(r instanceof pa)this.walkAtLeastOneSep(r,s,n);else if(r instanceof To)this.walkManySep(r,s,n);else if(r instanceof Er)this.walkMany(r,s,n);else if(r instanceof Mo)this.walkOr(r,s,n);else throw Error("non exhaustive match")})}walkTerminal(e,n,r){}walkProdRef(e,n,r){}walkFlat(e,n,r){const i=n.concat(r);this.walk(e,i)}walkOption(e,n,r){const i=n.concat(r);this.walk(e,i)}walkAtLeastOne(e,n,r){const i=[new Oi({definition:e.definition})].concat(n,r);this.walk(e,i)}walkAtLeastOneSep(e,n,r){const i=CM(e,n,r);this.walk(e,i)}walkMany(e,n,r){const i=[new Oi({definition:e.definition})].concat(n,r);this.walk(e,i)}walkManySep(e,n,r){const i=CM(e,n,r);this.walk(e,i)}walkOr(e,n,r){const i=n.concat(r);mt(e.definition,s=>{const o=new ki({definition:[s]});this.walk(o,i)})}}function CM(t,e,n){return[new Oi({definition:[new Qn({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function J3(t){if(t instanceof is)return J3(t.referencedRule);if(t instanceof Qn)return cue(t);if(sue(t))return aue(t);if(oue(t))return lue(t);throw Error("non exhaustive match")}function aue(t){let e=[];const n=t.definition;let r=0,i=n.length>r,s,o=!0;for(;i&&o;)s=n[r],o=q1(s),e=e.concat(J3(s)),r=r+1,i=n.length>r;return _7(e)}function lue(t){const e=ct(t.definition,n=>J3(n));return _7(co(e))}function cue(t){return[t.terminalType]}const zO="_~IN~_";class uue extends zv{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,r){}walkProdRef(e,n,r){const i=hue(e.referencedRule,e.idx)+this.topProd.name,s=n.concat(r),o=new ki({definition:s}),a=J3(o);this.follows[i]=a}}function fue(t){const e={};return mt(t,n=>{const r=new uue(n).startWalking();ns(e,r)}),e}function hue(t,e){return t.name+e+zO}function gt(t){return t.charCodeAt(0)}function K6(t,e){Array.isArray(t)?t.forEach(function(n){e.push(n)}):e.push(t)}function yp(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function Gf(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function due(){throw Error("Internal Error - Should never get here!")}function SM(t){return t.type==="Character"}const Z1=[];for(let t=gt("0");t<=gt("9");t++)Z1.push(t);const e2=[gt("_")].concat(Z1);for(let t=gt("a");t<=gt("z");t++)e2.push(t);for(let t=gt("A");t<=gt("Z");t++)e2.push(t);const _M=[gt(" "),gt("\f"),gt(`
`),gt("\r"),gt("	"),gt("\v"),gt("	"),gt(""),gt(""),gt(""),gt(""),gt(""),gt(""),gt(""),gt(""),gt(""),gt(""),gt(""),gt(""),gt(""),gt("\u2028"),gt("\u2029"),gt(""),gt(""),gt(""),gt("\uFEFF")],pue=/[0-9a-fA-F]/,EA=/[0-9]/,mue=/[1-9]/;class gue{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":yp(r,"global");break;case"i":yp(r,"ignoreCase");break;case"m":yp(r,"multiLine");break;case"u":yp(r,"unicode");break;case"y":yp(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}Gf(n);const r=this.disjunction();return this.consumeChar(")"),{type:n,value:r,loc:this.loc(e)}}return due()}quantifier(e=!1){let n;const r=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),n={atLeast:i,atMost:s}):n={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&n===void 0)return;Gf(n);break}if(!(e===!0&&n===void 0)&&Gf(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(r),n}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),Gf(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[gt(`
`),gt("\r"),gt("\u2028"),gt("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=Z1;break;case"D":e=Z1,n=!0;break;case"s":e=_M;break;case"S":e=_M,n=!0;break;case"w":e=e2;break;case"W":e=e2,n=!0;break}if(Gf(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=gt("\f");break;case"n":e=gt(`
`);break;case"r":e=gt("\r");break;case"t":e=gt("	");break;case"v":e=gt("\v");break}if(Gf(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:gt("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:gt(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:gt(e)}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const r=this.classAtom();if(r.type,SM(r)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,SM(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else K6(r.value,e),e.push(gt("-")),K6(i.value,e)}else K6(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:gt("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:e,value:n};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(mue.test(e)===!1)throw Error("Expecting a positive integer");for(;EA.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(EA.test(e)===!1)throw Error("Expecting an integer");for(;EA.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:gt(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return EA.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let i=0;i<e;i++){const s=this.popChar();if(pue.test(s)===!1)throw Error("Expecting a HexDecimal digits");n+=s}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class w7{visitChildren(e){for(const n in e){const r=e[n];e.hasOwnProperty(n)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let o1={};const Aue=new gue;function Vv(t){const e=t.toString();if(o1.hasOwnProperty(e))return o1[e];{const n=Aue.pattern(e);return o1[e]=n,n}}function vue(){o1={}}const VO="Complement Sets are not supported for first char optimization",t2=`Unable to use "first char" lexer optimizations:
`;function yue(t,e=!1){try{const n=Vv(t);return EE(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===VO)e&&GO(`${t2}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";e&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),yE(`${t2}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function EE(t,e,n){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)EE(t.value[i],e,n);break;case"Alternative":const r=t.value;for(let i=0;i<r.length;i++){const s=r[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const o=s;switch(o.type){case"Character":xA(o.value,e,n);break;case"Set":if(o.complement===!0)throw Error(VO);mt(o.value,l=>{if(typeof l=="number")xA(l,e,n);else{const c=l;if(n===!0)for(let u=c.from;u<=c.to;u++)xA(u,e,n);else{for(let u=c.from;u<=c.to&&u<Lp;u++)xA(u,e,n);if(c.to>=Lp){const u=c.from>=Lp?c.from:Lp,h=c.to,d=Ac(u),m=Ac(h);for(let A=d;A<=m;A++)e[A]=A}}}});break;case"Group":EE(o.value,e,n);break;default:throw Error("Non Exhaustive Match")}const a=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&xE(o)===!1||o.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return vr(e)}function xA(t,e,n){const r=Ac(t);e[r]=r,n===!0&&Eue(t,e)}function Eue(t,e){const n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){const i=Ac(r.charCodeAt(0));e[i]=i}else{const i=n.toLowerCase();if(i!==n){const s=Ac(i.charCodeAt(0));e[s]=s}}}function wM(t,e){return qh(t.value,n=>{if(typeof n=="number")return Ei(e,n);{const r=n;return qh(e,i=>r.from<=i&&i<=r.to)!==void 0}})}function xE(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?Xt(t.value)?uo(t.value,xE):xE(t.value):!1}class xue extends w7{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Ei(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?wM(e,this.targetCharCodes)===void 0&&(this.found=!0):wM(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function I7(t,e){if(e instanceof RegExp){const n=Vv(e),r=new xue(t);return r.visit(n),r.found}else return qh(e,n=>Ei(t,n.charCodeAt(0)))!==void 0}const ku="PATTERN",Dp="defaultMode",CA="modes";let WO=typeof new RegExp("(?:)").sticky=="boolean";function Cue(t,e){e=S7(e,{useSticky:WO,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(y,v)=>v()});const n=e.tracer;n("initCharCodeToOptimizedIndexMap",()=>{Wue()});let r;n("Reject Lexer.NA",()=>{r=Hv(t,y=>y[ku]===Ds.NA)});let i=!1,s;n("Transform Patterns",()=>{i=!1,s=ct(r,y=>{const v=y[ku];if(Ya(v)){const S=v.source;return S.length===1&&S!=="^"&&S!=="$"&&S!=="."&&!v.ignoreCase?S:S.length===2&&S[0]==="\\"&&!Ei(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],S[1])?S[1]:e.useSticky?TM(v):IM(v)}else{if(cl(v))return i=!0,{exec:v};if(typeof v=="object")return i=!0,v;if(typeof v=="string"){if(v.length===1)return v;{const S=v.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),w=new RegExp(S);return e.useSticky?TM(w):IM(w)}}else throw Error("non exhaustive match")}})});let o,a,l,c,u;n("misc mapping",()=>{o=ct(r,y=>y.tokenTypeIdx),a=ct(r,y=>{const v=y.GROUP;if(v!==Ds.SKIPPED){if(Ni(v))return v;if(qa(v))return!1;throw Error("non exhaustive match")}}),l=ct(r,y=>{const v=y.LONGER_ALT;if(v)return Xt(v)?ct(v,w=>EM(r,w)):[EM(r,v)]}),c=ct(r,y=>y.PUSH_MODE),u=ct(r,y=>dt(y,"POP_MODE"))});let h;n("Line Terminator Handling",()=>{const y=KO(e.lineTerminatorCharacters);h=ct(r,v=>!1),e.positionTracking!=="onlyOffset"&&(h=ct(r,v=>dt(v,"LINE_BREAKS")?!!v.LINE_BREAKS:jO(v,y)===!1&&I7(y,v.PATTERN)))});let d,m,A,x;n("Misc Mapping #2",()=>{d=ct(r,$O),m=ct(s,Hue),A=rs(r,(y,v)=>{const S=v.GROUP;return Ni(S)&&S!==Ds.SKIPPED&&(y[S]=[]),y},{}),x=ct(s,(y,v)=>({pattern:s[v],longerAlt:l[v],canLineTerminator:h[v],isCustom:d[v],short:m[v],group:a[v],push:c[v],pop:u[v],tokenTypeIdx:o[v],tokenType:r[v]}))});let E=!0,g=[];return e.safeMode||n("First Char Optimization",()=>{g=rs(r,(y,v,S)=>{if(typeof v.PATTERN=="string"){const w=v.PATTERN.charCodeAt(0),T=Ac(w);J6(y,T,x[S])}else if(Xt(v.START_CHARS_HINT)){let w;mt(v.START_CHARS_HINT,T=>{const M=typeof T=="string"?T.charCodeAt(0):T,P=Ac(M);w!==P&&(w=P,J6(y,P,x[S]))})}else if(Ya(v.PATTERN))if(v.PATTERN.unicode)E=!1,e.ensureOptimizations&&yE(`${t2}	Unable to analyze < ${v.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const w=yue(v.PATTERN,e.ensureOptimizations);yn(w)&&(E=!1),mt(w,T=>{J6(y,T,x[S])})}else e.ensureOptimizations&&yE(`${t2}	TokenType: <${v.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),E=!1;return y},[])}),{emptyGroups:A,patternIdxToConfig:x,charCodeToPatternIdxToConfig:g,hasCustom:i,canBeOptimized:E}}function Sue(t,e){let n=[];const r=wue(t);n=n.concat(r.errors);const i=Iue(r.valid),s=i.valid;return n=n.concat(i.errors),n=n.concat(_ue(s)),n=n.concat(Lue(s)),n=n.concat(Fue(s,e)),n=n.concat(Oue(s)),n}function _ue(t){let e=[];const n=zs(t,r=>Ya(r[ku]));return e=e.concat(Mue(n)),e=e.concat(Rue(n)),e=e.concat(Pue(n)),e=e.concat(Due(n)),e=e.concat(bue(n)),e}function wue(t){const e=zs(t,i=>!dt(i,ku)),n=ct(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:qn.MISSING_PATTERN,tokenTypes:[i]})),r=Qv(t,e);return{errors:n,valid:r}}function Iue(t){const e=zs(t,i=>{const s=i[ku];return!Ya(s)&&!cl(s)&&!dt(s,"exec")&&!Ni(s)}),n=ct(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:qn.INVALID_PATTERN,tokenTypes:[i]})),r=Qv(t,e);return{errors:n,valid:r}}const Tue=/[^\\][$]/;function Mue(t){class e extends w7{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const n=zs(t,i=>{const s=i.PATTERN;try{const o=Vv(s),a=new e;return a.visit(o),a.found}catch{return Tue.test(s.source)}});return ct(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:qn.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function bue(t){const e=zs(t,r=>r.PATTERN.test(""));return ct(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:qn.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}const Bue=/[^\\[][\^]|^\^/;function Rue(t){class e extends w7{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const n=zs(t,i=>{const s=i.PATTERN;try{const o=Vv(s),a=new e;return a.visit(o),a.found}catch{return Bue.test(s.source)}});return ct(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:qn.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function Pue(t){const e=zs(t,r=>{const i=r[ku];return i instanceof RegExp&&(i.multiline||i.global)});return ct(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:qn.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function Due(t){const e=[];let n=ct(t,s=>rs(t,(o,a)=>(s.PATTERN.source===a.PATTERN.source&&!Ei(e,a)&&a.PATTERN!==Ds.NA&&(e.push(a),o.push(a)),o),[]));n=K3(n);const r=zs(n,s=>s.length>1);return ct(r,s=>{const o=ct(s,l=>l.name);return{message:`The same RegExp pattern ->${Ao(s).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:qn.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function Lue(t){const e=zs(t,r=>{if(!dt(r,"GROUP"))return!1;const i=r.GROUP;return i!==Ds.SKIPPED&&i!==Ds.NA&&!Ni(i)});return ct(e,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:qn.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function Fue(t,e){const n=zs(t,i=>i.PUSH_MODE!==void 0&&!Ei(e,i.PUSH_MODE));return ct(n,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:qn.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function Oue(t){const e=[],n=rs(t,(r,i,s)=>{const o=i.PATTERN;return o===Ds.NA||(Ni(o)?r.push({str:o,idx:s,tokenType:i}):Ya(o)&&kue(o)&&r.push({str:o.source,idx:s,tokenType:i})),r},[]);return mt(t,(r,i)=>{mt(n,({str:s,idx:o,tokenType:a})=>{if(i<o&&Nue(s,r.PATTERN)){const l=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${r.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:qn.UNREACHABLE_PATTERN,tokenTypes:[r,a]})}})}),e}function Nue(t,e){if(Ya(e)){const n=e.exec(t);return n!==null&&n.index===0}else{if(cl(e))return e(t,0,[],{});if(dt(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function kue(t){return qh([".","\\","[","]","|","^","$","(",")","?","*","+","{"],n=>t.source.indexOf(n)!==-1)===void 0}function IM(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function TM(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function Uue(t,e,n){const r=[];return dt(t,Dp)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+Dp+`> property in its definition
`,type:qn.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),dt(t,CA)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+CA+`> property in its definition
`,type:qn.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),dt(t,CA)&&dt(t,Dp)&&!dt(t.modes,t.defaultMode)&&r.push({message:`A MultiMode Lexer cannot be initialized with a ${Dp}: <${t.defaultMode}>which does not exist
`,type:qn.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),dt(t,CA)&&mt(t.modes,(i,s)=>{mt(i,(o,a)=>{if(qa(o))r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${a}>
`,type:qn.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(dt(o,"LONGER_ALT")){const l=Xt(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];mt(l,c=>{!qa(c)&&!Ei(i,c)&&r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${o.name}> outside of mode <${s}>
`,type:qn.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),r}function Gue(t,e,n){const r=[];let i=!1;const s=K3(co(vr(t.modes))),o=Hv(s,l=>l[ku]===Ds.NA),a=KO(n);return e&&mt(o,l=>{const c=jO(l,a);if(c!==!1){const h={message:Vue(l,c),type:c.issue,tokenType:l};r.push(h)}else dt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):I7(a,l.PATTERN)&&(i=!0)}),e&&!i&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:qn.NO_LINE_BREAKS_FLAGS}),r}function Que(t){const e={},n=ts(t);return mt(n,r=>{const i=t[r];if(Xt(i))e[r]=[];else throw Error("non exhaustive match")}),e}function $O(t){const e=t.PATTERN;if(Ya(e))return!1;if(cl(e))return!0;if(dt(e,"exec"))return!0;if(Ni(e))return!1;throw Error("non exhaustive match")}function Hue(t){return Ni(t)&&t.length===1?t.charCodeAt(0):!1}const zue={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const r=t.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function jO(t,e){if(dt(t,"LINE_BREAKS"))return!1;if(Ya(t.PATTERN)){try{I7(e,t.PATTERN)}catch(n){return{issue:qn.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(Ni(t.PATTERN))return!1;if($O(t))return{issue:qn.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Vue(t,e){if(e.issue===qn.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===qn.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function KO(t){return ct(t,n=>Ni(n)?n.charCodeAt(0):n)}function J6(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const Lp=256;let a1=[];function Ac(t){return t<Lp?t:a1[t]}function Wue(){if(yn(a1)){a1=new Array(65536);for(let t=0;t<65536;t++)a1[t]=t>255?255+~~(t/255):t}}function X3(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}function n2(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let MM=1;const JO={};function Y3(t){const e=$ue(t);jue(e),Jue(e),Kue(e),mt(e,n=>{n.isParent=n.categoryMatches.length>0})}function $ue(t){let e=ni(t),n=t,r=!0;for(;r;){n=K3(co(ct(n,s=>s.CATEGORIES)));const i=Qv(n,e);e=e.concat(i),yn(i)?r=!1:n=i}return e}function jue(t){mt(t,e=>{YO(e)||(JO[MM]=e,e.tokenTypeIdx=MM++),bM(e)&&!Xt(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),bM(e)||(e.CATEGORIES=[]),Xue(e)||(e.categoryMatches=[]),Yue(e)||(e.categoryMatchesMap={})})}function Kue(t){mt(t,e=>{e.categoryMatches=[],mt(e.categoryMatchesMap,(n,r)=>{e.categoryMatches.push(JO[r].tokenTypeIdx)})})}function Jue(t){mt(t,e=>{XO([],e)})}function XO(t,e){mt(t,n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0}),mt(e.CATEGORIES,n=>{const r=t.concat(e);Ei(r,n)||XO(r,n)})}function YO(t){return dt(t,"tokenTypeIdx")}function bM(t){return dt(t,"CATEGORIES")}function Xue(t){return dt(t,"categoryMatches")}function Yue(t){return dt(t,"categoryMatchesMap")}function que(t){return dt(t,"tokenTypeIdx")}const Zue={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,n,r,i){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`}};var qn;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(qn||(qn={}));const Fp={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Zue,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Fp);class Ds{constructor(e,n=Fp){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${i}>`);const{time:a,value:l}=QO(s),c=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${o}<-- <${i}> time: ${a}ms`),this.traceInitIndent--,l}else return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=ns({},Fp,n);const r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Fp.lineTerminatorsPattern)this.config.lineTerminatorsPattern=zue;else if(this.config.lineTerminatorCharacters===Fp.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Xt(e)?i={modes:{defaultMode:ni(e)},defaultMode:Dp}:(s=!1,i=ni(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Uue(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Gue(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},mt(i.modes,(a,l)=>{i.modes[l]=Hv(a,c=>qa(c))});const o=ts(i.modes);if(mt(i.modes,(a,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Sue(a,o))}),yn(this.lexerDefinitionErrors)){Y3(a);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=Cue(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=ns({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized}})}),this.defaultMode=i.defaultMode,!yn(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=ct(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}mt(this.lexerDefinitionWarning,a=>{GO(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(WO?(this.chopInput=Kh,this.match=this.matchWithTest):(this.updateLastIndex=gr,this.match=this.matchWithExec),s&&(this.handleModes=gr),this.trackStartLines===!1&&(this.computeNewColumn=Kh),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=gr),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const a=rs(this.canModeBeOptimized,(l,c,u)=>(c===!1&&l.push(u),l),[]);if(n.ensureOptimizations&&!yn(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{vue()}),this.TRACE_INIT("toFastProperties",()=>{HO(this)})})}tokenize(e,n=this.defaultMode){if(!yn(this.lexerDefinitionErrors)){const i=ct(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let r,i,s,o,a,l,c,u,h,d,m,A,x,E,g;const y=e,v=y.length;let S=0,w=0;const T=this.hasCustom?0:Math.floor(e.length/10),M=new Array(T),P=[];let b=this.trackStartLines?1:void 0,B=this.trackStartLines?1:void 0;const L=Que(this.emptyGroups),H=this.trackStartLines,U=this.config.lineTerminatorsPattern;let V=0,W=[],q=[];const Y=[],k=[];Object.freeze(k);let K;function $(){return W}function G(Se){const we=Ac(Se),Me=q[we];return Me===void 0?k:Me}const X=Se=>{if(Y.length===1&&Se.tokenType.PUSH_MODE===void 0){const we=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(Se);P.push({offset:Se.startOffset,line:Se.startLine,column:Se.startColumn,length:Se.image.length,message:we})}else{Y.pop();const we=Yh(Y);W=this.patternIdxToConfig[we],q=this.charCodeToPatternIdxToConfig[we],V=W.length;const Me=this.canModeBeOptimized[we]&&this.config.safeMode===!1;q&&Me?K=G:K=$}};function le(Se){Y.push(Se),q=this.charCodeToPatternIdxToConfig[Se],W=this.patternIdxToConfig[Se],V=W.length,V=W.length;const we=this.canModeBeOptimized[Se]&&this.config.safeMode===!1;q&&we?K=G:K=$}le.call(this,n);let pe;const ye=this.config.recoveryEnabled;for(;S<v;){l=null;const Se=y.charCodeAt(S),we=K(Se),Me=we.length;for(r=0;r<Me;r++){pe=we[r];const Ve=pe.pattern;c=null;const We=pe.short;if(We!==!1?Se===We&&(l=Ve):pe.isCustom===!0?(g=Ve.exec(y,S,M,L),g!==null?(l=g[0],g.payload!==void 0&&(c=g.payload)):l=null):(this.updateLastIndex(Ve,S),l=this.match(Ve,e,S)),l!==null){if(a=pe.longerAlt,a!==void 0){const xe=a.length;for(s=0;s<xe;s++){const j=W[a[s]],Ae=j.pattern;if(u=null,j.isCustom===!0?(g=Ae.exec(y,S,M,L),g!==null?(o=g[0],g.payload!==void 0&&(u=g.payload)):o=null):(this.updateLastIndex(Ae,S),o=this.match(Ae,e,S)),o&&o.length>l.length){l=o,c=u,pe=j;break}}}break}}if(l!==null){if(h=l.length,d=pe.group,d!==void 0&&(m=pe.tokenTypeIdx,A=this.createTokenInstance(l,S,m,pe.tokenType,b,B,h),this.handlePayload(A,c),d===!1?w=this.addToken(M,w,A):L[d].push(A)),e=this.chopInput(e,h),S=S+h,B=this.computeNewColumn(B,h),H===!0&&pe.canLineTerminator===!0){let Ve=0,We,xe;U.lastIndex=0;do We=U.test(l),We===!0&&(xe=U.lastIndex-1,Ve++);while(We===!0);Ve!==0&&(b=b+Ve,B=h-xe,this.updateTokenEndLineColumnLocation(A,d,xe,Ve,b,B,h))}this.handleModes(pe,X,le,A)}else{const Ve=S,We=b,xe=B;let j=ye===!1;for(;j===!1&&S<v;)for(e=this.chopInput(e,1),S++,i=0;i<V;i++){const Ae=W[i],ue=Ae.pattern,_e=Ae.short;if(_e!==!1?y.charCodeAt(S)===_e&&(j=!0):Ae.isCustom===!0?j=ue.exec(y,S,M,L)!==null:(this.updateLastIndex(ue,S),j=ue.exec(e)!==null),j===!0)break}if(x=S-Ve,B=this.computeNewColumn(B,x),E=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,Ve,x,We,xe),P.push({offset:Ve,line:We,column:xe,length:x,message:E}),ye===!1)break}}return this.hasCustom||(M.length=w),{tokens:M,groups:L,errors:P}}handleModes(e,n,r,i){if(e.pop===!0){const s=e.push;n(i),s!==void 0&&r.call(this,s)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,r,i,s,o,a){let l,c;n!==void 0&&(l=r===a-1,c=l?-1:0,i===1&&l===!0||(e.endLine=s+c,e.endColumn=o-1+-c))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,r,i){return{image:e,startOffset:n,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(e,n,r,i,s,o){return{image:e,startOffset:n,startLine:s,startColumn:o,tokenTypeIdx:r,tokenType:i}}createFullToken(e,n,r,i,s,o,a){return{image:e,startOffset:n,endOffset:n+a-1,startLine:s,endLine:s,startColumn:o,endColumn:o+a-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(e,n,r){return e.push(r),n}addTokenUsingMemberAccess(e,n,r){return e[n]=r,n++,n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,r){return e.test(n)===!0?n.substring(r,e.lastIndex):null}matchWithExec(e,n){const r=e.exec(n);return r!==null?r[0]:null}}Ds.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";Ds.NA=/NOT_APPLICABLE/;function s0(t){return qO(t)?t.LABEL:t.name}function qO(t){return Ni(t.LABEL)&&t.LABEL!==""}const efe="parent",BM="categories",RM="label",PM="group",DM="push_mode",LM="pop_mode",FM="longer_alt",OM="line_breaks",NM="start_chars_hint";function ZO(t){return tfe(t)}function tfe(t){const e=t.pattern,n={};if(n.name=t.name,qa(e)||(n.PATTERN=e),dt(t,efe))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return dt(t,BM)&&(n.CATEGORIES=t[BM]),Y3([n]),dt(t,RM)&&(n.LABEL=t[RM]),dt(t,PM)&&(n.GROUP=t[PM]),dt(t,LM)&&(n.POP_MODE=t[LM]),dt(t,DM)&&(n.PUSH_MODE=t[DM]),dt(t,FM)&&(n.LONGER_ALT=t[FM]),dt(t,OM)&&(n.LINE_BREAKS=t[OM]),dt(t,NM)&&(n.START_CHARS_HINT=t[NM]),n}const Uu=ZO({name:"EOF",pattern:Ds.NA});Y3([Uu]);function T7(t,e,n,r,i,s,o,a){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:s,startColumn:o,endColumn:a,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function nfe(t,e){return X3(t,e)}const eN={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:r}){return`Expecting ${qO(t)?`--> ${s0(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:r,ruleName:i}){const s="Expecting: ",a=`
but found: '`+Ao(e).image+"'";if(r)return s+r+a;{const l=rs(t,(d,m)=>d.concat(m),[]),c=ct(l,d=>`[${ct(d,m=>s0(m)).join(", ")}]`),h=`one of these possible Token sequences:
${ct(c,(d,m)=>`  ${m+1}. ${d}`).join(`
`)}`;return s+h+a}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:r}){const i="Expecting: ",o=`
but found: '`+Ao(e).image+"'";if(n)return i+n+o;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${ct(t,c=>`[${ct(c,u=>s0(u)).join(",")}]`).join(" ,")}>`;return i+l+o}}};Object.freeze(eN);const rfe={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},Eu={buildDuplicateFoundError(t,e){function n(u){return u instanceof Qn?u.terminalType.name:u instanceof is?u.nonTerminalName:""}const r=t.name,i=Ao(e),s=i.idx,o=zo(i),a=n(i),l=s>0;let c=`->${o}${l?s:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=ct(t.prefixPath,i=>s0(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=ct(t.prefixPath,i=>s0(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError(t){let e=zo(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=ct(t.leftRecursionPath,s=>s.name),r=`${e} --> ${n.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${r}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof Ad?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function ife(t,e){const n=new sfe(t,e);return n.resolveRefs(),n.errors}class sfe extends vd{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){mt(vr(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:Ai.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class ofe extends zv{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=ni(this.path.ruleStack).reverse(),this.occurrenceStack=ni(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=n.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){yn(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class afe extends ofe{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=n.concat(r),s=new ki({definition:i});this.possibleTokTypes=J3(s),this.found=!0}}}class Wv extends zv{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class lfe extends Wv{walkMany(e,n,r){if(e.idx===this.occurrence){const i=Ao(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Qn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,n,r)}}class kM extends Wv{walkManySep(e,n,r){if(e.idx===this.occurrence){const i=Ao(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Qn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,n,r)}}class cfe extends Wv{walkAtLeastOne(e,n,r){if(e.idx===this.occurrence){const i=Ao(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Qn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,n,r)}}class UM extends Wv{walkAtLeastOneSep(e,n,r){if(e.idx===this.occurrence){const i=Ao(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Qn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,n,r)}}function CE(t,e,n=[]){n=ni(n);let r=[],i=0;function s(a){return a.concat(kr(t,i+1))}function o(a){const l=CE(s(a),e,n);return r.concat(l)}for(;n.length<e&&i<t.length;){const a=t[i];if(a instanceof ki)return o(a.definition);if(a instanceof is)return o(a.definition);if(a instanceof Oi)r=o(a.definition);else if(a instanceof da){const l=a.definition.concat([new Er({definition:a.definition})]);return o(l)}else if(a instanceof pa){const l=[new ki({definition:a.definition}),new Er({definition:[new Qn({terminalType:a.separator})].concat(a.definition)})];return o(l)}else if(a instanceof To){const l=a.definition.concat([new Er({definition:[new Qn({terminalType:a.separator})].concat(a.definition)})]);r=o(l)}else if(a instanceof Er){const l=a.definition.concat([new Er({definition:a.definition})]);r=o(l)}else{if(a instanceof Mo)return mt(a.definition,l=>{yn(l.definition)===!1&&(r=o(l.definition))}),r;if(a instanceof Qn)n.push(a.terminalType);else throw Error("non exhaustive match")}i++}return r.push({partialPath:n,suffixDef:kr(t,i)}),r}function tN(t,e,n,r){const i="EXIT_NONE_TERMINAL",s=[i],o="EXIT_ALTERNATIVE";let a=!1;const l=e.length,c=l-r-1,u=[],h=[];for(h.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!yn(h);){const d=h.pop();if(d===o){a&&Yh(h).idx<=c&&h.pop();continue}const m=d.def,A=d.idx,x=d.ruleStack,E=d.occurrenceStack;if(yn(m))continue;const g=m[0];if(g===i){const y={idx:A,def:kr(m),ruleStack:n3(x),occurrenceStack:n3(E)};h.push(y)}else if(g instanceof Qn)if(A<l-1){const y=A+1,v=e[y];if(n(v,g.terminalType)){const S={idx:y,def:kr(m),ruleStack:x,occurrenceStack:E};h.push(S)}}else if(A===l-1)u.push({nextTokenType:g.terminalType,nextTokenOccurrence:g.idx,ruleStack:x,occurrenceStack:E}),a=!0;else throw Error("non exhaustive match");else if(g instanceof is){const y=ni(x);y.push(g.nonTerminalName);const v=ni(E);v.push(g.idx);const S={idx:A,def:g.definition.concat(s,kr(m)),ruleStack:y,occurrenceStack:v};h.push(S)}else if(g instanceof Oi){const y={idx:A,def:kr(m),ruleStack:x,occurrenceStack:E};h.push(y),h.push(o);const v={idx:A,def:g.definition.concat(kr(m)),ruleStack:x,occurrenceStack:E};h.push(v)}else if(g instanceof da){const y=new Er({definition:g.definition,idx:g.idx}),v=g.definition.concat([y],kr(m)),S={idx:A,def:v,ruleStack:x,occurrenceStack:E};h.push(S)}else if(g instanceof pa){const y=new Qn({terminalType:g.separator}),v=new Er({definition:[y].concat(g.definition),idx:g.idx}),S=g.definition.concat([v],kr(m)),w={idx:A,def:S,ruleStack:x,occurrenceStack:E};h.push(w)}else if(g instanceof To){const y={idx:A,def:kr(m),ruleStack:x,occurrenceStack:E};h.push(y),h.push(o);const v=new Qn({terminalType:g.separator}),S=new Er({definition:[v].concat(g.definition),idx:g.idx}),w=g.definition.concat([S],kr(m)),T={idx:A,def:w,ruleStack:x,occurrenceStack:E};h.push(T)}else if(g instanceof Er){const y={idx:A,def:kr(m),ruleStack:x,occurrenceStack:E};h.push(y),h.push(o);const v=new Er({definition:g.definition,idx:g.idx}),S=g.definition.concat([v],kr(m)),w={idx:A,def:S,ruleStack:x,occurrenceStack:E};h.push(w)}else if(g instanceof Mo)for(let y=g.definition.length-1;y>=0;y--){const v=g.definition[y],S={idx:A,def:v.definition.concat(kr(m)),ruleStack:x,occurrenceStack:E};h.push(S),h.push(o)}else if(g instanceof ki)h.push({idx:A,def:g.definition.concat(kr(m)),ruleStack:x,occurrenceStack:E});else if(g instanceof Ad)h.push(ufe(g,A,x,E));else throw Error("non exhaustive match")}return u}function ufe(t,e,n,r){const i=ni(n);i.push(t.name);const s=ni(r);return s.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:s}}var Xn;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(Xn||(Xn={}));function nN(t){if(t instanceof Oi||t==="Option")return Xn.OPTION;if(t instanceof Er||t==="Repetition")return Xn.REPETITION;if(t instanceof da||t==="RepetitionMandatory")return Xn.REPETITION_MANDATORY;if(t instanceof pa||t==="RepetitionMandatoryWithSeparator")return Xn.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof To||t==="RepetitionWithSeparator")return Xn.REPETITION_WITH_SEPARATOR;if(t instanceof Mo||t==="Alternation")return Xn.ALTERNATION;throw Error("non exhaustive match")}function ffe(t,e,n,r,i,s){const o=M7(t,e,n),a=sN(o)?n2:X3;return s(o,r,a,i)}function hfe(t,e,n,r,i,s){const o=b7(t,e,i,n),a=sN(o)?n2:X3;return s(o[0],a,r)}function dfe(t,e,n,r){const i=t.length,s=uo(t,o=>uo(o,a=>a.length===1));if(e)return function(o){const a=ct(o,l=>l.GATE);for(let l=0;l<i;l++){const c=t[l],u=c.length,h=a[l];if(!(h!==void 0&&h.call(this)===!1))e:for(let d=0;d<u;d++){const m=c[d],A=m.length;for(let x=0;x<A;x++){const E=this.LA(x+1);if(n(E,m[x])===!1)continue e}return l}}};if(s&&!r){const o=ct(t,l=>co(l)),a=rs(o,(l,c,u)=>(mt(c,h=>{dt(l,h.tokenTypeIdx)||(l[h.tokenTypeIdx]=u),mt(h.categoryMatches,d=>{dt(l,d)||(l[d]=u)})}),l),{});return function(){const l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(let o=0;o<i;o++){const a=t[o],l=a.length;e:for(let c=0;c<l;c++){const u=a[c],h=u.length;for(let d=0;d<h;d++){const m=this.LA(d+1);if(n(m,u[d])===!1)continue e}return o}}}}function pfe(t,e,n){const r=uo(t,s=>s.length===1),i=t.length;if(r&&!n){const s=co(t);if(s.length===1&&yn(s[0].categoryMatches)){const a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{const o=rs(s,(a,l,c)=>(a[l.tokenTypeIdx]=!0,mt(l.categoryMatches,u=>{a[u]=!0}),a),[]);return function(){const a=this.LA(1);return o[a.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<i;s++){const o=t[s],a=o.length;for(let l=0;l<a;l++){const c=this.LA(l+1);if(e(c,o[l])===!1)continue e}return!0}return!1}}class mfe extends zv{constructor(e,n,r){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,r,i){return e.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=r.concat(i),!0):!1}walkOption(e,n,r){this.checkIsTarget(e,Xn.OPTION,n,r)||super.walkOption(e,n,r)}walkAtLeastOne(e,n,r){this.checkIsTarget(e,Xn.REPETITION_MANDATORY,n,r)||super.walkOption(e,n,r)}walkAtLeastOneSep(e,n,r){this.checkIsTarget(e,Xn.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}walkMany(e,n,r){this.checkIsTarget(e,Xn.REPETITION,n,r)||super.walkOption(e,n,r)}walkManySep(e,n,r){this.checkIsTarget(e,Xn.REPETITION_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}}class rN extends vd{constructor(e,n,r){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=r,this.result=[]}checkIsTarget(e,n){e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Xn.OPTION)}visitRepetition(e){this.checkIsTarget(e,Xn.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Xn.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Xn.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Xn.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Xn.ALTERNATION)}}function GM(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function X6(t){let e=[""];for(let n=0;n<t.length;n++){const r=t[n],i=[];for(let s=0;s<e.length;s++){const o=e[s];i.push(o+"_"+r.tokenTypeIdx);for(let a=0;a<r.categoryMatches.length;a++){const l="_"+r.categoryMatches[a];i.push(o+l)}}e=i}return e}function gfe(t,e,n){for(let r=0;r<t.length;r++){if(r===n)continue;const i=t[r];for(let s=0;s<e.length;s++){const o=e[s];if(i[o]===!0)return!1}}return!0}function iN(t,e){const n=ct(t,o=>CE([o],1)),r=GM(n.length),i=ct(n,o=>{const a={};return mt(o,l=>{const c=X6(l.partialPath);mt(c,u=>{a[u]=!0})}),a});let s=n;for(let o=1;o<=e;o++){const a=s;s=GM(a.length);for(let l=0;l<a.length;l++){const c=a[l];for(let u=0;u<c.length;u++){const h=c[u].partialPath,d=c[u].suffixDef,m=X6(h);if(gfe(i,m,l)||yn(d)||h.length===e){const x=r[l];if(SE(x,h)===!1){x.push(h);for(let E=0;E<m.length;E++){const g=m[E];i[l][g]=!0}}}else{const x=CE(d,o+1,h);s[l]=s[l].concat(x),mt(x,E=>{const g=X6(E.partialPath);mt(g,y=>{i[l][y]=!0})})}}}}return r}function M7(t,e,n,r){const i=new rN(t,Xn.ALTERNATION,r);return e.accept(i),iN(i.result,n)}function b7(t,e,n,r){const i=new rN(t,n);e.accept(i);const s=i.result,a=new mfe(e,t,n).startWalking(),l=new ki({definition:s}),c=new ki({definition:a});return iN([l,c],r)}function SE(t,e){e:for(let n=0;n<t.length;n++){const r=t[n];if(r.length===e.length){for(let i=0;i<r.length;i++){const s=e[i],o=r[i];if((s===o||o.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function Afe(t,e){return t.length<e.length&&uo(t,(n,r)=>{const i=e[r];return n===i||i.categoryMatchesMap[n.tokenTypeIdx]})}function sN(t){return uo(t,e=>uo(e,n=>uo(n,r=>yn(r.categoryMatches))))}function vfe(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return ct(e,n=>Object.assign({type:Ai.CUSTOM_LOOKAHEAD_VALIDATION},n))}function yfe(t,e,n,r){const i=Ps(t,l=>Efe(l,n)),s=Pfe(t,e,n),o=Ps(t,l=>Mfe(l,n)),a=Ps(t,l=>Sfe(l,t,r,n));return i.concat(s,o,a)}function Efe(t,e){const n=new Cfe;t.accept(n);const r=n.allProductions,i=Bce(r,xfe),s=Io(i,a=>a.length>1);return ct(vr(s),a=>{const l=Ao(a),c=e.buildDuplicateFoundError(t,a),u=zo(l),h={message:c,type:Ai.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:u,occurrence:l.idx},d=oN(l);return d&&(h.parameter=d),h})}function xfe(t){return`${zo(t)}_#_${t.idx}_#_${oN(t)}`}function oN(t){return t instanceof Qn?t.terminalType.name:t instanceof is?t.nonTerminalName:""}class Cfe extends vd{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function Sfe(t,e,n,r){const i=[];if(rs(e,(o,a)=>a.name===t.name?o+1:o,0)>1){const o=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});i.push({message:o,type:Ai.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function _fe(t,e,n){const r=[];let i;return Ei(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:i,type:Ai.INVALID_RULE_OVERRIDE,ruleName:t})),r}function aN(t,e,n,r=[]){const i=[],s=l1(e.definition);if(yn(s))return[];{const o=t.name;Ei(s,t)&&i.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:r}),type:Ai.LEFT_RECURSION,ruleName:o});const l=Qv(s,r.concat([t])),c=Ps(l,u=>{const h=ni(r);return h.push(u),aN(t,u,n,h)});return i.concat(c)}}function l1(t){let e=[];if(yn(t))return e;const n=Ao(t);if(n instanceof is)e.push(n.referencedRule);else if(n instanceof ki||n instanceof Oi||n instanceof da||n instanceof pa||n instanceof To||n instanceof Er)e=e.concat(l1(n.definition));else if(n instanceof Mo)e=co(ct(n.definition,s=>l1(s.definition)));else if(!(n instanceof Qn))throw Error("non exhaustive match");const r=q1(n),i=t.length>1;if(r&&i){const s=kr(t);return e.concat(l1(s))}else return e}class B7 extends vd{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function wfe(t,e){const n=new B7;t.accept(n);const r=n.alternations;return Ps(r,s=>{const o=n3(s.definition);return Ps(o,(a,l)=>{const c=tN([a],[],X3,1);return yn(c)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:s,emptyChoiceIdx:l}),type:Ai.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:s.idx,alternative:l+1}]:[]})})}function Ife(t,e,n){const r=new B7;t.accept(r);let i=r.alternations;return i=Hv(i,o=>o.ignoreAmbiguities===!0),Ps(i,o=>{const a=o.idx,l=o.maxLookahead||e,c=M7(a,t,l,o),u=Bfe(c,o,t,n),h=Rfe(c,o,t,n);return u.concat(h)})}class Tfe extends vd{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function Mfe(t,e){const n=new B7;t.accept(n);const r=n.alternations;return Ps(r,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:s}),type:Ai.TOO_MANY_ALTS,ruleName:t.name,occurrence:s.idx}]:[])}function bfe(t,e,n){const r=[];return mt(t,i=>{const s=new Tfe;i.accept(s);const o=s.allProductions;mt(o,a=>{const l=nN(a),c=a.maxLookahead||e,u=a.idx,d=b7(u,i,l,c)[0];if(yn(co(d))){const m=n.buildEmptyRepetitionError({topLevelRule:i,repetition:a});r.push({message:m,type:Ai.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),r}function Bfe(t,e,n,r){const i=[],s=rs(t,(a,l,c)=>(e.definition[c].ignoreAmbiguities===!0||mt(l,u=>{const h=[c];mt(t,(d,m)=>{c!==m&&SE(d,u)&&e.definition[m].ignoreAmbiguities!==!0&&h.push(m)}),h.length>1&&!SE(i,u)&&(i.push(u),a.push({alts:h,path:u}))}),a),[]);return ct(s,a=>{const l=ct(a.alts,u=>u+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:l,prefixPath:a.path}),type:Ai.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:a.alts}})}function Rfe(t,e,n,r){const i=rs(t,(o,a,l)=>{const c=ct(a,u=>({idx:l,path:u}));return o.concat(c)},[]);return K3(Ps(i,o=>{if(e.definition[o.idx].ignoreAmbiguities===!0)return[];const l=o.idx,c=o.path,u=zs(i,d=>e.definition[d.idx].ignoreAmbiguities!==!0&&d.idx<l&&Afe(d.path,c));return ct(u,d=>{const m=[d.idx+1,l+1],A=e.idx===0?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:m,prefixPath:d.path}),type:Ai.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:A,alternatives:m}})}))}function Pfe(t,e,n){const r=[],i=ct(e,s=>s.name);return mt(t,s=>{const o=s.name;if(Ei(i,o)){const a=n.buildNamespaceConflictError(s);r.push({message:a,type:Ai.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),r}function Dfe(t){const e=S7(t,{errMsgProvider:rfe}),n={};return mt(t.rules,r=>{n[r.name]=r}),ife(n,e.errMsgProvider)}function Lfe(t){return t=S7(t,{errMsgProvider:Eu}),yfe(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const lN="MismatchedTokenException",cN="NoViableAltException",uN="EarlyExitException",fN="NotAllInputParsedException",hN=[lN,cN,uN,fN];Object.freeze(hN);function r2(t){return Ei(hN,t.name)}class $v extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class dN extends $v{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=lN}}class Ffe extends $v{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=cN}}class Ofe extends $v{constructor(e,n){super(e,n),this.name=fN}}class Nfe extends $v{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=uN}}const Y6={},pN="InRuleRecoveryException";class kfe extends Error{constructor(e){super(e),this.name=pN}}class Ufe{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=dt(e,"recoveryEnabled")?e.recoveryEnabled:vc.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Gfe)}getTokenToInsert(e){const n=T7(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,n,r,i){const s=this.findReSyncTokenType(),o=this.exportLexerState(),a=[];let l=!1;const c=this.LA(1);let u=this.LA(1);const h=()=>{const d=this.LA(0),m=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:d,ruleName:this.getCurrRuleFullName()}),A=new dN(m,c,this.LA(0));A.resyncedTokens=n3(a),this.SAVE_ERROR(A)};for(;!l;)if(this.tokenMatcher(u,i)){h();return}else if(r.call(this)){h(),e.apply(this,n);return}else this.tokenMatcher(u,s)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,a));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,n,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))}getFollowsForInRuleRecovery(e,n){const r=this.getCurrentGrammarPath(e,n);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new kfe("sad sad panda")}canPerformInRuleRecovery(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,n){if(!this.canTokenTypeBeInsertedInRecovery(e)||yn(n))return!1;const r=this.LA(1);return qh(n,s=>this.tokenMatcher(r,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const n=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(n);return Ei(r,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let n=this.LA(1),r=2;for(;;){const i=qh(e,s=>nfe(n,s));if(i!==void 0)return i;n=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return Y6;const e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return ct(e,(r,i)=>i===0?Y6:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=ct(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return co(e)}getFollowSetFromFollowKey(e){if(e===Y6)return[Uu];const n=e.ruleName+e.idxInCallingRule+zO+e.inRule;return this.resyncFollows[n]}addToResyncTokens(e,n){return this.tokenMatcher(e,Uu)||n.push(e),n}reSyncTo(e){const n=[];let r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,n);return n3(n)}attemptInRepetitionRecovery(e,n,r,i,s,o,a){}getCurrentGrammarPath(e,n){const r=this.getHumanReadableRuleStack(),i=ni(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:i,lastTok:e,lastTokOccurrence:n}}getHumanReadableRuleStack(){return ct(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function Gfe(t,e,n,r,i,s,o){const a=this.getKeyForAutomaticLookahead(r,i);let l=this.firstAfterRepMap[a];if(l===void 0){const d=this.getCurrRuleFullName(),m=this.getGAstProductions()[d];l=new s(m,i).startWalking(),this.firstAfterRepMap[a]=l}let c=l.token,u=l.occurrence;const h=l.isEndOfRule;this.RULE_STACK.length===1&&h&&c===void 0&&(c=Uu,u=1),!(c===void 0||u===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,u,o)&&this.tryInRepetitionRecovery(t,e,n,c)}const Qfe=4,Dc=8,mN=1<<Dc,gN=2<<Dc,_E=3<<Dc,wE=4<<Dc,IE=5<<Dc,c1=6<<Dc;function q6(t,e,n){return n|e|t}class Hfe{constructor(e){var n;this.maxLookahead=(n=e==null?void 0:e.maxLookahead)!==null&&n!==void 0?n:vc.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(yn(n)){const r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...r,...i,...s]}return n}validateNoLeftRecursion(e){return Ps(e,n=>aN(n,n,Eu))}validateEmptyOrAlternatives(e){return Ps(e,n=>wfe(n,Eu))}validateAmbiguousAlternationAlternatives(e,n){return Ps(e,r=>Ife(r,n,Eu))}validateSomeNonEmptyLookaheadPath(e,n){return bfe(e,n,Eu)}buildLookaheadForAlternation(e){return ffe(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,dfe)}buildLookaheadForOptional(e){return hfe(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,nN(e.prodType),pfe)}}class zfe{initLooksAhead(e){this.dynamicTokensEnabled=dt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:vc.dynamicTokensEnabled,this.maxLookahead=dt(e,"maxLookahead")?e.maxLookahead:vc.maxLookahead,this.lookaheadStrategy=dt(e,"lookaheadStrategy")?e.lookaheadStrategy:new Hfe({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){mt(e,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:r,repetition:i,option:s,repetitionMandatory:o,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:l}=Wfe(n);mt(r,c=>{const u=c.idx===0?"":c.idx;this.TRACE_INIT(`${zo(c)}${u}`,()=>{const h=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:n,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),d=q6(this.fullRuleNameToShort[n.name],mN,c.idx);this.setLaFuncCache(d,h)})}),mt(i,c=>{this.computeLookaheadFunc(n,c.idx,_E,"Repetition",c.maxLookahead,zo(c))}),mt(s,c=>{this.computeLookaheadFunc(n,c.idx,gN,"Option",c.maxLookahead,zo(c))}),mt(o,c=>{this.computeLookaheadFunc(n,c.idx,wE,"RepetitionMandatory",c.maxLookahead,zo(c))}),mt(a,c=>{this.computeLookaheadFunc(n,c.idx,c1,"RepetitionMandatoryWithSeparator",c.maxLookahead,zo(c))}),mt(l,c=>{this.computeLookaheadFunc(n,c.idx,IE,"RepetitionWithSeparator",c.maxLookahead,zo(c))})})})}computeLookaheadFunc(e,n,r,i,s,o){this.TRACE_INIT(`${o}${n===0?"":n}`,()=>{const a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=q6(this.fullRuleNameToShort[e.name],r,n);this.setLaFuncCache(l,a)})}getKeyForAutomaticLookahead(e,n){const r=this.getLastExplicitRuleShortName();return q6(r,e,n)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,n){this.lookAheadFuncsCache.set(e,n)}}class Vfe extends vd{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const SA=new Vfe;function Wfe(t){SA.reset(),t.accept(SA);const e=SA.dslMethods;return SA.reset(),e}function QM(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function HM(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function $fe(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}function jfe(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}const Kfe="name";function AN(t,e){Object.defineProperty(t,Kfe,{enumerable:!1,configurable:!0,writable:!1,value:e})}function Jfe(t,e){const n=ts(t),r=n.length;for(let i=0;i<r;i++){const s=n[i],o=t[s],a=o.length;for(let l=0;l<a;l++){const c=o[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,e)}}}function Xfe(t,e){const n=function(){};AN(n,t+"BaseSemantics");const r={visit:function(i,s){if(Xt(i)&&(i=i[0]),!qa(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=qfe(this,e);if(!yn(i)){const s=ct(i,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=e,n}function Yfe(t,e,n){const r=function(){};AN(r,t+"BaseSemanticsWithDefaults");const i=Object.create(n.prototype);return mt(e,s=>{i[s]=Jfe}),r.prototype=i,r.prototype.constructor=r,r}var TE;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(TE||(TE={}));function qfe(t,e){return Zfe(t,e)}function Zfe(t,e){const n=zs(e,i=>cl(t[i])===!1),r=ct(n,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:TE.MISSING_METHOD,methodName:i}));return K3(r)}class ehe{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=dt(e,"nodeLocationTracking")?e.nodeLocationTracking:vc.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=gr,this.cstFinallyStateUpdate=gr,this.cstPostTerminal=gr,this.cstPostNonTerminal=gr,this.cstPostRule=gr;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=HM,this.setNodeLocationFromNode=HM,this.cstPostRule=gr,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=gr,this.setNodeLocationFromNode=gr,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=QM,this.setNodeLocationFromNode=QM,this.cstPostRule=gr,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=gr,this.setNodeLocationFromNode=gr,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=gr,this.setNodeLocationFromNode=gr,this.cstPostRule=gr,this.setInitialNodeLocation=gr;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN}cstPostTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];$fe(r,n,e),this.setNodeLocationFromToken(r.location,n)}cstPostNonTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];jfe(r,n,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(qa(this.baseCstVisitorConstructor)){const e=Xfe(this.className,ts(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(qa(this.baseCstVisitorWithDefaultsConstructor)){const e=Yfe(this.className,ts(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class the{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):s2}LA(e){const n=this.currIdx+e;return n<0||this.tokVectorLength<=n?s2:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class nhe{ACTION(e){return e.call(this)}consume(e,n,r){return this.consumeInternal(n,e,r)}subrule(e,n,r){return this.subruleInternal(n,e,r)}option(e,n){return this.optionInternal(n,e)}or(e,n){return this.orInternal(n,e)}many(e,n){return this.manyInternal(e,n)}atLeastOne(e,n){return this.atLeastOneInternal(e,n)}CONSUME(e,n){return this.consumeInternal(e,0,n)}CONSUME1(e,n){return this.consumeInternal(e,1,n)}CONSUME2(e,n){return this.consumeInternal(e,2,n)}CONSUME3(e,n){return this.consumeInternal(e,3,n)}CONSUME4(e,n){return this.consumeInternal(e,4,n)}CONSUME5(e,n){return this.consumeInternal(e,5,n)}CONSUME6(e,n){return this.consumeInternal(e,6,n)}CONSUME7(e,n){return this.consumeInternal(e,7,n)}CONSUME8(e,n){return this.consumeInternal(e,8,n)}CONSUME9(e,n){return this.consumeInternal(e,9,n)}SUBRULE(e,n){return this.subruleInternal(e,0,n)}SUBRULE1(e,n){return this.subruleInternal(e,1,n)}SUBRULE2(e,n){return this.subruleInternal(e,2,n)}SUBRULE3(e,n){return this.subruleInternal(e,3,n)}SUBRULE4(e,n){return this.subruleInternal(e,4,n)}SUBRULE5(e,n){return this.subruleInternal(e,5,n)}SUBRULE6(e,n){return this.subruleInternal(e,6,n)}SUBRULE7(e,n){return this.subruleInternal(e,7,n)}SUBRULE8(e,n){return this.subruleInternal(e,8,n)}SUBRULE9(e,n){return this.subruleInternal(e,9,n)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,n,r=o2){if(Ei(this.definedRulesNames,e)){const o={message:Eu.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Ai.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);const i=this.defineRule(e,n,r);return this[e]=i,i}OVERRIDE_RULE(e,n,r=o2){const i=_fe(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const s=this.defineRule(e,n,r);return this[e]=s,s}BACKTRACK(e,n){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{return e.apply(this,n),!0}catch(i){if(r2(i))return!1;throw i}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return iue(vr(this.gastProductionsCache))}}class rhe{initRecognizerEngine(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=n2,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},dt(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Xt(e)){if(yn(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Xt(e))this.tokensMap=rs(e,(s,o)=>(s[o.name]=o,s),{});else if(dt(e,"modes")&&uo(co(vr(e.modes)),que)){const s=co(vr(e.modes)),o=_7(s);this.tokensMap=rs(o,(a,l)=>(a[l.name]=l,a),{})}else if(Us(e))this.tokensMap=ni(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Uu;const r=dt(e,"modes")?co(vr(e.modes)):vr(e),i=uo(r,s=>yn(s.categoryMatches));this.tokenMatcher=i?n2:X3,Y3(vr(this.tokensMap))}defineRule(e,n,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=dt(r,"resyncEnabled")?r.resyncEnabled:o2.resyncEnabled,s=dt(r,"recoveryValueFunc")?r.recoveryValueFunc:o2.recoveryValueFunc,o=this.ruleShortNameIdx<<Qfe+Dc;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;let a;return this.outputCst===!0?a=function(...u){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,u);const h=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(h),h}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}}:a=function(...u){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,u)}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:n})}invokeRuleCatch(e,n,r){const i=this.RULE_STACK.length===1,s=n&&!this.isBackTracking()&&this.recoveryEnabled;if(r2(e)){const o=e;if(s){const a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(o.resyncedTokens=this.reSyncTo(a),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return r(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(i)return this.moveToTerminatedState(),r(e);throw o}}else throw e}optionInternal(e,n){const r=this.getKeyForAutomaticLookahead(gN,n);return this.optionInternalLogic(e,n,r)}optionInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof e!="function"){s=e.DEF;const o=e.GATE;if(o!==void 0){const a=i;i=()=>o.call(this)&&a.call(this)}}else s=e;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(e,n){const r=this.getKeyForAutomaticLookahead(wE,e);return this.atLeastOneInternalLogic(e,n,r)}atLeastOneInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const o=n.GATE;if(o!==void 0){const a=i;i=()=>o.call(this)&&a.call(this)}}else s=n;if(i.call(this)===!0){let o=this.doSingleRepetition(s);for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,Xn.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],i,wE,e,cfe)}atLeastOneSepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(c1,e);this.atLeastOneSepFirstInternalLogic(e,n,r)}atLeastOneSepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,UM],a,c1,e,UM)}else throw this.raiseEarlyExitException(e,Xn.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,n){const r=this.getKeyForAutomaticLookahead(_E,e);return this.manyInternalLogic(e,n,r)}manyInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const a=n.GATE;if(a!==void 0){const l=i;i=()=>a.call(this)&&l.call(this)}}else s=n;let o=!0;for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],i,_E,e,lfe,o)}manySepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(IE,e);this.manySepFirstInternalLogic(e,n,r)}manySepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,kM],a,IE,e,kM)}}repetitionSepSecondInternal(e,n,r,i,s){for(;r();)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,r,i,s],r,c1,e,s)}doSingleRepetition(e){const n=this.getLexerPosition();return e.call(this),this.getLexerPosition()>n}orInternal(e,n){const r=this.getKeyForAutomaticLookahead(mN,n),i=Xt(e)?e:e.DEF,o=this.getLaFuncFromCache(r).call(this,i);if(o!==void 0)return i[o].ALT.call(this);this.raiseNoAltException(n,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Ofe(n,e))}}subruleInternal(e,n,r){let i;try{const s=r!==void 0?r.ARGS:void 0;return this.subruleIdx=n,i=e.apply(this,s),this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),i}catch(s){throw this.subruleInternalError(s,r,e.ruleName)}}subruleInternalError(e,n,r){throw r2(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,n,r){let i;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),i=s):this.consumeInternalError(e,s,r)}catch(s){i=this.consumeInternalRecovery(e,n,s)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,i),i}consumeInternalError(e,n,r){let i;const s=this.LA(0);throw r!==void 0&&r.ERR_MSG?i=r.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new dN(i,n,s))}consumeInternalRecovery(e,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,i)}catch(s){throw s.name===pN?r:s}}else throw r}saveRecogState(){const e=this.errors,n=ni(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Uu)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class ihe{initErrorHandler(e){this._errors=[],this.errorMessageProvider=dt(e,"errorMessageProvider")?e.errorMessageProvider:vc.errorMessageProvider}SAVE_ERROR(e){if(r2(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:ni(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return ni(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,n,r){const i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],a=b7(e,s,n,this.maxLookahead)[0],l=[];for(let u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new Nfe(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,n){const r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],s=M7(e,i,this.maxLookahead),o=[];for(let c=1;c<=this.maxLookahead;c++)o.push(this.LA(c));const a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:a,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Ffe(l,this.LA(1),a))}}class she{initContentAssist(){}computeContentAssist(e,n){const r=this.gastProductionsCache[e];if(qa(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return tN([r],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const n=Ao(e.ruleStack),i=this.getGAstProductions()[n];return new afe(i,e).startWalking()}}const jv={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(jv);const zM=!0,VM=Math.pow(2,Dc)-1,vN=ZO({name:"RECORDING_PHASE_TOKEN",pattern:Ds.NA});Y3([vN]);const yN=T7(vN,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(yN);const ohe={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class ahe{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const n=e>0?e:"";this[`CONSUME${n}`]=function(r,i){return this.consumeInternalRecord(r,e,i)},this[`SUBRULE${n}`]=function(r,i){return this.subruleInternalRecord(r,e,i)},this[`OPTION${n}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${n}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${n}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${n}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${n}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${n}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,n,r){return this.consumeInternalRecord(n,e,r)},this.subrule=function(e,n,r){return this.subruleInternalRecord(n,e,r)},this.option=function(e,n){return this.optionInternalRecord(n,e)},this.or=function(e,n){return this.orInternalRecord(n,e)},this.many=function(e,n){this.manyInternalRecord(e,n)},this.atLeastOne=function(e,n){this.atLeastOneInternalRecord(e,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let n=0;n<10;n++){const r=n>0?n:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,n){return()=>!0}LA_RECORD(e){return s2}topLevelRuleRecord(e,n){try{const r=new Ad({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,n){return Ep.call(this,Oi,e,n)}atLeastOneInternalRecord(e,n){Ep.call(this,da,n,e)}atLeastOneSepFirstInternalRecord(e,n){Ep.call(this,pa,n,e,zM)}manyInternalRecord(e,n){Ep.call(this,Er,n,e)}manySepFirstInternalRecord(e,n){Ep.call(this,To,n,e,zM)}orInternalRecord(e,n){return lhe.call(this,e,n)}subruleInternalRecord(e,n,r){if(i2(n),!e||dt(e,"ruleName")===!1){const a=new Error(`<SUBRULE${WM(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=Yh(this.recordingProdStack),s=e.ruleName,o=new is({idx:n,nonTerminalName:s,label:r==null?void 0:r.LABEL,referencedRule:void 0});return i.definition.push(o),this.outputCst?ohe:jv}consumeInternalRecord(e,n,r){if(i2(n),!YO(e)){const o=new Error(`<CONSUME${WM(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=Yh(this.recordingProdStack),s=new Qn({idx:n,terminalType:e,label:r==null?void 0:r.LABEL});return i.definition.push(s),yN}}function Ep(t,e,n,r=!1){i2(n);const i=Yh(this.recordingProdStack),s=cl(e)?e:e.DEF,o=new t({definition:[],idx:n});return r&&(o.separator=e.SEP),dt(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),i.definition.push(o),this.recordingProdStack.pop(),jv}function lhe(t,e){i2(e);const n=Yh(this.recordingProdStack),r=Xt(t)===!1,i=r===!1?t:t.DEF,s=new Mo({definition:[],idx:e,ignoreAmbiguities:r&&t.IGNORE_AMBIGUITIES===!0});dt(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const o=UO(i,a=>cl(a.GATE));return s.hasPredicates=o,n.definition.push(s),mt(i,a=>{const l=new ki({definition:[]});s.definition.push(l),dt(a,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:dt(a,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),a.ALT.call(this),this.recordingProdStack.pop()}),jv}function WM(t){return t===0?"":`${t}`}function i2(t){if(t<0||t>VM){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${VM+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class che{initPerformanceTracer(e){if(dt(e,"traceInitPerf")){const n=e.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=vc.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);const{time:i,value:s}=QO(n),o=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${r}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,s}else return n()}}function uhe(t,e){e.forEach(n=>{const r=n.prototype;Object.getOwnPropertyNames(r).forEach(i=>{if(i==="constructor")return;const s=Object.getOwnPropertyDescriptor(r,i);s&&(s.get||s.set)?Object.defineProperty(t.prototype,i,s):t.prototype[i]=n.prototype[i]})})}const s2=T7(Uu,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(s2);const vc=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:eN,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),o2=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Ai;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Ai||(Ai={}));class Kv{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{HO(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),mt(this.definedRulesNames,i=>{const o=this[i].originalGrammarAction;let a;this.TRACE_INIT(`${i} Rule`,()=>{a=this.topLevelRuleRecord(i,o)}),this.gastProductionsCache[i]=a})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=Dfe({rules:vr(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if(yn(r)&&this.skipValidations===!1){const i=Lfe({rules:vr(this.gastProductionsCache),tokenTypes:vr(this.tokensMap),errMsgProvider:Eu,grammarName:n}),s=vfe({lookaheadStrategy:this.lookaheadStrategy,rules:vr(this.gastProductionsCache),tokenTypes:vr(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(i,s)}}),yn(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=fue(vr(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:vr(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(vr(this.gastProductionsCache))})),!Kv.DEFER_DEFINITION_ERRORS_HANDLING&&!yn(this.definitionErrors))throw e=ct(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(e,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),dt(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=dt(n,"skipValidations")?n.skipValidations:vc.skipValidations}}Kv.DEFER_DEFINITION_ERRORS_HANDLING=!1;uhe(Kv,[Ufe,zfe,ehe,the,rhe,nhe,ihe,she,ahe,che]);class fhe{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=n}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,n){const r=this.workersResolve[e];if(r&&r(n),this.queue.length){const{resolve:i,msg:s,transfer:o}=this.queue.shift();this.workersResolve[e]=i,this.workers[e].postMessage(s,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,n){return new Promise(r=>{const i=this._getIdleWorker();i!==-1?(this._initWorker(i),this.workerStatus|=1<<i,this.workersResolve[i]=r,this.workers[i].postMessage(e,n)):this.queue.push({resolve:r,msg:e,transfer:n})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class hhe extends dc{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=On}}const Z6=new WeakMap;let e8=0,t8;const Op=class extends Fr{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new fhe,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const t=new Cr(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=t.loadAsync("basis_transcoder.js"),n=new Cr(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const r=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([e,r]).then(([i,s])=>{const o=Op.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(Op.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Op.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Op.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s,this.workerPool.setWorkerCreator(()=>{const l=new Worker(this.workerSourceURL),c=this.transcoderBinary.slice(0);return l.postMessage({type:"init",config:this.workerConfig,transcoderBinary:c},[c]),l})}),e8>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),e8++}return this.transcoderPending}load(t,e,n,r){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const i=new Cr(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials),i.load(t,s=>{if(Z6.has(s))return Z6.get(s).promise.then(e).catch(r);this._createTexture(s).then(o=>e?e(o):null).catch(r)},n,r)}_createTextureFrom(t,e){const{mipmaps:n,width:r,height:i,format:s,type:o,error:a,dfdTransferFn:l,dfdFlags:c}=t;if(o==="error")return Promise.reject(a);const u=e.layerCount>1?new hhe(n,r,i,e.layerCount,s,yr):new dc(n,r,i,s,yr);return u.minFilter=n.length===1?fn:Ns,u.magFilter=fn,u.generateMipmaps=!1,u.needsUpdate=!0,"colorSpace"in u?u.colorSpace=l===Z4?"srgb":"srgb-linear":u.encoding=l===Z4?3001:3e3,u.premultiplyAlpha=!!(c&Wq),u}async _createTexture(t,e={}){const n=Jq(new Uint8Array(t));if(n.vkFormat!==hF)return phe(n);const r=e,i=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:r},[t])).then(s=>this._createTextureFrom(s.data,n));return Z6.set(t,{promise:i}),i}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),e8--,this}};let Jv=Op;st(Jv,"BasisFormat",{ETC1S:0,UASTC_4x4:1});st(Jv,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});st(Jv,"EngineFormat",{RGBAFormat:Yn,RGBA_ASTC_4x4_Format:G0,RGBA_BPTC_Format:Eh,RGBA_ETC2_EAC_Format:U0,RGBA_PVRTC_4BPPV1_Format:N0,RGBA_S3TC_DXT5_Format:yh,RGB_ETC1_Format:X2,RGB_ETC2_Format:k0,RGB_PVRTC_4BPPV1_Format:O0,RGB_S3TC_DXT1_Format:vh});st(Jv,"BasisWorker",function(){let t,e,n;const r=_EngineFormat,i=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(A){const x=A.data;switch(x.type){case"init":t=x.config,o(x.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:E,height:g,hasAlpha:y,mipmaps:v,format:S,dfdTransferFn:w,dfdFlags:T}=a(x.buffer),M=[];for(let P=0;P<v.length;++P)M.push(v[P].data.buffer);self.postMessage({type:"transcode",id:x.id,width:E,height:g,hasAlpha:y,mipmaps:v,format:S,dfdTransferFn:w,dfdFlags:T},M)}catch(E){console.error(E),self.postMessage({type:"error",id:x.id,error:E.message})}});break}});function o(A){e=new Promise(x=>{n={wasmBinary:A,onRuntimeInitialized:x},BASIS(n)}).then(()=>{n.initializeBasis(),n.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function a(A){const x=new n.KTX2File(new Uint8Array(A));function E(){x.close(),x.delete()}if(!x.isValid())throw E(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const g=x.isUASTC()?s.UASTC_4x4:s.ETC1S,y=x.getWidth(),v=x.getHeight(),S=x.getLayers()||1,w=x.getLevels(),T=x.getHasAlpha(),M=x.getDFDTransferFunc(),P=x.getDFDFlags(),{transcoderFormat:b,engineFormat:B}=h(g,y,v,T);if(!y||!v||!w)throw E(),new Error("THREE.KTX2Loader:	Invalid texture");if(!x.startTranscoding())throw E(),new Error("THREE.KTX2Loader: .startTranscoding failed");const L=[];for(let H=0;H<w;H++){const U=[];let V,W;for(let q=0;q<S;q++){const Y=x.getImageLevelInfo(H,q,0);V=Y.origWidth<4?Y.origWidth:Y.width,W=Y.origHeight<4?Y.origHeight:Y.height;const k=new Uint8Array(x.getImageTranscodedSizeInBytes(H,q,0,b));if(!x.transcodeImage(k,H,q,0,b,0,-1,-1))throw E(),new Error("THREE.KTX2Loader: .transcodeImage failed.");U.push(k)}L.push({data:m(U),width:V,height:W})}return E(),{width:y,height:v,hasAlpha:T,mipmaps:L,format:B,dfdTransferFn:M,dfdFlags:P}}const l=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=l.sort(function(A,x){return A.priorityETC1S-x.priorityETC1S}),u=l.sort(function(A,x){return A.priorityUASTC-x.priorityUASTC});function h(A,x,E,g){let y,v;const S=A===s.ETC1S?c:u;for(let w=0;w<S.length;w++){const T=S[w];if(t[T.if]&&T.basisFormat.includes(A)&&!(g&&T.transcoderFormat.length<2)&&!(T.needsPowerOfTwo&&!(d(x)&&d(E))))return y=T.transcoderFormat[g?1:0],v=T.engineFormat[g?1:0],{transcoderFormat:y,engineFormat:v}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),y=i.RGBA32,v=r.RGBAFormat,{transcoderFormat:y,engineFormat:v}}function d(A){return A<=2?!0:(A&A-1)===0&&A!==0}function m(A){let x=0;for(let y=0;y<A.length;y++){const v=A[y];x+=v.byteLength}const E=new Uint8Array(x);let g=0;for(let y=0;y<A.length;y++){const v=A[y];E.set(v,g),g+=v.byteLength}return E}});const $M={[xF]:Yn,[vF]:Yn,[mF]:Yn,[Z9]:Yn,[EF]:ih,[AF]:ih,[pF]:ih,[q9]:ih,[yF]:pu,[gF]:pu,[Y9]:pu,[dF]:pu},n8={[xF]:pi,[vF]:ir,[mF]:yr,[Z9]:yr,[EF]:pi,[AF]:ir,[pF]:yr,[q9]:yr,[yF]:pi,[gF]:ir,[Y9]:yr,[dF]:yr},dhe={[Z9]:3001,[q9]:3001,[Y9]:3001};async function phe(t){const{vkFormat:e,pixelWidth:n,pixelHeight:r,pixelDepth:i}=t;if($M[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const s=t.levels[0];let o,a;if(t.supercompressionScheme===fF)o=s.levelData;else if(t.supercompressionScheme===Uq)t8||(t8=new Promise(async c=>{const u=new Xq;await u.init(),c(u)})),o=(await t8).decode(s.levelData,s.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");n8[e]===pi?a=new Float32Array(o.buffer,o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT):n8[e]===ir?a=new Uint16Array(o.buffer,o.byteOffset,o.byteLength/Uint16Array.BYTES_PER_ELEMENT):a=o;const l=i===0?new Yo(a,n,r):new kre(a,n,r,i);return l.type=n8[e],l.format=$M[e],l.encoding=dhe[e]||3e3,l.needsUpdate=!0,Promise.resolve(l)}const r8=new WeakMap,Np=class extends Fr{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.workerConfig=null}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerLimit=t,this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}load(t,e,n,r){const i=new Cr(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const s=new dc;return i.load(t,o=>{if(r8.has(o))return r8.get(o).promise.then(e).catch(r);this._createTexture([o]).then(function(a){s.copy(a),s.needsUpdate=!0,e&&e(s)}).catch(r)},n,r),s}parseInternalAsync(t){const{levels:e}=t,n=new Set;for(let r=0;r<e.length;r++)n.add(e[r].data.buffer);return this._createTexture(Array.from(n),{...t,lowLevel:!0})}_createTexture(t,e={}){let n,r;const i=e;let s=0;for(let a=0;a<t.length;a++)s+=t[a].byteLength;const o=this._allocateWorker(s).then(a=>(n=a,r=this.workerNextTaskID++,new Promise((l,c)=>{n._callbacks[r]={resolve:l,reject:c},n.postMessage({type:"transcode",id:r,buffers:t,taskConfig:i},t)}))).then(a=>{const{mipmaps:l,width:c,height:u,format:h}=a,d=new dc(l,c,u,h,yr);return d.minFilter=l.length===1?fn:Ns,d.magFilter=fn,d.generateMipmaps=!1,d.needsUpdate=!0,d});return o.catch(()=>!0).then(()=>{n&&r&&(n._taskLoad-=s,delete n._callbacks[r])}),r8.set(t[0],{promise:o}),o}_initTranscoder(){if(!this.transcoderPending){const t=new Cr(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=new Promise((i,s)=>{t.load("basis_transcoder.js",i,void 0,s)}),n=new Cr(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const r=new Promise((i,s)=>{n.load("basis_transcoder.wasm",i,void 0,s)});this.transcoderPending=Promise.all([e,r]).then(([i,s])=>{const o=Np.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(Np.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Np.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Np.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s})}return this.transcoderPending}_allocateWorker(t){return this._initTranscoder().then(()=>{if(this.workerPool.length<this.workerLimit){const n=new Worker(this.workerSourceURL);n._callbacks={},n._taskLoad=0,n.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),n.onmessage=function(r){const i=r.data;switch(i.type){case"transcode":n._callbacks[i.id].resolve(i);break;case"error":n._callbacks[i.id].reject(i);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,r){return n._taskLoad>r._taskLoad?-1:1});const e=this.workerPool[this.workerPool.length-1];return e._taskLoad+=t,e})}dispose(){for(let t=0;t<this.workerPool.length;t++)this.workerPool[t].terminate();return this.workerPool.length=0,this}};let Xv=Np;st(Xv,"BasisFormat",{ETC1S:0,UASTC_4x4:1});st(Xv,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});st(Xv,"EngineFormat",{RGBAFormat:Yn,RGBA_ASTC_4x4_Format:G0,RGBA_BPTC_Format:Eh,RGBA_ETC2_EAC_Format:U0,RGBA_PVRTC_4BPPV1_Format:N0,RGBA_S3TC_DXT5_Format:yh,RGB_ETC1_Format:X2,RGB_ETC2_Format:k0,RGB_PVRTC_4BPPV1_Format:O0,RGB_S3TC_DXT1_Format:vh});st(Xv,"BasisWorker",function(){let t,e,n;const r=_EngineFormat,i=_TranscoderFormat,s=_BasisFormat;onmessage=function(y){const v=y.data;switch(v.type){case"init":t=v.config,o(v.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:S,height:w,hasAlpha:T,mipmaps:M,format:P}=v.taskConfig.lowLevel?a(v.taskConfig):l(v.buffers[0]),b=[];for(let B=0;B<M.length;++B)b.push(M[B].data.buffer);self.postMessage({type:"transcode",id:v.id,width:S,height:w,hasAlpha:T,mipmaps:M,format:P},b)}catch(S){console.error(S),self.postMessage({type:"error",id:v.id,error:S.message})}});break}};function o(y){e=new Promise(v=>{n={wasmBinary:y,onRuntimeInitialized:v},BASIS(n)}).then(()=>{n.initializeBasis()})}function a(y){const{basisFormat:v,width:S,height:w,hasAlpha:T}=y,{transcoderFormat:M,engineFormat:P}=d(v,S,w,T),b=n.getBytesPerBlockOrPixel(M);m(n.isFormatSupported(M),"THREE.BasisTextureLoader: Unsupported format.");const B=[];if(v===s.ETC1S){const L=new n.LowLevelETC1SImageTranscoder,{endpointCount:H,endpointsData:U,selectorCount:V,selectorsData:W,tablesData:q}=y.globalData;try{let Y;Y=L.decodePalettes(H,U,V,W),m(Y,"THREE.BasisTextureLoader: decodePalettes() failed."),Y=L.decodeTables(q),m(Y,"THREE.BasisTextureLoader: decodeTables() failed.");for(let k=0;k<y.levels.length;k++){const K=y.levels[k],$=y.globalData.imageDescs[k],G=E(M,K.width,K.height),X=new Uint8Array(G);Y=L.transcodeImage(M,X,G/b,K.data,A(M,K.width),x(M,K.height),K.width,K.height,K.index,$.rgbSliceByteOffset,$.rgbSliceByteLength,$.alphaSliceByteOffset,$.alphaSliceByteLength,$.imageFlags,T,!1,0,0),m(Y,"THREE.BasisTextureLoader: transcodeImage() failed for level "+K.index+"."),B.push({data:X,width:K.width,height:K.height})}}finally{L.delete()}}else for(let L=0;L<y.levels.length;L++){const H=y.levels[L],U=E(M,H.width,H.height),V=new Uint8Array(U),W=n.transcodeUASTCImage(M,V,U/b,H.data,A(M,H.width),x(M,H.height),H.width,H.height,H.index,0,H.data.byteLength,0,T,!1,0,0,-1,-1);m(W,"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+H.index+"."),B.push({data:V,width:H.width,height:H.height})}return{width:S,height:w,hasAlpha:T,mipmaps:B,format:P}}function l(y){const v=new n.BasisFile(new Uint8Array(y)),S=v.isUASTC()?s.UASTC_4x4:s.ETC1S,w=v.getImageWidth(0,0),T=v.getImageHeight(0,0),M=v.getNumLevels(0),P=v.getHasAlpha();function b(){v.close(),v.delete()}const{transcoderFormat:B,engineFormat:L}=d(S,w,T,P);if(!w||!T||!M)throw b(),new Error("THREE.BasisTextureLoader:	Invalid texture");if(!v.startTranscoding())throw b(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");const H=[];for(let U=0;U<M;U++){const V=v.getImageWidth(0,U),W=v.getImageHeight(0,U),q=new Uint8Array(v.getImageTranscodedSizeInBytes(0,U,B));if(!v.transcodeImage(q,0,U,B,0,P))throw b(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");H.push({data:q,width:V,height:W})}return b(),{width:w,height:T,hasAlpha:P,mipmaps:H,format:L}}const c=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC1],engineFormat:[r.RGB_ETC1_Format,r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],u=c.sort(function(y,v){return y.priorityETC1S-v.priorityETC1S}),h=c.sort(function(y,v){return y.priorityUASTC-v.priorityUASTC});function d(y,v,S,w){let T,M;const P=y===s.ETC1S?u:h;for(let b=0;b<P.length;b++){const B=P[b];if(t[B.if]&&B.basisFormat.includes(y)&&!(B.needsPowerOfTwo&&!(g(v)&&g(S))))return T=B.transcoderFormat[w?1:0],M=B.engineFormat[w?1:0],{transcoderFormat:T,engineFormat:M}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),T=i.RGBA32,M=r.RGBAFormat,{transcoderFormat:T,engineFormat:M}}function m(y,v){if(!y)throw new Error(v)}function A(y,v){return Math.ceil(v/n.getFormatBlockWidth(y))}function x(y,v){return Math.ceil(v/n.getFormatBlockHeight(y))}function E(y,v,S){const w=n.getBytesPerBlockOrPixel(y);if(n.formatIsUncompressed(y))return v*S*w;if(y===i.PVRTC1_4_RGB||y===i.PVRTC1_4_RGBA){const T=v+3&-4,M=S+3&-4;return(Math.max(8,T)*Math.max(8,M)*4+7)/8}return A(y,v)*x(y,S)*w}function g(y){return y<=2?!0:(y&y-1)===0&&y!==0}});const i8=new WeakMap;class mhe extends Fr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Cr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const r=JSON.stringify(n);if(i8.has(e)){const l=i8.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),i8.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new It;e.index&&n.setIndex(new tn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new tn(o,a))}return n}_loadLibrary(e,n){const r=new Cr(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=ghe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function ghe(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(h){u({draco:h})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const h=u.draco,d=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const A=n(h,d,m,c),x=A.attributes.map(E=>E.array.buffer);A.index&&x.push(A.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:A},x)}catch(A){console.error(A),self.postMessage({type:"error",id:a.id,error:A.message})}finally{h.destroy(m),h.destroy(d)}});break}};function n(o,a,l,c){const u=c.attributeIDs,h=c.attributeTypes;let d,m;const A=a.GetEncodedGeometryType(l);if(A===o.TRIANGULAR_MESH)d=new o.Mesh,m=a.DecodeBufferToMesh(l,d);else if(A===o.POINT_CLOUD)d=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const x={index:null,attributes:[]};for(const E in u){const g=self[h[E]];let y,v;if(c.useUniqueIDs)v=u[E],y=a.GetAttributeByUniqueId(d,v);else{if(v=a.GetAttributeId(d,o[u[E]]),v===-1)continue;y=a.GetAttribute(d,v)}x.attributes.push(i(o,a,d,E,g,y))}return A===o.TRIANGULAR_MESH&&(x.index=r(o,a,d)),o.destroy(d),x}function r(o,a,l){const u=l.num_faces()*3,h=u*4,d=o._malloc(h);a.GetTrianglesUInt32Array(l,h,d);const m=new Uint32Array(o.HEAPF32.buffer,d,u).slice();return o._free(d),{array:m,itemSize:1}}function i(o,a,l,c,u,h){const d=h.num_components(),A=l.num_points()*d,x=A*u.BYTES_PER_ELEMENT,E=s(o,u),g=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,h,E,x,g);const y=new u(o.HEAPF32.buffer,g,A).slice();return o._free(g),{name:c,array:y,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let _A;const s8=()=>{if(_A)return _A;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const d=new Uint8Array(h.length);for(let A=0;A<h.length;++A){const x=h.charCodeAt(A);d[A]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let m=0;for(let A=0;A<h.length;++A)d[m++]=d[A]<60?r[d[A]]:(d[A]-60)*64+d[++A];return d.buffer.slice(0,m)}function l(h,d,m,A,x,E){const g=s.exports.sbrk,y=m+3&-4,v=g(y*A),S=g(x.length),w=new Uint8Array(s.exports.memory.buffer);w.set(x,S);const T=h(v,m,A,S,x.length);if(T===0&&E&&E(v,y,A),d.set(w.subarray(v,v+m*A)),g(v-g(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return _A={ready:o,supported:!0,decodeVertexBuffer(h,d,m,A,x){l(s.exports.meshopt_decodeVertexBuffer,h,d,m,A,s.exports[c[x]])},decodeIndexBuffer(h,d,m,A){l(s.exports.meshopt_decodeIndexBuffer,h,d,m,A)},decodeIndexSequence(h,d,m,A){l(s.exports.meshopt_decodeIndexSequence,h,d,m,A)},decodeGltfBuffer(h,d,m,A,x,E){l(s.exports[u[x]],h,d,m,A,s.exports[c[E]])}},_A};function EN(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}let wA=null,xN="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function CN(t,e,n){return r=>{n&&n(r),t&&(wA||(wA=new mhe),wA.setDecoderPath(typeof t=="string"?t:xN),r.setDRACOLoader(wA)),e&&r.setMeshoptDecoder(typeof s8=="function"?s8():s8)}}function hl(t,e=!0,n=!0,r){return P3(a7,t,CN(e,n,r))}hl.preload=(t,e=!0,n=!0,r)=>P3.preload(a7,t,CN(e,n,r));hl.clear=t=>P3.clear(a7,t);hl.setDecoderPath=t=>{xN=t};var SN={exports:{}},Ahe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vhe=Ahe,yhe=vhe;function _N(){}function wN(){}wN.resetWarningCache=_N;var Ehe=function(){function t(r,i,s,o,a,l){if(l!==yhe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wN,resetWarningCache:_N};return n.PropTypes=n,n};SN.exports=Ehe();var xhe=SN.exports;const mn=rd(xhe);function Che({all:t,scene:e,camera:n}){const r=t0(({gl:o})=>o),i=t0(({camera:o})=>o),s=t0(({scene:o})=>o);return D.useLayoutEffect(()=>{const o=[];t&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),r.compile(e||s,n||i);const a=new v9(128);new A9(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}function She(){const t=t0(e=>e.gl);return D.useEffect(()=>(t.shadowMap.autoUpdate=!1,t.shadowMap.needsUpdate=!0,()=>{t.shadowMap.autoUpdate=t.shadowMap.needsUpdate=!0}),[t.shadowMap]),null}var _he=Object.defineProperty,whe=(t,e)=>{for(var n in e)_he(t,n,{get:e[n],enumerable:!0})},vo={};whe(vo,{assign:()=>Mhe,colors:()=>ac,createStringInterpolator:()=>N7,skipAnimation:()=>PN,to:()=>RN,willAdvance:()=>k7});var R7=Z3(),Mt=t=>q3(t,R7),P7=Z3();Mt.write=t=>q3(t,P7);var Yv=Z3();Mt.onStart=t=>q3(t,Yv);var D7=Z3();Mt.onFrame=t=>q3(t,D7);var L7=Z3();Mt.onFinish=t=>q3(t,L7);var Ih=[];Mt.setTimeout=(t,e)=>{const n=Mt.now()+e,r=()=>{const s=Ih.findIndex(o=>o.cancel==r);~s&&Ih.splice(s,1),Kl-=~s?1:0},i={time:n,handler:t,cancel:r};return Ih.splice(IN(n),0,i),Kl+=1,TN(),i};var IN=t=>~(~Ih.findIndex(e=>e.time>t)||~Ih.length);Mt.cancel=t=>{Yv.delete(t),D7.delete(t),L7.delete(t),R7.delete(t),P7.delete(t)};Mt.sync=t=>{ME=!0,Mt.batchedUpdates(t),ME=!1};Mt.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Mt.onStart(n)}return r.handler=t,r.cancel=()=>{Yv.delete(n),e=null},r};var F7=typeof window<"u"?window.requestAnimationFrame:()=>{};Mt.use=t=>F7=t;Mt.now=typeof performance<"u"?()=>performance.now():Date.now;Mt.batchedUpdates=t=>t();Mt.catch=console.error;Mt.frameLoop="always";Mt.advance=()=>{Mt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):bN()};var jl=-1,Kl=0,ME=!1;function q3(t,e){ME?(e.delete(t),t(0)):(e.add(t),TN())}function TN(){jl<0&&(jl=0,Mt.frameLoop!=="demand"&&F7(MN))}function Ihe(){jl=-1}function MN(){~jl&&(F7(MN),Mt.batchedUpdates(bN))}function bN(){const t=jl;jl=Mt.now();const e=IN(jl);if(e&&(BN(Ih.splice(0,e),n=>n.handler()),Kl-=e),!Kl){Ihe();return}Yv.flush(),R7.flush(t?Math.min(64,jl-t):16.667),D7.flush(),P7.flush(),L7.flush()}function Z3(){let t=new Set,e=t;return{add(n){Kl+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return Kl-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,Kl-=e.size,BN(e,r=>r(n)&&t.add(r)),Kl+=t.size,e=t)}}}function BN(t,e){t.forEach(n=>{try{e(n)}catch(r){Mt.catch(r)}})}function bE(){}var The=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Le={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Ra(t,e){if(Le.arr(t)){if(!Le.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var nn=(t,e)=>t.forEach(e);function Za(t,e,n){if(Le.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var Ms=t=>Le.und(t)?[]:Le.arr(t)?t:[t];function o0(t,e){if(t.size){const n=Array.from(t);t.clear(),nn(n,e)}}var kp=(t,...e)=>o0(t,n=>n(...e)),O7=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),N7,RN,ac=null,PN=!1,k7=bE,Mhe=t=>{t.to&&(RN=t.to),t.now&&(Mt.now=t.now),t.colors!==void 0&&(ac=t.colors),t.skipAnimation!=null&&(PN=t.skipAnimation),t.createStringInterpolator&&(N7=t.createStringInterpolator),t.requestAnimationFrame&&Mt.use(t.requestAnimationFrame),t.batchedUpdates&&(Mt.batchedUpdates=t.batchedUpdates),t.willAdvance&&(k7=t.willAdvance),t.frameLoop&&(Mt.frameLoop=t.frameLoop)},a0=new Set,Is=[],o8=[],a2=0,qv={get idle(){return!a0.size&&!Is.length},start(t){a2>t.priority?(a0.add(t),Mt.onStart(bhe)):(DN(t),Mt(BE))},advance:BE,sort(t){if(a2)Mt.onFrame(()=>qv.sort(t));else{const e=Is.indexOf(t);~e&&(Is.splice(e,1),LN(t))}},clear(){Is=[],a0.clear()}};function bhe(){a0.forEach(DN),a0.clear(),Mt(BE)}function DN(t){Is.includes(t)||LN(t)}function LN(t){Is.splice(Bhe(Is,e=>e.priority>t.priority),0,t)}function BE(t){const e=o8;for(let n=0;n<Is.length;n++){const r=Is[n];a2=r.priority,r.idle||(k7(r),r.advance(t),r.idle||e.push(r))}return a2=0,o8=Is,o8.length=0,Is=e,Is.length>0}function Bhe(t,e){const n=t.findIndex(e);return n<0?t.length:n}var Rhe=(t,e,n)=>Math.min(Math.max(n,t),e),Phe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},oo="[-+]?\\d*\\.?\\d+",l2=oo+"%";function Zv(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Dhe=new RegExp("rgb"+Zv(oo,oo,oo)),Lhe=new RegExp("rgba"+Zv(oo,oo,oo,oo)),Fhe=new RegExp("hsl"+Zv(oo,l2,l2)),Ohe=new RegExp("hsla"+Zv(oo,l2,l2,oo)),Nhe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,khe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Uhe=/^#([0-9a-fA-F]{6})$/,Ghe=/^#([0-9a-fA-F]{8})$/;function Qhe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=Uhe.exec(t))?parseInt(e[1]+"ff",16)>>>0:ac&&ac[t]!==void 0?ac[t]:(e=Dhe.exec(t))?(Qf(e[1])<<24|Qf(e[2])<<16|Qf(e[3])<<8|255)>>>0:(e=Lhe.exec(t))?(Qf(e[1])<<24|Qf(e[2])<<16|Qf(e[3])<<8|JM(e[4]))>>>0:(e=Nhe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Ghe.exec(t))?parseInt(e[1],16)>>>0:(e=khe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=Fhe.exec(t))?(jM(KM(e[1]),IA(e[2]),IA(e[3]))|255)>>>0:(e=Ohe.exec(t))?(jM(KM(e[1]),IA(e[2]),IA(e[3]))|JM(e[4]))>>>0:null}function a8(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jM(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=a8(i,r,t+1/3),o=a8(i,r,t),a=a8(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Qf(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function KM(t){return(parseFloat(t)%360+360)%360/360}function JM(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function IA(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function XM(t){let e=Qhe(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var r3=(t,e,n)=>{if(Le.fun(t))return t;if(Le.arr(t))return r3({range:t,output:e,extrapolate:n});if(Le.str(t.output[0]))return N7(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const u=zhe(c,s);return Hhe(c,s[u],s[u+1],i[u],i[u+1],l,o,a,r.map)}};function Hhe(t,e,n,r,i,s,o,a,l){let c=l?l(t):t;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?c=-c:n===1/0?c=c-e:c=(c-e)/(n-e),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function zhe(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var Vhe=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return Rhe(0,1,i/t)},c2=1.70158,TA=c2*1.525,YM=c2+1,qM=2*Math.PI/3,ZM=2*Math.PI/4.5,MA=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,Whe={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>YM*t*t*t-c2*t*t,easeOutBack:t=>1+YM*Math.pow(t-1,3)+c2*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((TA+1)*2*t-TA)/2:(Math.pow(2*t-2,2)*((TA+1)*(t*2-2)+TA)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*qM),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*qM)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*ZM))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*ZM)/2+1,easeInBounce:t=>1-MA(1-t),easeOutBounce:MA,easeInOutBounce:t=>t<.5?(1-MA(1-2*t))/2:(1+MA(2*t-1))/2,steps:Vhe},i3=Symbol.for("FluidValue.get"),Zh=Symbol.for("FluidValue.observers"),Vo=t=>!!(t&&t[i3]),xs=t=>t&&t[i3]?t[i3]():t,eb=t=>t[Zh]||null;function $he(t,e){t.eventObserved?t.eventObserved(e):t(e)}function u2(t,e){const n=t[Zh];n&&n.forEach(r=>{$he(r,e)})}var jhe=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");Khe(this,t)}},Khe=(t,e)=>FN(t,i3,e);function em(t,e){if(t[i3]){let n=t[Zh];n||FN(t,Zh,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function f2(t,e){const n=t[Zh];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[Zh]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var FN=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),u1=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Jhe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,tb=new RegExp(`(${u1.source})(%|[a-z]+)`,"i"),Xhe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,e5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,ON=t=>{const[e,n]=Yhe(t);if(!e||O7())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&e5.test(n))return ON(n);if(n)return n}return t},Yhe=t=>{const e=e5.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},l8,qhe=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,NN=t=>{l8||(l8=ac?new RegExp(`(${Object.keys(ac).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>xs(s).replace(e5,ON).replace(Jhe,XM).replace(l8,XM)),n=e.map(s=>s.match(u1).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>r3({...t,output:s}));return s=>{var l;const o=!tb.test(e[0])&&((l=e.find(c=>tb.test(c)))==null?void 0:l.replace(u1,""));let a=0;return e[0].replace(u1,()=>`${i[a++](s)}${o||""}`).replace(Xhe,qhe)}},U7="react-spring: ",kN=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${U7}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},Zhe=kN(console.warn);function ede(){Zhe(`${U7}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var tde=kN(console.warn);function nde(){tde(`${U7}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function t5(t){return Le.str(t)&&(t[0]=="#"||/\d/.test(t)||!O7()&&e5.test(t)||t in(ac||{}))}var G7=O7()?D.useEffect:D.useLayoutEffect,rde=()=>{const t=D.useRef(!1);return G7(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function UN(){const t=D.useState()[1],e=rde();return()=>{e.current&&t(Math.random())}}function ide(t,e){const[n]=D.useState(()=>({inputs:e,result:t()})),r=D.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&sde(e,s.inputs)||(s={inputs:e,result:t()}):s=n,D.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function sde(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var GN=t=>D.useEffect(t,ode),ode=[];function nb(t){const e=D.useRef();return D.useEffect(()=>{e.current=t}),e.current}var s3=Symbol.for("Animated:node"),ade=t=>!!t&&t[s3]===t,Ho=t=>t&&t[s3],Q7=(t,e)=>The(t,s3,e),n5=t=>t&&t[s3]&&t[s3].getPayload(),QN=class{constructor(){Q7(this,this)}getPayload(){return this.payload||[]}},tm=class extends QN{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,Le.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new tm(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return Le.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,Le.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},o3=class extends tm{constructor(t){super(0),this._string=null,this._toString=r3({output:[t,t]})}static create(t){return new o3(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(Le.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=r3({output:[this.getValue(),t]})),this._value=0,super.reset()}},h2={dependencies:null},H7=class extends QN{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Za(this.source,(n,r)=>{ade(n)?e[r]=n.getValue(t):Vo(n)?e[r]=xs(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&nn(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Za(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){h2.dependencies&&Vo(t)&&h2.dependencies.add(t);const e=n5(t);e&&nn(e,n=>this.add(n))}},HN=class extends H7{constructor(t){super(t)}static create(t){return new HN(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(lde)),!0)}};function lde(t){return(t5(t)?o3:tm).create(t)}function RE(t){const e=Ho(t);return e?e.constructor:Le.arr(t)?HN:t5(t)?o3:tm}var rb=(t,e)=>{const n=!Le.fun(t)||t.prototype&&t.prototype.isReactComponent;return D.forwardRef((r,i)=>{const s=D.useRef(null),o=n&&D.useCallback(A=>{s.current=fde(i,A)},[i]),[a,l]=ude(r,e),c=UN(),u=()=>{const A=s.current;if(n&&!A)return;(A?e.applyAnimatedValues(A,a.getValue(!0)):!1)===!1&&c()},h=new cde(u,l),d=D.useRef();G7(()=>(d.current=h,nn(l,A=>em(A,h)),()=>{d.current&&(nn(d.current.deps,A=>f2(A,d.current)),Mt.cancel(d.current.update))})),D.useEffect(u,[]),GN(()=>()=>{const A=d.current;nn(A.deps,x=>f2(x,A))});const m=e.getComponentProps(a.getValue());return D.createElement(t,{...m,ref:o})})},cde=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Mt.write(this.update)}};function ude(t,e){const n=new Set;return h2.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new H7(t),h2.dependencies=null,[t,n]}function fde(t,e){return t&&(Le.fun(t)?t(e):t.current=e),e}var ib=Symbol.for("AnimatedComponent"),hde=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new H7(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=sb(o)||"Anonymous";return Le.str(o)?o=s[o]||(s[o]=rb(o,i)):o=o[ib]||(o[ib]=rb(o,i)),o.displayName=`Animated(${a})`,o};return Za(t,(o,a)=>{Le.arr(t)&&(a=sb(o)),s[a]=s(o)}),{animated:s}},sb=t=>Le.str(t)?t:t&&Le.str(t.displayName)?t.displayName:Le.fun(t)&&t.name||null;function uu(t,...e){return Le.fun(t)?t(...e):t}var l0=(t,e)=>t===!0||!!(e&&t&&(Le.fun(t)?t(e):Ms(t).includes(e))),zN=(t,e)=>Le.obj(t)?e&&t[e]:t,VN=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,dde=t=>t,z7=(t,e=dde)=>{let n=pde;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);Le.und(s)||(r[i]=s)}return r},pde=["config","onProps","onStart","onChange","onPause","onResume","onRest"],mde={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function gde(t){const e={};let n=0;if(Za(t,(r,i)=>{mde[i]||(e[i]=r,n++)}),n)return e}function WN(t){const e=gde(t);if(e){const n={to:e};return Za(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function a3(t){return t=xs(t),Le.arr(t)?t.map(a3):t5(t)?vo.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function Ade(t){for(const e in t)return!0;return!1}function PE(t){return Le.fun(t)||Le.arr(t)&&Le.obj(t[0])}function vde(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function yde(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var Ede={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},DE={...Ede.default,mass:1,damping:1,easing:Whe.linear,clamp:!1},xde=class{constructor(){this.velocity=0,Object.assign(this,DE)}};function Cde(t,e,n){n&&(n={...n},ob(n,e),e={...n,...e}),ob(t,e),Object.assign(t,e);for(const o in DE)t[o]==null&&(t[o]=DE[o]);let{frequency:r,damping:i}=t;const{mass:s}=t;return Le.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function ob(t,e){if(!Le.und(e.decay))t.duration=void 0;else{const n=!Le.und(e.tension)||!Le.und(e.friction);(n||!Le.und(e.frequency)||!Le.und(e.damping)||!Le.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var ab=[],Sde=class{constructor(){this.changed=!1,this.values=ab,this.toValues=null,this.fromValues=ab,this.config=new xde,this.immediate=!1}};function $N(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,c,u=l0(n.cancel??(r==null?void 0:r.cancel),e);if(u)m();else{Le.und(n.pause)||(i.paused=l0(n.pause,e));let A=r==null?void 0:r.pause;A!==!0&&(A=i.paused||l0(A,e)),l=uu(n.delay||0,e),A?(i.resumeQueue.add(d),s.pause()):(s.resume(),d())}function h(){i.resumeQueue.add(d),i.timeouts.delete(c),c.cancel(),l=c.time-Mt.now()}function d(){l>0&&!vo.skipAnimation?(i.delayed=!0,c=Mt.setTimeout(m,l),i.pauseQueue.add(h),i.timeouts.add(c)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(c),t<=(i.cancelId||0)&&(u=!0);try{s.start({...n,callId:t,cancel:u},o)}catch(A){a(A)}}})}var V7=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?Th(t.get()):e.every(n=>n.noop)?jN(t.get()):so(t.get(),e.every(n=>n.finished)),jN=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),so=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),Th=t=>({value:t,cancelled:!0,finished:!1});function KN(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const c=z7(e,(E,g)=>g==="onRest"?void 0:E);let u,h;const d=new Promise((E,g)=>(u=E,h=g)),m=E=>{const g=i<=(n.cancelId||0)&&Th(r)||i!==n.asyncId&&so(r,!1);if(g)throw E.result=g,h(E),E},A=(E,g)=>{const y=new lb,v=new cb;return(async()=>{if(vo.skipAnimation)throw l3(n),v.result=so(r,!1),h(v),v;m(y);const S=Le.obj(E)?{...E}:{...g,to:E};S.parentId=i,Za(c,(T,M)=>{Le.und(S[M])&&(S[M]=T)});const w=await r.start(S);return m(y),n.paused&&await new Promise(T=>{n.resumeQueue.add(T)}),w})()};let x;if(vo.skipAnimation)return l3(n),so(r,!1);try{let E;Le.arr(t)?E=(async g=>{for(const y of g)await A(y)})(t):E=Promise.resolve(t(A,r.stop.bind(r))),await Promise.all([E.then(u),d]),x=so(r.get(),!0,!1)}catch(E){if(E instanceof lb)x=E.result;else if(E instanceof cb)x=E.result;else throw E}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return Le.fun(o)&&Mt.batchedUpdates(()=>{o(x,r,r.item)}),x})()}function l3(t,e){o0(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var lb=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},cb=class extends Error{constructor(){super("SkipAnimationSignal")}},LE=t=>t instanceof W7,_de=1,W7=class extends jhe{constructor(){super(...arguments),this.id=_de++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Ho(this);return t&&t.getValue()}to(...t){return vo.to(this,t)}interpolate(...t){return ede(),vo.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){u2(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||qv.sort(this),u2(this,{type:"priority",parent:this,priority:t})}},Gu=Symbol.for("SpringPhase"),JN=1,FE=2,OE=4,c8=t=>(t[Gu]&JN)>0,Ol=t=>(t[Gu]&FE)>0,xp=t=>(t[Gu]&OE)>0,ub=(t,e)=>e?t[Gu]|=FE|JN:t[Gu]&=~FE,fb=(t,e)=>e?t[Gu]|=OE:t[Gu]&=~OE,wde=class extends W7{constructor(t,e){if(super(),this.animation=new Sde,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Le.und(t)||!Le.und(e)){const n=Le.obj(t)?{...t}:{...e,from:t};Le.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ol(this)||this._state.asyncTo)||xp(this)}get goal(){return xs(this.animation.to)}get velocity(){const t=Ho(this);return t instanceof tm?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return c8(this)}get isAnimating(){return Ol(this)}get isPaused(){return xp(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=n5(r.to);!o&&Vo(r.to)&&(i=Ms(xs(r.to))),r.values.forEach((c,u)=>{if(c.done)return;const h=c.constructor==o3?1:o?o[u].lastPosition:i[u];let d=r.immediate,m=h;if(!d){if(m=c.lastPosition,s.tension<=0){c.done=!0;return}let A=c.elapsedTime+=t;const x=r.fromValues[u],E=c.v0!=null?c.v0:c.v0=Le.arr(s.velocity)?s.velocity[u]:s.velocity;let g;const y=s.precision||(x==h?.005:Math.min(1,Math.abs(h-x)*.001));if(Le.und(s.duration))if(s.decay){const v=s.decay===!0?.998:s.decay,S=Math.exp(-(1-v)*A);m=x+E/(1-v)*(1-S),d=Math.abs(c.lastPosition-m)<=y,g=E*S}else{g=c.lastVelocity==null?E:c.lastVelocity;const v=s.restVelocity||y/10,S=s.clamp?0:s.bounce,w=!Le.und(S),T=x==h?c.v0>0:x<h;let M,P=!1;const b=1,B=Math.ceil(t/b);for(let L=0;L<B&&(M=Math.abs(g)>v,!(!M&&(d=Math.abs(h-m)<=y,d)));++L){w&&(P=m==h||m>h==T,P&&(g=-g*S,m=h));const H=-s.tension*1e-6*(m-h),U=-s.friction*.001*g,V=(H+U)/s.mass;g=g+V*b,m=m+g*b}}else{let v=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,A=c.elapsedTime+=t)),v=(s.progress||0)+A/this._memoizedDuration,v=v>1?1:v<0?0:v,c.durationProgress=v),m=x+s.easing(v)*(h-x),g=(m-c.lastPosition)/t,d=v==1}c.lastVelocity=g,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[u].done&&(d=!1),d?c.done=!0:e=!1,c.setValue(m,s.round)&&(n=!0)});const a=Ho(this),l=a.getValue();if(e){const c=xs(r.to);(l!==c||n)&&!s.decay?(a.setValue(c),this._onChange(c)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return Mt.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ol(this)){const{to:t,config:e}=this.animation;Mt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return Le.und(t)?(n=this.queue||[],this.queue=[]):n=[Le.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>V7(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),l3(this._state,t&&this._lastCallId),Mt.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=Le.obj(n)?n[e]:n,(n==null||PE(n))&&(n=void 0),r=Le.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return c8(this)||(t.reverse&&([n,r]=[r,n]),r=xs(r),Le.und(r)?Ho(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,z7(t,(o,a)=>/^on/.test(a)?zN(o,n):o)),db(this,t,"onProps"),Sp(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return $N(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{xp(this)||(fb(this,!0),kp(s.pauseQueue),Sp(this,"onPause",so(this,Cp(this,this.animation.to)),this))},resume:()=>{xp(this)&&(fb(this,!1),Ol(this)&&this._resume(),kp(s.resumeQueue),Sp(this,"onResume",so(this,Cp(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=XN(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(Th(this));const r=!Le.und(t.to),i=!Le.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(Th(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:c}=a;let{to:u=l,from:h=c}=t;i&&!r&&(!e.default||Le.und(u))&&(u=h),e.reverse&&([u,h]=[h,u]);const d=!Ra(h,c);d&&(a.from=h),h=xs(h);const m=!Ra(u,l);m&&this._focus(u);const A=PE(e.to),{config:x}=a,{decay:E,velocity:g}=x;(r||i)&&(x.velocity=0),e.config&&!A&&Cde(x,uu(e.config,s),e.config!==o.config?uu(o.config,s):void 0);let y=Ho(this);if(!y||Le.und(u))return n(so(this,!0));const v=Le.und(e.reset)?i&&!e.default:!Le.und(h)&&l0(e.reset,s),S=v?h:this.get(),w=a3(u),T=Le.num(w)||Le.arr(w)||t5(w),M=!A&&(!T||l0(o.immediate||e.immediate,s));if(m){const L=RE(u);if(L!==y.constructor)if(M)y=this._set(w);else throw Error(`Cannot animate between ${y.constructor.name} and ${L.name}, as the "to" prop suggests`)}const P=y.constructor;let b=Vo(u),B=!1;if(!b){const L=v||!c8(this)&&d;(m||L)&&(B=Ra(a3(S),w),b=!B),(!Ra(a.immediate,M)&&!M||!Ra(x.decay,E)||!Ra(x.velocity,g))&&(b=!0)}if(B&&Ol(this)&&(a.changed&&!v?b=!0:b||this._stop(l)),!A&&((b||Vo(l))&&(a.values=y.getPayload(),a.toValues=Vo(u)?null:P==o3?[1]:Ms(w)),a.immediate!=M&&(a.immediate=M,!M&&!v&&this._set(l)),b)){const{onRest:L}=a;nn(Tde,U=>db(this,e,U));const H=so(this,Cp(this,l));kp(this._pendingCalls,H),this._pendingCalls.add(n),a.changed&&Mt.batchedUpdates(()=>{var U;a.changed=!v,L==null||L(H,this),v?uu(o.onRest,H):(U=a.onStart)==null||U.call(a,H,this)})}v&&this._set(S),A?n(KN(e.to,e,this._state,this)):b?this._start():Ol(this)&&!m?this._pendingCalls.add(n):n(jN(S))}_focus(t){const e=this.animation;t!==e.to&&(eb(this)&&this._detach(),e.to=t,eb(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Vo(e)&&(em(e,this),LE(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Vo(t)&&f2(t,this)}_set(t,e=!0){const n=xs(t);if(!Le.und(n)){const r=Ho(this);if(!r||!Ra(n,r.getValue())){const i=RE(n);!r||r.constructor!=i?Q7(this,i.create(n)):r.setValue(n),r&&Mt.batchedUpdates(()=>{this._onChange(n,e)})}}return Ho(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Sp(this,"onStart",so(this,Cp(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),uu(this.animation.onChange,t,this)),uu(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Ho(this).reset(xs(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),Ol(this)||(ub(this,!0),xp(this)||this._resume())}_resume(){vo.skipAnimation?this.finish():qv.start(this)}_stop(t,e){if(Ol(this)){ub(this,!1);const n=this.animation;nn(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),u2(this,{type:"idle",parent:this});const r=e?Th(this.get()):so(this.get(),Cp(this,t??n.to));kp(this._pendingCalls,r),n.changed&&(n.changed=!1,Sp(this,"onRest",r,this))}}};function Cp(t,e){const n=a3(e),r=a3(t.get());return Ra(r,n)}function XN(t,e=t.loop,n=t.to){const r=uu(e);if(r){const i=r!==!0&&WN(r),s=(i||t).reverse,o=!i||i.reset;return c3({...t,loop:e,default:!1,pause:void 0,to:!s||PE(n)?n:void 0,from:o?t.from:void 0,reset:o,...i})}}function c3(t){const{to:e,from:n}=t=WN(t),r=new Set;return Le.obj(e)&&hb(e,r),Le.obj(n)&&hb(n,r),t.keys=r.size?Array.from(r):null,t}function Ide(t){const e=c3(t);return Le.und(e.default)&&(e.default=z7(e)),e}function hb(t,e){Za(t,(n,r)=>n!=null&&e.add(r))}var Tde=["onStart","onRest","onChange","onPause","onResume"];function db(t,e,n){t.animation[n]=e[n]!==VN(e,n)?zN(e[n],t.key):void 0}function Sp(t,e,...n){var r,i,s,o;(i=(r=t.animation)[e])==null||i.call(r,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}var Mde=["onStart","onChange","onRest"],bde=1,Bde=class{constructor(t,e){this.id=bde++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];Le.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(c3(t)),this}start(t){let{queue:e}=this;return t?e=Ms(t).map(c3):this.queue=[],this._flush?this._flush(this,e):(tk(this,e),NE(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;nn(Ms(e),r=>n[r].stop(!!t))}else l3(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(Le.und(t))this.start({pause:!0});else{const e=this.springs;nn(Ms(t),n=>e[n].pause())}return this}resume(t){if(Le.und(t))this.start({pause:!1});else{const e=this.springs;nn(Ms(t),n=>e[n].resume())}return this}each(t){Za(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,o0(t,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&e.size&&o0(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,o0(n,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Mt.onFrame(this._onFrame)}};function NE(t,e){return Promise.all(e.map(n=>YN(t,n))).then(n=>V7(t,n))}async function YN(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,c=Le.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const u=Le.arr(i)||Le.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):nn(Mde,x=>{const E=e[x];if(Le.fun(E)){const g=t._events[x];e[x]=({finished:y,cancelled:v})=>{const S=g.get(E);S?(y||(S.finished=!1),v&&(S.cancelled=!0)):g.set(E,{value:null,finished:y||!1,cancelled:v||!1})},c&&(c[x]=e[x])}});const h=t._state;e.pause===!h.paused?(h.paused=e.pause,kp(e.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(e.pause=!0);const d=(r||Object.keys(t.springs)).map(x=>t.springs[x].start(e)),m=e.cancel===!0||VN(e,"cancel")===!0;(u||m&&h.asyncId)&&d.push($N(++t._lastAsyncId,{props:e,state:h,actions:{pause:bE,resume:bE,start(x,E){m?(l3(h,t._lastAsyncId),E(Th(t))):(x.onRest=a,E(KN(u,x,h,t)))}}})),h.paused&&await new Promise(x=>{h.resumeQueue.add(x)});const A=V7(t,await Promise.all(d));if(o&&A.finished&&!(n&&A.noop)){const x=XN(e,o,i);if(x)return tk(t,[x]),YN(t,x,!0)}return l&&Mt.batchedUpdates(()=>l(A,t,t.item)),A}function pb(t,e){const n={...t.springs};return e&&nn(Ms(e),r=>{Le.und(r.keys)&&(r=c3(r)),Le.obj(r.to)||(r={...r,to:void 0}),ek(n,r,i=>ZN(i))}),qN(t,n),n}function qN(t,e){Za(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,em(n,t))})}function ZN(t,e){const n=new wde;return n.key=t,e&&em(n,e),n}function ek(t,e,n){e.keys&&nn(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function tk(t,e){nn(e,n=>{ek(t.springs,n,r=>ZN(r,t))})}var r5=({children:t,...e})=>{const n=D.useContext(d2),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=ide(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=d2;return D.createElement(s,{value:e},t)},d2=Rde(r5,{});r5.Provider=d2.Provider;r5.Consumer=d2.Consumer;function Rde(t,e){return Object.assign(t,D.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var Pde=()=>{const t=[],e=function(r){nde();const i=[];return nn(t,(s,o)=>{if(Le.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return nn(t,r=>r.pause(...arguments)),this},e.resume=function(){return nn(t,r=>r.resume(...arguments)),this},e.set=function(r){nn(t,(i,s)=>{const o=Le.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return nn(t,(s,o)=>{if(Le.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return nn(t,r=>r.stop(...arguments)),this},e.update=function(r){return nn(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return Le.fun(r)?r(s,i):r};return e._getProps=n,e};function nk(t,e,n){const r=Le.fun(e)&&e;r&&!n&&(n=[]);const i=D.useMemo(()=>r||arguments.length==3?Pde():void 0,[]),s=D.useRef(0),o=UN(),a=D.useMemo(()=>({ctrls:[],queue:[],flush(g,y){const v=pb(g,y);return s.current>0&&!a.queue.length&&!Object.keys(v).some(w=>!g.springs[w])?NE(g,y):new Promise(w=>{qN(g,v),a.queue.push(()=>{w(NE(g,y))}),o()})}}),[]),l=D.useRef([...a.ctrls]),c=[],u=nb(t)||0;D.useMemo(()=>{nn(l.current.slice(t,u),g=>{vde(g,i),g.stop(!0)}),l.current.length=t,h(u,t)},[t]),D.useMemo(()=>{h(0,Math.min(u,t))},n);function h(g,y){for(let v=g;v<y;v++){const S=l.current[v]||(l.current[v]=new Bde(null,a.flush)),w=r?r(v,S):e[v];w&&(c[v]=Ide(w))}}const d=l.current.map((g,y)=>pb(g,c[y])),m=D.useContext(r5),A=nb(m),x=m!==A&&Ade(m);G7(()=>{s.current++,a.ctrls=l.current;const{queue:g}=a;g.length&&(a.queue=[],nn(g,y=>y())),nn(l.current,(y,v)=>{i==null||i.add(y),x&&y.start({default:m});const S=c[v];S&&(yde(y,S.ref),y.ref?y.queue.push(S):y.start(S))})}),GN(()=>()=>{nn(a.ctrls,g=>g.stop(!0))});const E=d.map(g=>({...g}));return i?[E,i]:E}function rk(t,e){const n=Le.fun(t),[[r],i]=nk(1,n?t:[t],n?e||[]:e);return n||arguments.length==2?[r,i]:r}var Dde=class extends W7{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=r3(...e);const n=this._get(),r=RE(n);Q7(this,r.create(n))}advance(t){const e=this._get(),n=this.get();Ra(e,n)||(Ho(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&mb(this._active)&&u8(this)}_get(){const t=Le.arr(this.source)?this.source.map(xs):Ms(xs(this.source));return this.calc(...t)}_start(){this.idle&&!mb(this._active)&&(this.idle=!1,nn(n5(this),t=>{t.done=!1}),vo.skipAnimation?(Mt.batchedUpdates(()=>this.advance()),u8(this)):qv.start(this))}_attach(){let t=1;nn(Ms(this.source),e=>{Vo(e)&&em(e,this),LE(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){nn(Ms(this.source),t=>{Vo(t)&&f2(t,this)}),this._active.clear(),u8(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Ms(this.source).reduce((e,n)=>Math.max(e,(LE(n)?n.priority:0)+1),0))}};function Lde(t){return t.idle!==!1}function mb(t){return!t.size||Array.from(t).every(Lde)}function u8(t){t.idle||(t.idle=!0,nn(n5(t),e=>{e.done=!0}),u2(t,{type:"idle",parent:t}))}vo.assign({createStringInterpolator:NN,to:(t,e)=>new Dde(t,e)});var Fde=["primitive"].concat(Object.keys(PL).filter(t=>/^[A-Z]/.test(t)).map(t=>t[0].toLowerCase()+t.slice(1)));vo.assign({createStringInterpolator:NN,colors:Phe,frameLoop:"demand"});fY(()=>{Mt.advance()});var Ode=hde(Fde,{applyAnimatedValues:ru}),ik=Ode.animated;function Nde(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function sk(...t){return e=>t.forEach(n=>Nde(n,e))}function yd(...t){return D.useCallback(sk(...t),t)}const ok=D.forwardRef((t,e)=>{const{children:n,...r}=t,i=D.Children.toArray(n),s=i.find(kde);if(s){const o=s.props.children,a=i.map(l=>l===s?D.Children.count(o)>1?D.Children.only(null):D.isValidElement(o)?o.props.children:null:l);return D.createElement(kE,Zn({},r,{ref:e}),D.isValidElement(o)?D.cloneElement(o,void 0,a):null)}return D.createElement(kE,Zn({},r,{ref:e}),n)});ok.displayName="Slot";const kE=D.forwardRef((t,e)=>{const{children:n,...r}=t;return D.isValidElement(n)?D.cloneElement(n,{...Ude(r,n.props),ref:e?sk(e,n.ref):n.ref}):D.Children.count(n)>1?D.Children.only(null):null});kE.displayName="SlotClone";const ak=({children:t})=>D.createElement(D.Fragment,null,t);function kde(t){return D.isValidElement(t)&&t.type===ak}function Ude(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const Gde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qu=Gde.reduce((t,e)=>{const n=D.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?ok:e;return D.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),D.createElement(a,Zn({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Qde(t,e){t&&y3.flushSync(()=>t.dispatchEvent(e))}const Hde=D.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?nz.createPortal(D.createElement(qu.div,Zn({},i,{ref:e})),r):null}),zde=Hde;var gb=Object.prototype.hasOwnProperty;function p2(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&p2(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(gb.call(t,n)&&++r&&!gb.call(e,n)||!(n in e)||!p2(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var i5=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};i5.prototype._test=function(e){var n=this.fn;try{Mh(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return Mh(this.modifiers.slice(),n,this)(e)}catch{return!1}};i5.prototype._check=function(e){try{Mh(this.modifiers.slice(),this.fn,this)(e)}catch{if(Mh(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Mh(this.modifiers.slice(),this.fn,this)(e))throw null};i5.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){ck(n.modifiers.slice(),n.fn,n)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function lk(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function Mh(t,e,n){if(t.length){var r=t.shift(),i=Mh(t,e,n);return r.perform(i,n)}else return lk(e)}function ck(t,e,n){if(t.length){var r=t.shift(),i=ck(t,e,n);return r.performAsync(i,n)}else return function(s){return Promise.resolve(lk(e,"async")(s))}}var Vde=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},$7=function(t){function e(n,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),sa=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};sa.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new i5(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};sa.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new Vde(n,e.simple,e.async)),this};sa.prototype._clone=function(){return new sa(this.chain.slice(),this.nextRuleModifiers.slice())};sa.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};sa.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new $7(r,e,i))}}),n};sa.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new $7(n,e,r)}})};sa.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){uk(e,n.chain.slice(),r,i)})};function uk(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){uk(t,e,n,r)},function(s){r(new $7(i,t,s))})}else n(t)}var Ab=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function Wde(t,e){return e===void 0&&(e=!1),{simple:function(n){return Ab(n,e)||t.check(n)===void 0},async:function(n){return Ab(n,e)||t.testAsync(n)}}}function Pi(){return typeof Proxy<"u"?fk(new sa):UE(new sa)}var u3={};Pi.extend=function(t){Object.assign(u3,t)};Pi.clearCustomRules=function(){u3={}};function fk(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=fk(t._clone());if(r in m2)return i._applyModifier(m2[r],r);if(r in u3)return i._applyRule(u3[r],r);if(r in GE)return i._applyRule(GE[r],r)}})}function UE(t){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=UE(s._clone()),u=c._applyRule(i[o],o).apply(void 0,a);return u}}),s},n=e(GE,t),r=e(u3,n);return Object.keys(m2).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=UE(r._clone());return s._applyModifier(m2[i],i)}})}),r}var m2={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return bA(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(bA(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&bA(e).every(t)}},async:function(t){return function(e){return Promise.all(bA(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return vb(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return vb(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function vb(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function bA(t){return typeof t=="string"?t.split(""):t}var GE={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||$de;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return Hf("string")},boolean:function(){return Hf("boolean")},undefined:function(){return Hf("undefined")},null:function(){return Hf("null")},array:function(){return Hf("array")},object:function(){return Hf("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return jde(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:Wde};function Hf(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function $de(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function jde(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var s=t[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,n.push(o)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}var ln="colors",ci="sizes",Ye="space",Kde={gap:Ye,gridGap:Ye,columnGap:Ye,gridColumnGap:Ye,rowGap:Ye,gridRowGap:Ye,inset:Ye,insetBlock:Ye,insetBlockEnd:Ye,insetBlockStart:Ye,insetInline:Ye,insetInlineEnd:Ye,insetInlineStart:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,marginBlock:Ye,marginBlockEnd:Ye,marginBlockStart:Ye,marginInline:Ye,marginInlineEnd:Ye,marginInlineStart:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,paddingBlock:Ye,paddingBlockEnd:Ye,paddingBlockStart:Ye,paddingInline:Ye,paddingInlineEnd:Ye,paddingInlineStart:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,scrollMargin:Ye,scrollMarginTop:Ye,scrollMarginRight:Ye,scrollMarginBottom:Ye,scrollMarginLeft:Ye,scrollMarginX:Ye,scrollMarginY:Ye,scrollMarginBlock:Ye,scrollMarginBlockEnd:Ye,scrollMarginBlockStart:Ye,scrollMarginInline:Ye,scrollMarginInlineEnd:Ye,scrollMarginInlineStart:Ye,scrollPadding:Ye,scrollPaddingTop:Ye,scrollPaddingRight:Ye,scrollPaddingBottom:Ye,scrollPaddingLeft:Ye,scrollPaddingX:Ye,scrollPaddingY:Ye,scrollPaddingBlock:Ye,scrollPaddingBlockEnd:Ye,scrollPaddingBlockStart:Ye,scrollPaddingInline:Ye,scrollPaddingInlineEnd:Ye,scrollPaddingInlineStart:Ye,fontSize:"fontSizes",background:ln,backgroundColor:ln,backgroundImage:ln,borderImage:ln,border:ln,borderBlock:ln,borderBlockEnd:ln,borderBlockStart:ln,borderBottom:ln,borderBottomColor:ln,borderColor:ln,borderInline:ln,borderInlineEnd:ln,borderInlineStart:ln,borderLeft:ln,borderLeftColor:ln,borderRight:ln,borderRightColor:ln,borderTop:ln,borderTopColor:ln,caretColor:ln,color:ln,columnRuleColor:ln,fill:ln,outline:ln,outlineColor:ln,stroke:ln,textDecorationColor:ln,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:ci,minBlockSize:ci,maxBlockSize:ci,inlineSize:ci,minInlineSize:ci,maxInlineSize:ci,width:ci,minWidth:ci,maxWidth:ci,height:ci,minHeight:ci,maxHeight:ci,flexBasis:ci,gridTemplateColumns:ci,gridTemplateRows:ci,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Jde=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Ed=()=>{const t=Object.create(null);return(e,n,...r)=>{const i=(s=>JSON.stringify(s,Jde))(e);return i in t?t[i]:t[i]=n(e,...r)}},Iu=Symbol.for("sxs.internal"),j7=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),yb=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:Xde}=Object.prototype,QE=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Yde=/\s+(?![^()]*\))/,zf=t=>e=>t(...typeof e=="string"?String(e).split(Yde):[e]),Eb={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:zf((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:zf((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:zf((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:zf((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:zf((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:zf((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},f8=/([\d.]+)([^]*)/,qde=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):e,Zde=(t,e)=>t in epe&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${QE(t)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${QE(t)}:${r}fit-content`)+s):String(e),epe={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},el=t=>t?t+"-":"",hk=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?el(e)+(a.includes("$")?"":el(n))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),tpe=/\s*,\s*(?![^()]*\))/,npe=Object.prototype.toString,uh=(t,e,n,r,i)=>{let s,o,a;const l=(c,u,h)=>{let d,m;const A=x=>{for(d in x){const y=d.charCodeAt(0)===64,v=y&&Array.isArray(x[d])?x[d]:[x[d]];for(m of v){const S=/[A-Z]/.test(g=d)?g:g.replace(/-[^]/g,T=>T[1].toUpperCase()),w=typeof m=="object"&&m&&m.toString===npe&&(!r.utils[S]||!u.length);if(S in r.utils&&!w){const T=r.utils[S];if(T!==o){o=T,A(T(m)),o=null;continue}}else if(S in Eb){const T=Eb[S];if(T!==a){a=T,A(T(m)),a=null;continue}}if(y&&(E=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=E.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(T,M,P,b,B,L)=>{const H=f8.test(M),U=.0625*(H?-1:1),[V,W]=H?[b,M]:[M,b];return"("+(P[0]==="="?"":P[0]===">"===H?"max-":"min-")+V+":"+(P[0]!=="="&&P.length===1?W.replace(f8,(q,Y,k)=>Number(Y)+U*(P===">"?1:-1)+k):W)+(B?") and ("+(B[0]===">"?"min-":"max-")+V+":"+(B.length===1?L.replace(f8,(q,Y,k)=>Number(Y)+U*(B===">"?-1:1)+k):L):"")+")"})),w){const T=y?h.concat(d):[...h],M=y?[...u]:qde(u,d.split(tpe));s!==void 0&&i(xb(...s)),s=void 0,l(m,M,T)}else s===void 0&&(s=[[],u,h]),d=y||d.charCodeAt(0)!==36?d:`--${el(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,m=w?m:typeof m=="number"?m&&S in rpe?String(m)+"px":String(m):hk(Zde(S,m??""),r.prefix,r.themeMap[S]),s[0].push(`${y?`${d} `:`${QE(d)}:`}${m}`)}}var E,g};A(c),s!==void 0&&i(xb(...s)),s=void 0};l(t,e,n)},xb=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,rpe={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Cb=t=>String.fromCharCode(t+(t>25?39:97)),Tu=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=Cb(n%52)+r;return Cb(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),Up=["themed","global","styled","onevar","resonevar","allvar","inline"],ipe=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},spe=t=>{let e;const n=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(t).styleSheets||[];for(const a of i)if(ipe(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const h=Object(c[l+1]);if(h.type!==4)continue;++l;const{cssText:d}=u;if(!d.startsWith("--sxs"))continue;const m=d.slice(14,-3).trim().split(/\s+/),A=Up[m[0]];A&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[A]={group:h,index:l,cache:new Set(m)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,h){this.cssRules.splice(h,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:o}=e;for(let a=Up.length-1;a>=0;--a){const l=Up[a];if(!o[l]){const c=Up[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}ope(o[l])}};return r(),e},ope=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},_p=Symbol(),ape=Ed(),Sb=(t,e)=>ape(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[Iu]){r.type==null&&(r.type=i[Iu].type);for(const s of i[Iu].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(lpe(i,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),cpe(t,r,e)}),lpe=({variants:t,compoundVariants:e,defaultVariants:n,...r},i)=>{const s=`${el(i.prefix)}c-${Tu(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const d in n)l[d]=String(n[d]);if(typeof t=="object"&&t)for(const d in t){u=l,h=d,Xde.call(u,h)||(l[d]="undefined");const m=t[d];for(const A in m){const x={[d]:String(A)};String(A)==="undefined"&&c.push(d);const E=m[A],g=[x,E,!yb(E)];o.push(g)}}var u,h;if(typeof e=="object"&&e)for(const d of e){let{css:m,...A}=d;m=typeof m=="object"&&m||{};for(const E in A)A[E]=String(A[E]);const x=[A,m,!yb(m)];a.push(x)}return[s,r,o,a,l,c]},cpe=(t,e,n)=>{const[r,i,s,o]=upe(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function d(){for(let m=0;m<d[_p].length;m++){const[A,x]=d[_p][m];h.rules[A].apply(x)}return d[_p]=[],null}return d[_p]=[],d.rules={},Up.forEach(m=>d.rules[m]={apply:A=>d[_p].push([m,A])}),d})(n):null,l=(a||n).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=h=>{h=typeof h=="object"&&h||fpe;const{css:d,...m}=h,A={};for(const g in s)if(delete m[g],g in h){let y=h[g];typeof y=="object"&&y?A[g]={"@initial":s[g],...y}:(y=String(y),A[g]=y!=="undefined"||o.has(g)?y:s[g])}else A[g]=s[g];const x=new Set([...i]);for(const[g,y,v,S]of e.composers){n.rules.styled.cache.has(g)||(n.rules.styled.cache.add(g),uh(y,[`.${g}`],[],t,M=>{l.styled.apply(M)}));const w=_b(v,A,t.media),T=_b(S,A,t.media,!0);for(const M of w)if(M!==void 0)for(const[P,b,B]of M){const L=`${g}-${Tu(b)}-${P}`;x.add(L);const H=(B?n.rules.resonevar:n.rules.onevar).cache,U=B?l.resonevar:l.onevar;H.has(L)||(H.add(L),uh(b,[`.${L}`],[],t,V=>{U.apply(V)}))}for(const M of T)if(M!==void 0)for(const[P,b]of M){const B=`${g}-${Tu(b)}-${P}`;x.add(B),n.rules.allvar.cache.has(B)||(n.rules.allvar.cache.add(B),uh(b,[`.${B}`],[],t,L=>{l.allvar.apply(L)}))}}if(typeof d=="object"&&d){const g=`${r}-i${Tu(d)}-css`;x.add(g),n.rules.inline.cache.has(g)||(n.rules.inline.cache.add(g),uh(d,[`.${g}`],[],t,y=>{l.inline.apply(y)}))}for(const g of String(h.className||"").trim().split(/\s+/))g&&x.add(g);const E=m.className=[...x].join(" ");return{type:e.type,className:E,selector:c,props:m,toString:()=>E,deferredInjector:a}};return j7(u,{className:r,selector:c,[Iu]:e,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},upe=t=>{let e="";const n=[],r={},i=[];for(const[s,,,,o,a]of t){e===""&&(e=s),n.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,n,r,new Set(i)]},_b=(t,e,n,r)=>{const i=[];e:for(let[s,o,a]of t){if(a)continue;let l,c=0,u=!1;for(l in s){const h=s[l];let d=e[l];if(d!==h){if(typeof d!="object"||!d)continue e;{let m,A,x=0;for(const E in d){if(h===String(d[E])){if(E!=="@initial"){const g=E.slice(1);(A=A||[]).push(g in n?n[g]:E.replace(/^@media ?/,"")),u=!0}c+=x,m=!0}++x}if(A&&A.length&&(o={["@media "+A.join(", ")]:o}),!m)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},fpe={},hpe=Ed(),dpe=(t,e)=>hpe(t,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let s=Tu(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}uh(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return j7(r,{toString:r})}),ppe=Ed(),mpe=(t,e)=>ppe(t,()=>n=>{const r=`${el(t.prefix)}k-${Tu(n)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];uh(n,[],[],t,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return j7(i,{get name(){return i()},toString:i})}),gpe=class{constructor(t,e,n,r){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+el(this.prefix)+el(this.scale)+this.token}toString(){return this.computedValue}},Ape=Ed(),vpe=(t,e)=>Ape(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${el(t.prefix)}t-${Tu(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${el(t.prefix)}${l}-${c}`,h=hk(String(r[l][c]),t.prefix,l);s[l][c]=new gpe(c,h,l,t.prefix),o.push(`${u}:${h}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const l=`${r===t.theme?":root,":""}.${n}{${o.join(";")}}`;e.rules.themed.apply(l)}return n};return{...s,get className(){return a()},selector:i,toString:a}}),ype=Ed(),Epe=Ed(),xpe=t=>{const e=(n=>{let r=!1;const i=ype(n,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...Kde},utils:typeof s.utils=="object"&&s.utils||{}},h=spe(l),d={css:Sb(u,h),globalCss:dpe(u,h),keyframes:mpe(u,h),createTheme:vpe(u,h),reset(){h.reset(),d.theme.toString()},theme:{},sheet:h,config:u,prefix:o,getCssText:h.toString,toString:h.toString};return String(d.theme=d.createTheme(c)),d});return r||i.reset(),i})(t);return e.styled=(({config:n,sheet:r})=>Epe(n,()=>{const i=Sb(n,r);return(...s)=>{const o=i(...s),a=o[Iu].type,l=J.forwardRef((c,u)=>{const h=c&&c.as||a,{props:d,deferredInjector:m}=o(c);return delete d.as,d.ref=u,m?J.createElement(J.Fragment,null,J.createElement(h,d),J.createElement(m,null)):J.createElement(h,d)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Iu]=o[Iu],l}}))(e),e};function Da(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function dk(t,e=[]){let n=[];function r(s,o){const a=D.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:d,children:m,...A}=h,x=(d==null?void 0:d[t][l])||a,E=D.useMemo(()=>A,Object.values(A));return D.createElement(x.Provider,{value:E},m)}function u(h,d){const m=(d==null?void 0:d[t][l])||a,A=D.useContext(m);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>D.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return D.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Cpe(i,...e)]}function Cpe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function xd(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Spe(t,e=globalThis==null?void 0:globalThis.document){const n=xd(t);D.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const HE="dismissableLayer.update",_pe="dismissableLayer.pointerDownOutside",wpe="dismissableLayer.focusOutside";let wb;const Ipe=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tpe=D.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=D.useContext(Ipe),[h,d]=D.useState(null),m=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,A]=D.useState({}),x=yd(e,P=>d(P)),E=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=E.indexOf(g),v=h?E.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,T=Mpe(P=>{const b=P.target,B=[...u.branches].some(L=>L.contains(b));!w||B||(s==null||s(P),a==null||a(P),P.defaultPrevented||l==null||l())},m),M=bpe(P=>{const b=P.target;[...u.branches].some(L=>L.contains(b))||(o==null||o(P),a==null||a(P),P.defaultPrevented||l==null||l())},m);return Spe(P=>{v===u.layers.size-1&&(i==null||i(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),D.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wb=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Ib(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=wb)}},[h,m,r,u]),D.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Ib())},[h,u]),D.useEffect(()=>{const P=()=>A({});return document.addEventListener(HE,P),()=>document.removeEventListener(HE,P)},[]),D.createElement(qu.div,Zn({},c,{ref:x,style:{pointerEvents:S?w?"auto":"none":void 0,...t.style},onFocusCapture:Da(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Da(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Da(t.onPointerDownCapture,T.onPointerDownCapture)}))});function Mpe(t,e=globalThis==null?void 0:globalThis.document){const n=xd(t),r=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){pk(_pe,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bpe(t,e=globalThis==null?void 0:globalThis.document){const n=xd(t),r=D.useRef(!1);return D.useEffect(()=>{const i=s=>{s.target&&!r.current&&pk(wpe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ib(){const t=new CustomEvent(HE);document.dispatchEvent(t)}function pk(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Qde(i,s):i.dispatchEvent(s)}const ed=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},Bpe=$G["useId".toString()]||(()=>{});let Rpe=0;function Ppe(t){const[e,n]=D.useState(Bpe());return ed(()=>{t||n(r=>r??String(Rpe++))},[t]),t||(e?`radix-${e}`:"")}const Dpe=["top","right","bottom","left"],yc=Math.min,Ki=Math.max,g2=Math.round,BA=Math.floor,Ec=t=>({x:t,y:t}),Lpe={left:"right",right:"left",bottom:"top",top:"bottom"},Fpe={start:"end",end:"start"};function zE(t,e,n){return Ki(t,yc(e,n))}function tl(t,e){return typeof t=="function"?t(e):t}function nl(t){return t.split("-")[0]}function Cd(t){return t.split("-")[1]}function K7(t){return t==="x"?"y":"x"}function J7(t){return t==="y"?"height":"width"}function Sd(t){return["top","bottom"].includes(nl(t))?"y":"x"}function X7(t){return K7(Sd(t))}function Ope(t,e,n){n===void 0&&(n=!1);const r=Cd(t),i=X7(t),s=J7(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=A2(o)),[o,A2(o)]}function Npe(t){const e=A2(t);return[VE(t),e,VE(e)]}function VE(t){return t.replace(/start|end/g,e=>Fpe[e])}function kpe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Upe(t,e,n,r){const i=Cd(t);let s=kpe(nl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(VE)))),s}function A2(t){return t.replace(/left|right|bottom|top/g,e=>Lpe[e])}function Gpe(t){return{top:0,right:0,bottom:0,left:0,...t}}function mk(t){return typeof t!="number"?Gpe(t):{top:t,right:t,bottom:t,left:t}}function v2(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Tb(t,e,n){let{reference:r,floating:i}=t;const s=Sd(e),o=X7(e),a=J7(o),l=nl(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Cd(e)){case"start":m[o]-=d*(n&&c?-1:1);break;case"end":m[o]+=d*(n&&c?-1:1);break}return m}const Qpe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=Tb(c,r,l),d=r,m={},A=0;for(let x=0;x<a.length;x++){const{name:E,fn:g}=a[x],{x:y,y:v,data:S,reset:w}=await g({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});if(u=y??u,h=v??h,m={...m,[E]:{...m[E],...S}},w&&A<=50){A++,typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):w.rects),{x:u,y:h}=Tb(c,d,l)),x=-1;continue}}return{x:u,y:h,placement:d,strategy:i,middlewareData:m}};async function f3(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:m=0}=tl(e,t),A=mk(m),E=a[d?h==="floating"?"reference":"floating":h],g=v2(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{...o.floating,x:r,y:i}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},w=v2(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:v,strategy:l}):y);return{top:(g.top-w.top+A.top)/S.y,bottom:(w.bottom-g.bottom+A.bottom)/S.y,left:(g.left-w.left+A.left)/S.x,right:(w.right-g.right+A.right)/S.x}}const Mb=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a}=e,{element:l,padding:c=0}=tl(t,e)||{};if(l==null)return{};const u=mk(c),h={x:n,y:r},d=X7(i),m=J7(d),A=await o.getDimensions(l),x=d==="y",E=x?"top":"left",g=x?"bottom":"right",y=x?"clientHeight":"clientWidth",v=s.reference[m]+s.reference[d]-h[d]-s.floating[m],S=h[d]-s.reference[d],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let T=w?w[y]:0;(!T||!await(o.isElement==null?void 0:o.isElement(w)))&&(T=a.floating[y]||s.floating[m]);const M=v/2-S/2,P=T/2-A[m]/2-1,b=yc(u[E],P),B=yc(u[g],P),L=b,H=T-A[m]-B,U=T/2-A[m]/2+M,V=zE(L,U,H),q=Cd(i)!=null&&U!=V&&s.reference[m]/2-(U<L?b:B)-A[m]/2<0?U<L?L-U:H-U:0;return{[d]:h[d]-q,data:{[d]:V,centerOffset:U-V+q}}}}),Hpe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:A=!0,...x}=tl(t,e),E=nl(r),g=nl(o)===o,y=await(a.isRTL==null?void 0:a.isRTL(l.floating)),v=h||(g||!A?[A2(o)]:Npe(o));!h&&m!=="none"&&v.push(...Upe(o,A,m,y));const S=[o,...v],w=await f3(e,x),T=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&T.push(w[E]),u){const L=Ope(r,s,y);T.push(w[L[0]],w[L[1]])}if(M=[...M,{placement:r,overflows:T}],!T.every(L=>L<=0)){var P,b;const L=(((P=i.flip)==null?void 0:P.index)||0)+1,H=S[L];if(H)return{data:{index:L,overflows:M},reset:{placement:H}};let U=(b=M.filter(V=>V.overflows[0]<=0).sort((V,W)=>V.overflows[1]-W.overflows[1])[0])==null?void 0:b.placement;if(!U)switch(d){case"bestFit":{var B;const V=(B=M.map(W=>[W.placement,W.overflows.filter(q=>q>0).reduce((q,Y)=>q+Y,0)]).sort((W,q)=>W[1]-q[1])[0])==null?void 0:B[0];V&&(U=V);break}case"initialPlacement":U=o;break}if(r!==U)return{reset:{placement:U}}}return{}}}};function bb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Bb(t){return Dpe.some(e=>t[e]>=0)}const zpe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=tl(t,e);switch(r){case"referenceHidden":{const s=await f3(e,{...i,elementContext:"reference"}),o=bb(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Bb(o)}}}case"escaped":{const s=await f3(e,{...i,altBoundary:!0}),o=bb(s,n.floating);return{data:{escapedOffsets:o,escaped:Bb(o)}}}default:return{}}}}};async function Vpe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=nl(n),a=Cd(n),l=Sd(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,h=tl(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:A}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof A=="number"&&(m=a==="end"?A*-1:A),l?{x:m*u,y:d*c}:{x:d*c,y:m*u}}const Wpe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await Vpe(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},$pe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:g,y}=E;return{x:g,y}}},...l}=tl(t,e),c={x:n,y:r},u=await f3(e,l),h=Sd(nl(i)),d=K7(h);let m=c[d],A=c[h];if(s){const E=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=m+u[E],v=m-u[g];m=zE(y,m,v)}if(o){const E=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=A+u[E],v=A-u[g];A=zE(y,A,v)}const x=a.fn({...e,[d]:m,[h]:A});return{...x,data:{x:x.x-n,y:x.y-r}}}}},jpe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=tl(t,e),u={x:n,y:r},h=Sd(i),d=K7(h);let m=u[d],A=u[h];const x=tl(a,e),E=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const v=d==="y"?"height":"width",S=s.reference[d]-s.floating[v]+E.mainAxis,w=s.reference[d]+s.reference[v]-E.mainAxis;m<S?m=S:m>w&&(m=w)}if(c){var g,y;const v=d==="y"?"width":"height",S=["top","left"].includes(nl(i)),w=s.reference[h]-s.floating[v]+(S&&((g=o.offset)==null?void 0:g[h])||0)+(S?0:E.crossAxis),T=s.reference[h]+s.reference[v]+(S?0:((y=o.offset)==null?void 0:y[h])||0)-(S?E.crossAxis:0);A<w?A=w:A>T&&(A=T)}return{[d]:m,[h]:A}}}},Kpe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=tl(t,e),l=await f3(e,a),c=nl(n),u=Cd(n),h=Sd(n)==="y",{width:d,height:m}=r.floating;let A,x;c==="top"||c==="bottom"?(A=c,x=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(x=c,A=u==="end"?"top":"bottom");const E=m-l[A],g=d-l[x],y=!e.middlewareData.shift;let v=E,S=g;if(h){const T=d-l.left-l.right;S=u||y?yc(g,T):T}else{const T=m-l.top-l.bottom;v=u||y?yc(E,T):T}if(y&&!u){const T=Ki(l.left,0),M=Ki(l.right,0),P=Ki(l.top,0),b=Ki(l.bottom,0);h?S=d-2*(T!==0||M!==0?T+M:Ki(l.left,l.right)):v=m-2*(P!==0||b!==0?P+b:Ki(l.top,l.bottom))}await o({...e,availableWidth:S,availableHeight:v});const w=await i.getDimensions(s.floating);return d!==w.width||m!==w.height?{reset:{rects:!0}}:{}}}};function xc(t){return gk(t)?(t.nodeName||"").toLowerCase():"#document"}function Zi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function dl(t){var e;return(e=(gk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gk(t){return t instanceof Node||t instanceof Zi(t).Node}function rl(t){return t instanceof Element||t instanceof Zi(t).Element}function oa(t){return t instanceof HTMLElement||t instanceof Zi(t).HTMLElement}function Rb(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zi(t).ShadowRoot}function nm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Gs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Jpe(t){return["table","td","th"].includes(xc(t))}function Y7(t){const e=q7(),n=Gs(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Xpe(t){let e=td(t);for(;oa(e)&&!s5(e);){if(Y7(e))return e;e=td(e)}return null}function q7(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function s5(t){return["html","body","#document"].includes(xc(t))}function Gs(t){return Zi(t).getComputedStyle(t)}function o5(t){return rl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function td(t){if(xc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Rb(t)&&t.host||dl(t);return Rb(e)?e.host:e}function Ak(t){const e=td(t);return s5(e)?t.ownerDocument?t.ownerDocument.body:t.body:oa(e)&&nm(e)?e:Ak(e)}function h3(t,e){var n;e===void 0&&(e=[]);const r=Ak(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Zi(r);return i?e.concat(s,s.visualViewport||[],nm(r)?r:[],s.frameElement?h3(s.frameElement):[]):e.concat(r,h3(r))}function vk(t){const e=Gs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=oa(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=g2(n)!==s||g2(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Z7(t){return rl(t)?t:t.contextElement}function bh(t){const e=Z7(t);if(!oa(e))return Ec(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=vk(e);let o=(s?g2(n.width):n.width)/r,a=(s?g2(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Ype=Ec(0);function yk(t){const e=Zi(t);return!q7()||!e.visualViewport?Ype:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qpe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zi(t)?!1:e}function Qu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Z7(t);let o=Ec(1);e&&(r?rl(r)&&(o=bh(r)):o=bh(t));const a=qpe(s,n,r)?yk(s):Ec(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const d=Zi(s),m=r&&rl(r)?Zi(r):r;let A=d.frameElement;for(;A&&r&&m!==d;){const x=bh(A),E=A.getBoundingClientRect(),g=Gs(A),y=E.left+(A.clientLeft+parseFloat(g.paddingLeft))*x.x,v=E.top+(A.clientTop+parseFloat(g.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,h*=x.y,l+=y,c+=v,A=Zi(A).frameElement}}return v2({width:u,height:h,x:l,y:c})}function Zpe(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=oa(n),s=dl(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=Ec(1);const l=Ec(0);if((i||!i&&r!=="fixed")&&((xc(n)!=="body"||nm(s))&&(o=o5(n)),oa(n))){const c=Qu(n);a=bh(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function e0e(t){return Array.from(t.getClientRects())}function Ek(t){return Qu(dl(t)).left+o5(t).scrollLeft}function t0e(t){const e=dl(t),n=o5(t),r=t.ownerDocument.body,i=Ki(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ki(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ek(t);const a=-n.scrollTop;return Gs(r).direction==="rtl"&&(o+=Ki(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function n0e(t,e){const n=Zi(t),r=dl(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=q7();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function r0e(t,e){const n=Qu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=oa(t)?bh(t):Ec(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function Pb(t,e,n){let r;if(e==="viewport")r=n0e(t,n);else if(e==="document")r=t0e(dl(t));else if(rl(e))r=r0e(e,n);else{const i=yk(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return v2(r)}function xk(t,e){const n=td(t);return n===e||!rl(n)||s5(n)?!1:Gs(n).position==="fixed"||xk(n,e)}function i0e(t,e){const n=e.get(t);if(n)return n;let r=h3(t).filter(a=>rl(a)&&xc(a)!=="body"),i=null;const s=Gs(t).position==="fixed";let o=s?td(t):t;for(;rl(o)&&!s5(o);){const a=Gs(o),l=Y7(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nm(o)&&!l&&xk(t,o))?r=r.filter(u=>u!==o):i=a,o=td(o)}return e.set(t,r),r}function s0e(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?i0e(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=Pb(e,u,i);return c.top=Ki(h.top,c.top),c.right=yc(h.right,c.right),c.bottom=yc(h.bottom,c.bottom),c.left=Ki(h.left,c.left),c},Pb(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function o0e(t){return vk(t)}function a0e(t,e,n){const r=oa(e),i=dl(e),s=n==="fixed",o=Qu(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ec(0);if(r||!r&&!s)if((xc(e)!=="body"||nm(i))&&(a=o5(e)),r){const c=Qu(e,!0,s,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=Ek(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Db(t,e){return!oa(t)||Gs(t).position==="fixed"?null:e?e(t):t.offsetParent}function Ck(t,e){const n=Zi(t);if(!oa(t))return n;let r=Db(t,e);for(;r&&Jpe(r)&&Gs(r).position==="static";)r=Db(r,e);return r&&(xc(r)==="html"||xc(r)==="body"&&Gs(r).position==="static"&&!Y7(r))?n:r||Xpe(t)||n}const l0e=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||Ck,s=this.getDimensions;return{reference:a0e(e,await i(n),r),floating:{x:0,y:0,...await s(n)}}};function c0e(t){return Gs(t).direction==="rtl"}const u0e={convertOffsetParentRelativeRectToViewportRelativeRect:Zpe,getDocumentElement:dl,getClippingRect:s0e,getOffsetParent:Ck,getElementRects:l0e,getClientRects:e0e,getDimensions:o0e,getScale:bh,isElement:rl,isRTL:c0e};function f0e(t,e){let n=null,r;const i=dl(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:h,height:d}=t.getBoundingClientRect();if(a||e(),!h||!d)return;const m=BA(u),A=BA(i.clientWidth-(c+h)),x=BA(i.clientHeight-(u+d)),E=BA(c),y={rootMargin:-m+"px "+-A+"px "+-x+"px "+-E+"px",threshold:Ki(0,yc(1,l))||1};let v=!0;function S(w){const T=w[0].intersectionRatio;if(T!==l){if(!v)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},100)}v=!1}try{n=new IntersectionObserver(S,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(t)}return o(!0),s}function h0e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Z7(t),u=i||s?[...c?h3(c):[],...h3(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const h=c&&a?f0e(c,n):null;let d=-1,m=null;o&&(m=new ResizeObserver(g=>{let[y]=g;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{m&&m.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let A,x=l?Qu(t):null;l&&E();function E(){const g=Qu(t);x&&(g.x!==x.x||g.y!==x.y||g.width!==x.width||g.height!==x.height)&&n(),x=g,A=requestAnimationFrame(E)}return n(),()=>{u.forEach(g=>{i&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),h&&h(),m&&m.disconnect(),m=null,l&&cancelAnimationFrame(A)}}const d0e=(t,e,n)=>{const r=new Map,i={platform:u0e,...n},s={...i.platform,_c:r};return Qpe(t,e,{...i,platform:s})},p0e=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Mb({element:r.current,padding:i}).fn(n):{}:r?Mb({element:r,padding:i}).fn(n):{}}}};var f1=typeof document<"u"?D.useLayoutEffect:D.useEffect;function y2(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!y2(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!y2(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Sk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Lb(t,e){const n=Sk(t);return Math.round(e*n)/n}function Fb(t){const e=D.useRef(t);return f1(()=>{e.current=t}),e}function m0e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=D.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,m]=D.useState(r);y2(d,r)||m(r);const[A,x]=D.useState(null),[E,g]=D.useState(null),y=D.useCallback(q=>{q!=T.current&&(T.current=q,x(q))},[x]),v=D.useCallback(q=>{q!==M.current&&(M.current=q,g(q))},[g]),S=s||A,w=o||E,T=D.useRef(null),M=D.useRef(null),P=D.useRef(u),b=Fb(l),B=Fb(i),L=D.useCallback(()=>{if(!T.current||!M.current)return;const q={placement:e,strategy:n,middleware:d};B.current&&(q.platform=B.current),d0e(T.current,M.current,q).then(Y=>{const k={...Y,isPositioned:!0};H.current&&!y2(P.current,k)&&(P.current=k,y3.flushSync(()=>{h(k)}))})},[d,e,n,B]);f1(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[c]);const H=D.useRef(!1);f1(()=>(H.current=!0,()=>{H.current=!1}),[]),f1(()=>{if(S&&(T.current=S),w&&(M.current=w),S&&w){if(b.current)return b.current(S,w,L);L()}},[S,w,L,b]);const U=D.useMemo(()=>({reference:T,floating:M,setReference:y,setFloating:v}),[y,v]),V=D.useMemo(()=>({reference:S,floating:w}),[S,w]),W=D.useMemo(()=>{const q={position:n,left:0,top:0};if(!V.floating)return q;const Y=Lb(V.floating,u.x),k=Lb(V.floating,u.y);return a?{...q,transform:"translate("+Y+"px, "+k+"px)",...Sk(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:k}},[n,a,V.floating,u.x,u.y]);return D.useMemo(()=>({...u,update:L,refs:U,elements:V,floatingStyles:W}),[u,L,U,V,W])}const g0e=D.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return D.createElement(qu.svg,Zn({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:D.createElement("polygon",{points:"0,0 30,0 15,10"}))}),A0e=g0e;function v0e(t){const[e,n]=D.useState(void 0);return ed(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const _k="Popper",[wk,Ik]=dk(_k),[y0e,Tk]=wk(_k),E0e=t=>{const{__scopePopper:e,children:n}=t,[r,i]=D.useState(null);return D.createElement(y0e,{scope:e,anchor:r,onAnchorChange:i},n)},x0e="PopperAnchor",C0e=D.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Tk(x0e,n),o=D.useRef(null),a=yd(e,o);return D.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:D.createElement(qu.div,Zn({},i,{ref:a}))}),Mk="PopperContent",[S0e,_0e]=wk(Mk),w0e=D.forwardRef((t,e)=>{var n,r,i,s,o,a,l,c;const{__scopePopper:u,side:h="bottom",sideOffset:d=0,align:m="center",alignOffset:A=0,arrowPadding:x=0,collisionBoundary:E=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:v=!1,avoidCollisions:S=!0,onPlaced:w,...T}=t,M=Tk(Mk,u),[P,b]=D.useState(null),B=yd(e,ue=>b(ue)),[L,H]=D.useState(null),U=v0e(L),V=(n=U==null?void 0:U.width)!==null&&n!==void 0?n:0,W=(r=U==null?void 0:U.height)!==null&&r!==void 0?r:0,q=h+(m!=="center"?"-"+m:""),Y=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},k=Array.isArray(E)?E:[E],K=k.length>0,$={padding:Y,boundary:k.filter(b0e),altBoundary:K},{refs:G,floatingStyles:X,placement:le,isPositioned:pe,middlewareData:ye}=m0e({strategy:"fixed",placement:q,whileElementsMounted:h0e,elements:{reference:M.anchor},middleware:[Wpe({mainAxis:d+W,alignmentAxis:A}),S&&$pe({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?jpe():void 0,...$}),S&&Hpe({...$}),Kpe({...$,apply:({elements:ue,rects:_e,availableWidth:Ee,availableHeight:Qe})=>{const{width:Oe,height:ke}=_e.reference,qe=ue.floating.style;qe.setProperty("--radix-popper-available-width",`${Ee}px`),qe.setProperty("--radix-popper-available-height",`${Qe}px`),qe.setProperty("--radix-popper-anchor-width",`${Oe}px`),qe.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),L&&p0e({element:L,padding:x}),B0e({arrowWidth:V,arrowHeight:W}),v&&zpe({strategy:"referenceHidden"})]}),[Se,we]=bk(le),Me=xd(w);ed(()=>{pe&&(Me==null||Me())},[pe,Me]);const Ve=(i=ye.arrow)===null||i===void 0?void 0:i.x,We=(s=ye.arrow)===null||s===void 0?void 0:s.y,xe=((o=ye.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[j,Ae]=D.useState();return ed(()=>{P&&Ae(window.getComputedStyle(P).zIndex)},[P]),D.createElement("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:pe?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[(a=ye.transformOrigin)===null||a===void 0?void 0:a.x,(l=ye.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},D.createElement(S0e,{scope:u,placedSide:Se,onArrowChange:H,arrowX:Ve,arrowY:We,shouldHideArrow:xe},D.createElement(qu.div,Zn({"data-side":Se,"data-align":we},T,{ref:B,style:{...T.style,animation:pe?void 0:"none",opacity:(c=ye.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),I0e="PopperArrow",T0e={top:"bottom",right:"left",bottom:"top",left:"right"},M0e=D.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=_0e(I0e,r),o=T0e[s.placedSide];return D.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},D.createElement(A0e,Zn({},i,{ref:n,style:{...i.style,display:"block"}})))});function b0e(t){return t!==null}const B0e=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,h=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,d=h?0:t.arrowWidth,m=h?0:t.arrowHeight,[A,x]=bk(a),E={start:"0%",center:"50%",end:"100%"}[x],g=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+d/2,y=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+m/2;let v="",S="";return A==="bottom"?(v=h?E:`${g}px`,S=`${-m}px`):A==="top"?(v=h?E:`${g}px`,S=`${l.floating.height+m}px`):A==="right"?(v=`${-m}px`,S=h?E:`${y}px`):A==="left"&&(v=`${l.floating.width+m}px`,S=h?E:`${y}px`),{data:{x:v,y:S}}}});function bk(t){const[e,n="center"]=t.split("-");return[e,n]}const R0e=E0e,P0e=C0e,D0e=w0e,L0e=M0e;function F0e(t,e){return D.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const Bk=t=>{const{present:e,children:n}=t,r=O0e(e),i=typeof n=="function"?n({present:r.isPresent}):D.Children.only(n),s=yd(r.ref,i.ref);return typeof n=="function"||r.isPresent?D.cloneElement(i,{ref:s}):null};Bk.displayName="Presence";function O0e(t){const[e,n]=D.useState(),r=D.useRef({}),i=D.useRef(t),s=D.useRef("none"),o=t?"mounted":"unmounted",[a,l]=F0e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const c=RA(r.current);s.current=a==="mounted"?c:"none"},[a]),ed(()=>{const c=r.current,u=i.current;if(u!==t){const d=s.current,m=RA(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ed(()=>{if(e){const c=h=>{const m=RA(r.current).includes(h.animationName);h.target===e&&m&&y3.flushSync(()=>l("ANIMATION_END"))},u=h=>{h.target===e&&(s.current=RA(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:D.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function RA(t){return(t==null?void 0:t.animationName)||"none"}function N0e({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=k0e({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=xd(n),l=D.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function k0e({defaultProp:t,onChange:e}){const n=D.useState(t),[r]=n,i=D.useRef(r),s=xd(e);return D.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const U0e=D.forwardRef((t,e)=>D.createElement(qu.span,Zn({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),G0e=U0e,[a5,P2e]=dk("Tooltip",[Ik]),l5=Ik(),Q0e="TooltipProvider",WE="tooltip.open",[D2e,eC]=a5(Q0e),tC="Tooltip",[H0e,c5]=a5(tC),z0e=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=eC(tC,t.__scopeTooltip),c=l5(e),[u,h]=D.useState(null),d=Ppe(),m=D.useRef(0),A=o??l.disableHoverableContent,x=a??l.delayDuration,E=D.useRef(!1),[g=!1,y]=N0e({prop:r,defaultProp:i,onChange:M=>{M?(l.onOpen(),document.dispatchEvent(new CustomEvent(WE))):l.onClose(),s==null||s(M)}}),v=D.useMemo(()=>g?E.current?"delayed-open":"instant-open":"closed",[g]),S=D.useCallback(()=>{window.clearTimeout(m.current),E.current=!1,y(!0)},[y]),w=D.useCallback(()=>{window.clearTimeout(m.current),y(!1)},[y]),T=D.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{E.current=!0,y(!0)},x)},[x,y]);return D.useEffect(()=>()=>window.clearTimeout(m.current),[]),D.createElement(R0e,c,D.createElement(H0e,{scope:e,contentId:d,open:g,stateAttribute:v,trigger:u,onTriggerChange:h,onTriggerEnter:D.useCallback(()=>{l.isOpenDelayed?T():S()},[l.isOpenDelayed,T,S]),onTriggerLeave:D.useCallback(()=>{A?w():window.clearTimeout(m.current)},[w,A]),onOpen:S,onClose:w,disableHoverableContent:A},n))},Ob="TooltipTrigger",V0e=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=c5(Ob,n),s=eC(Ob,n),o=l5(n),a=D.useRef(null),l=yd(e,a,i.onTriggerChange),c=D.useRef(!1),u=D.useRef(!1),h=D.useCallback(()=>c.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),D.createElement(P0e,Zn({asChild:!0},o),D.createElement(qu.button,Zn({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:Da(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Da(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Da(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Da(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Da(t.onBlur,i.onClose),onClick:Da(t.onClick,i.onClose)})))}),W0e="TooltipPortal",[L2e,$0e]=a5(W0e,{forceMount:void 0}),d3="TooltipContent",j0e=D.forwardRef((t,e)=>{const n=$0e(d3,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=c5(d3,t.__scopeTooltip);return D.createElement(Bk,{present:r||o.open},o.disableHoverableContent?D.createElement(Rk,Zn({side:i},s,{ref:e})):D.createElement(K0e,Zn({side:i},s,{ref:e})))}),K0e=D.forwardRef((t,e)=>{const n=c5(d3,t.__scopeTooltip),r=eC(d3,t.__scopeTooltip),i=D.useRef(null),s=yd(e,i),[o,a]=D.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:h}=r,d=D.useCallback(()=>{a(null),h(!1)},[h]),m=D.useCallback((A,x)=>{const E=A.currentTarget,g={x:A.clientX,y:A.clientY},y=Z0e(g,E.getBoundingClientRect()),v=e3e(g,y),S=t3e(x.getBoundingClientRect()),w=r3e([...v,...S]);a(w),h(!0)},[h]);return D.useEffect(()=>()=>d(),[d]),D.useEffect(()=>{if(l&&u){const A=E=>m(E,u),x=E=>m(E,l);return l.addEventListener("pointerleave",A),u.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",A),u.removeEventListener("pointerleave",x)}}},[l,u,m,d]),D.useEffect(()=>{if(o){const A=x=>{const E=x.target,g={x:x.clientX,y:x.clientY},y=(l==null?void 0:l.contains(E))||(u==null?void 0:u.contains(E)),v=!n3e(g,o);y?d():v&&(d(),c())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[l,u,o,c,d]),D.createElement(Rk,Zn({},t,{ref:s}))}),[J0e,X0e]=a5(tC,{isInside:!1}),Rk=D.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=c5(d3,n),c=l5(n),{onClose:u}=l;return D.useEffect(()=>(document.addEventListener(WE,u),()=>document.removeEventListener(WE,u)),[u]),D.useEffect(()=>{if(l.trigger){const h=d=>{const m=d.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),D.createElement(Tpe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u},D.createElement(D0e,Zn({"data-state":l.stateAttribute},c,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),D.createElement(ak,null,r),D.createElement(J0e,{scope:n,isInside:!0},D.createElement(G0e,{id:l.contentId,role:"tooltip"},i||r))))}),Y0e="TooltipArrow",q0e=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=l5(n);return X0e(Y0e,n).isInside?null:D.createElement(L0e,Zn({},i,r,{ref:e}))});function Z0e(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function e3e(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function t3e(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function n3e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function r3e(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),i3e(e)}function i3e(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const s3e=z0e,o3e=V0e,a3e=j0e,l3e=q0e;function c3e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function En(t,e){if(t==null)return{};var n=c3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let Ln;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(Ln||(Ln={}));const u3e={[Ln.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[Ln.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Ln.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[Ln.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[Ln.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[Ln.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[Ln.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[Ln.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[Ln.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[Ln.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[Ln.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function Pk(t,e,...n){const[r,...i]=u3e[e](...n);console[t]("LEVA: "+r,...i)}const Fa=Pk.bind(null,"warn"),f3e=Pk.bind(null,"log"),h3e=["value"],d3e=["schema"],p3e=["value"],Dk=[],Hu={};function Nb(t){let{value:e}=t,n=En(t,h3e);for(let r of Dk){const i=r(e,n);if(i)return i}}function pl(t,e){let{schema:n}=e,r=En(e,d3e);if(t in Hu){Fa(Ln.ALREADY_REGISTERED_TYPE,t);return}Dk.push((i,s)=>n(i,s)&&t),Hu[t]=r}function h8(t,e,n,r){const{normalize:i}=Hu[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=En(e,p3e);return{value:s,settings:o}}function m3e(t,e,n,r,i,s){const{sanitize:o}=Hu[t];return o?o(e,n,r,i,s):e}function kb(t,e,n){const{format:r}=Hu[t];return r?r(e,n):e}function g3e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ub(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ub(Object(n),!0).forEach(function(r){g3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ub(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Cc=(t,e,n)=>t>n?n:t<e?e:t,A3e=t=>{if(t===""||typeof t=="number")return t;try{const e=kl(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},v3e=Math.log(10);function Gb(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/v3e)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const E2=(t,e,n)=>n===e?0:(Cc(t,e,n)-e)/(n-e),x2=(t,e,n)=>t*(n-e)+e,y3e=()=>"_"+Math.random().toString(36).substr(2,9),Qb=/\(([0-9+\-*/^ .]+)\)/,Hb=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,zb=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,Vb=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,Wb=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,$b=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function kl(t){if(isNaN(Number(t)))if(Qb.test(t)){const e=t.replace(Qb,(n,r)=>String(kl(r)));return kl(e)}else if(Hb.test(t)){const e=t.replace(Hb,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return kl(e)}else if(zb.test(t)){const e=t.replace(zb,(n,r,i)=>String(Number(r)*Number(i)));return kl(e)}else if(Vb.test(t)){const e=t.replace(Vb,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return kl(e)}else if(Wb.test(t)){const e=t.replace(Wb,(n,r,i)=>String(Number(r)+Number(i)));return kl(e)}else if($b.test(t)){const e=t.replace($b,(n,r,i)=>String(Number(r)-Number(i)));return kl(e)}else return Number(t);return Number(t)}function E3e(t,e){const n=Pt({},t);return e.forEach(r=>r in t&&delete n[r]),n}function x3e(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function Lk(t){return Object.prototype.toString.call(t)==="[object Object]"}const C3e=t=>Lk(t)&&Object.keys(t).length===0;let ra;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})(ra||(ra={}));let yo;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(yo||(yo={}));const S3e=["type","__customInput"],_3e=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],w3e=["type"];function Fk(t,e,n={},r){var i,s;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:Pt({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:w,__customInput:T}=t,M=En(t,S3e);return Fk(T,e,M,w)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:h,onChange:d,onEditStart:m,onEditEnd:A,transient:x}=t,E=En(t,_3e),g=Pt({render:o,key:e,label:a??e,hint:h,transient:x??!!d,onEditStart:m,onEditEnd:A,disabled:u,optional:l,order:c},n);let{type:y}=E,v=En(E,w3e);if(y=r??y,y in ra)return{type:y,input:v,options:g};let S;return r&&Lk(v)&&"value"in v?S=v.value:S=C3e(v)?void 0:v,{type:y,input:S,options:Pt(Pt({},g),{},{onChange:d,optional:(i=g.optional)!==null&&i!==void 0?i:!1,disabled:(s=g.disabled)!==null&&s!==void 0?s:!1})}}function I3e(t,e,n,r){const i=Fk(t,e),{type:s,input:o,options:a}=i;if(s)return s in ra?i:{type:s,input:h8(s,o,n,r),options:a};let l=Nb(o);return l?{type:l,input:h8(l,o,n,r),options:a}:(l=Nb({value:o}),l?{type:l,input:h8(l,{value:o},n,r),options:a}:!1)}function jb(t,e,n,r,i){const{value:s,type:o,settings:a}=t;t.value=Ok({type:o,value:s,settings:a},e,n,r),t.fromPanel=i}const T3e=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function Ok({type:t,value:e,settings:n},r,i,s){const o=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=m3e(t,o,n,e,i,s)}catch(l){throw new T3e(`The value \`${r}\` did not result in a correct value.`,e,l)}return p2(a,e)?e:a}const Nk=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,s=n&&!r,o=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},kk=t=>t.shiftKey?5:t.altKey?1/5:1,M3e=["value"],b3e=["min","max"],B3e=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},Uk=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const s=Cc(i,e,n);return r?s+r:s},R3e=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},Gk=t=>{let{value:e}=t,n=En(t,M3e);const{min:r=-1/0,max:i=1/0}=n,s=En(n,b3e);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=Cc(o,r,i);let l=n.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?Gb(l)*10:Gb(o);l=l||c/10;const u=Math.round(Cc(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:Pt({initialValue:o,step:l,pad:u,min:r,max:i,suffix:a},s)}},Qk=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var Hk=Object.freeze({__proto__:null,schema:B3e,sanitize:Uk,format:R3e,normalize:Gk,sanitizeStep:Qk});function hr(){return hr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hr.apply(this,arguments)}const zk=D.createContext({});function ii(){return D.useContext(zk)}const Vk=D.createContext(null),Wk=D.createContext(null),$k=D.createContext(null);function rm(){return D.useContext(Wk)}function P3e(){return D.useContext($k)}const D3e=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function PA(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const wp={$inputStyle:()=>t=>PA(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>PA(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>PA(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>PA(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ht,css:F2e,createTheme:O2e,globalCss:L3e,keyframes:N2e}=xpe({prefix:"leva",theme:D3e(),utils:Pt(Pt({},wp),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":wp.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":wp.$focusStyle()(t)}),$hover:t=>({"&:hover":wp.$hoverStyle()(t)}),$active:t=>({"&:active":wp.$activeStyle()(t)})})}),F3e=L3e({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Va(t,e){const{theme:n}=D.useContext(Vk);if(!(t in n)||!(e in n[t]))return Fa(Ln.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const jk=ht("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),Kk=ht("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${jk}`]:{paddingLeft:0}}),O3e=ht(Kk,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),N3e=ht("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),k3e=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],U3e=["onUpdate"];function nC(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=t,u=En(t,k3e);const{id:h,emitOnEditStart:d,emitOnEditEnd:m,disabled:A}=ii(),x=a||h,E=D.useRef(null),g=c>0,y=g?"textarea":"input",v=D.useCallback(T=>M=>{const P=M.currentTarget.value;T(P)},[]);J.useEffect(()=>{const T=E.current,M=v(P=>{r(P),m()});return T==null||T.addEventListener("blur",M),()=>T==null?void 0:T.removeEventListener("blur",M)},[v,r,m]);const S=D.useCallback(T=>{T.key==="Enter"&&v(r)(T)},[v,r]),w=Object.assign({as:y},g?{rows:c}:{},u);return J.createElement(N3e,{textArea:g},e&&typeof e=="string"?J.createElement(Kk,null,e):e,J.createElement(jk,hr({levaType:o,ref:E,id:x,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:v(i),onFocus:()=>d(),onKeyPress:S,onKeyDown:s,disabled:A},w)))}function G3e(t){let{onUpdate:e}=t,n=En(t,U3e);const r=D.useCallback(s=>e(A3e(s)),[e]),i=D.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return J.createElement(nC,hr({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const C2=ht("div",{}),$E=ht("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Q3e=ht("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${$E}::after`]:{opacity:.6},[`${C2}:hover > & + ${$E}::after`]:{opacity:.6},[`${C2}:hover > & > svg`]:{opacity:1}}),Jk=ht("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${C2}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),Xk=ht("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${Jk} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),Yk=ht(Xk,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),H3e=ht("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),z3e=ht("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),jE=ht("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),V3e=ht("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${jE}`]:{pointerEvents:"auto"}}}}}),qk=ht("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),W3e=ht("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),$3e=ht(l3e,{fill:"$toolTipBackground"});function rC({children:t}){const{className:e}=D.useContext(Vk);return J.createElement(zde,{className:e},t)}const j3e=["align"];function K3e(){const{id:t,disable:e,disabled:n}=ii();return J.createElement(J.Fragment,null,J.createElement(z3e,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),J.createElement("label",{htmlFor:t+"__disable"}))}function J3e(t){const{id:e,optional:n,hint:r}=ii(),i=t.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof t.children=="string"?{title:t.children}:null;return J.createElement(J.Fragment,null,n&&J.createElement(K3e,null),r!==void 0?J.createElement(s3e,null,J.createElement(o3e,{asChild:!0},J.createElement(jE,hr({},i,t))),J.createElement(a3e,{side:"top",sideOffset:2},J.createElement(W3e,null,r,J.createElement($3e,null)))):J.createElement(jE,hr({},i,s,t)))}function bo(t){let{align:e}=t,n=En(t,j3e);const{value:r,label:i,key:s,disabled:o}=ii(),{hideCopyButton:a}=P3e(),l=!a&&s!==void 0,[c,u]=D.useState(!1),h=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{Fa(Ln.CLIPBOARD_ERROR,{[s]:r})}};return J.createElement(H3e,{align:e,onPointerLeave:()=>u(!1)},J.createElement(J3e,n),l&&!o&&J.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},J.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),J.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):J.createElement("svg",{onClick:h,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},J.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),J.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const X3e=["toggled"],Y3e=ht("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function iC(t){let{toggled:e}=t,n=En(t,X3e);return J.createElement(Y3e,hr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),J.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const q3e=["input"];function Vs(t){let{input:e}=t,n=En(t,q3e);return e?J.createElement(Yk,n):J.createElement(Xk,n)}function Zk({value:t,type:e,settings:n,setValue:r}){const[i,s]=D.useState(kb(e,t,n)),o=D.useRef(t),a=D.useRef(n);a.current=n;const l=D.useCallback(u=>s(kb(e,u,a.current)),[e]),c=D.useCallback(u=>{try{r(u)}catch(h){const{type:d,previousValue:m}=h;if(d!=="LEVA_ERROR")throw h;l(m)}},[l,r]);return D.useEffect(()=>{p2(t,o.current)||l(t),o.current=t},[t,l]),{displayValue:i,onChange:s,onUpdate:c}}function im(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=ii();return Nq(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const s=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function Z3e(t){const e=D.useRef(null),n=D.useRef(null),r=D.useRef(!1);return D.useEffect(()=>{const i=Nk(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),D.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function eU(){const t=D.useRef(null),e=D.useRef({x:0,y:0}),n=D.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const eme=["__refCount"],d8=(t,e)=>{if(!t[e])return null;const n=t[e];return En(n,eme)};function tme(t){const e=rm(),[n,r]=D.useState(d8(e.getData(),t)),i=D.useCallback(c=>e.setValueAtPath(t,c,!0),[t,e]),s=D.useCallback(c=>e.setSettingsAtPath(t,c),[t,e]),o=D.useCallback(c=>e.disableInputAtPath(t,c),[t,e]),a=D.useCallback(()=>e.emitOnEditStart(t),[t,e]),l=D.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return D.useEffect(()=>{r(d8(e.getData(),t));const c=e.useStore.subscribe(u=>d8(u.data,t),r,{equalityFn:EN});return()=>c()},[e,t]),[n,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const nme=ht("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),tU=ht("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),KE=ht("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),nU=ht("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),rU=ht("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function rme({value:t,min:e,max:n,onDrag:r,step:i,initialValue:s}){const o=D.useRef(null),a=D.useRef(null),l=D.useRef(0),c=Va("sizes","scrubberWidth"),u=im(({event:d,first:m,xy:[A],movement:[x],memo:E})=>{if(m){const{width:y,left:v}=o.current.getBoundingClientRect();l.current=y-parseFloat(c),E=(d==null?void 0:d.target)===a.current?t:x2((A-v)/y,e,n)}const g=E+x2(x/l.current,0,n-e);return r(Qk(g,{step:i,initialValue:s})),E}),h=E2(t,e,n);return J.createElement(nU,hr({ref:o},u()),J.createElement(tU,null,J.createElement(rU,{style:{left:0,right:`${(1-h)*100}%`}})),J.createElement(KE,{ref:a,style:{left:`calc(${h} * (100% - ${c}))`}}))}const ime=J.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,s]=D.useState(!1),o=im(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(h=>parseFloat(h)+Math.floor(u)*n*kk(c)),u=0),u));return J.createElement(O3e,hr({dragging:i,title:t.length>1?t:""},o()),t.slice(0,r))});function iU({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&J.createElement(ime,{label:t,step:s.step,onUpdate:r,innerLabelTrim:o});return J.createElement(G3e,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function sme(){const t=ii(),{label:e,value:n,onUpdate:r,settings:i,id:s}=t,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return J.createElement(Vs,{input:!0},J.createElement(bo,null,e),J.createElement(nme,{hasRange:l},l&&J.createElement(rme,hr({value:parseFloat(n),onDrag:r},i)),J.createElement(iU,hr({},t,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:ome}=Hk,ame=En(Hk,["sanitizeStep"]);var lme=Pt({component:sme},ame);const cme=(t,e)=>Pi().schema({options:Pi().passesAnyOf(Pi().object(),Pi().array())}).test(e),ume=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},fme=(t,{values:e})=>e.indexOf(t),hme=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(s=>String(s))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var dme=Object.freeze({__proto__:null,schema:cme,sanitize:ume,format:fme,normalize:hme});const pme=ht("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),JE=ht("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),mme=ht("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${JE}:focus + &`]:{$focusStyle:""},[`${JE}:hover + &`]:{$hoverStyle:""}});function gme({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=D.useRef();return e===a[t]&&(l.current=o[t]),J.createElement(pme,null,J.createElement(JE,{id:r,value:t,onChange:c=>n(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>J.createElement("option",{key:c,value:u},c))),J.createElement(mme,null,l.current),J.createElement(iC,{toggled:!0}))}function Ame(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:s,settings:o}=ii();return J.createElement(Vs,{input:!0},J.createElement(bo,null,t),J.createElement(gme,{id:i,value:e,displayValue:n,onUpdate:r,settings:o,disabled:s}))}var vme=Pt({component:Ame},dme);const yme=t=>Pi().string().test(t),Eme=t=>{if(typeof t!="string")throw Error("Invalid string");return t},xme=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var Cme=Object.freeze({__proto__:null,schema:yme,sanitize:Eme,normalize:xme});const Sme=["displayValue","onUpdate","onChange","editable"],_me=ht("div",{whiteSpace:"pre-wrap"});function wme(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,s=En(t,Sme);return i?J.createElement(nC,hr({value:e,onUpdate:n,onChange:r},s)):J.createElement(_me,null,e)}function Ime(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=ii();return J.createElement(Vs,{input:!0},J.createElement(bo,null,t),J.createElement(wme,hr({displayValue:n,onUpdate:r,onChange:i},e)))}var Tme=Pt({component:Ime},Cme);const Mme=t=>Pi().boolean().test(t),bme=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var Bme=Object.freeze({__proto__:null,schema:Mme,sanitize:bme});const Rme=ht("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Pme({value:t,onUpdate:e,id:n,disabled:r}){return J.createElement(Rme,null,J.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),J.createElement("label",{htmlFor:n},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function Dme(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=ii();return J.createElement(Vs,{input:!0},J.createElement(bo,null,t),J.createElement(Pme,{value:e,onUpdate:n,id:i,disabled:r}))}var Lme=Pt({component:Dme},Bme);const Fme=["locked"];function Ome({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:s}){const o=D.useRef(t[n]);o.current=t[n];const a=D.useCallback(c=>i({[n]:Ok({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,n]),l=Zk({type:"NUMBER",value:t[n],settings:r,setValue:a});return J.createElement(iU,{id:e,label:n,value:t[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const Nme=ht("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function kme(t){let{locked:e}=t,n=En(t,Fme);return J.createElement("svg",hr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?J.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):J.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function sC({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:s}=ii(),{lock:o,locked:a}=n;return J.createElement(Nme,{withLock:o},o&&J.createElement(kme,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(t).map((l,c)=>J.createElement(Ome,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:t,settings:n[l],onUpdate:e,innerLabelTrim:r})))}const sU=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([s,o])=>{n[s]=Gk(Pt({value:o},e[s])).settings,r=Math.max(r,n[s].step),i=Math.min(i,n[s].pad)});for(let s in n){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(n[s].step=r,n[s].pad=i)}return n},Ume=["lock"],Gme=["value"];function Qme(t){const e=Pi().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(s=>isFinite(s))};return r=>e.test(r)||n(r)}function Hme(t){return Array.isArray(t)?"array":"object"}function c0(t,e,n){return Hme(t)===e?t:e==="array"?Object.values(t):x3e(t,n)}const zme=(t,e,n)=>{const r=c0(t,"object",e.keys);for(let o in r)r[o]=Uk(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=c0(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],u=c!==0?l/c:1;for(let h in o)h===a?s[a]=l:s[h]=o[h]*u}else s=Pt(Pt({},o),r)}return c0(s,e.format,e.keys)},Vme=(t,e)=>c0(t,"object",e.keys),Wme=t=>!!t&&("step"in t||"min"in t||"max"in t);function $me(t,e,n=[]){const{lock:r=!1}=e,i=En(e,Ume),s=Array.isArray(t)?"array":"object",o=s==="object"?Object.keys(t):n,a=c0(t,"object",o),l=Wme(i)?o.reduce((u,h)=>Object.assign(u,{[h]:i}),{}):i,c=sU(a,l);return{value:s==="array"?t:a,settings:Pt(Pt({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function oU(t){return{schema:Qme(t.length),normalize:e=>{let{value:n}=e,r=En(e,Gme);return $me(n,r,t)},format:(e,n)=>Vme(e,n),sanitize:(e,n,r)=>zme(e,n,r)}}var jme={grad:.9,turn:360,rad:360/(2*Math.PI)},Ma=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Rr=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},bs=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},aU=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Kb=function(t){return{r:bs(t.r,0,255),g:bs(t.g,0,255),b:bs(t.b,0,255),a:bs(t.a)}},p8=function(t){return{r:Rr(t.r),g:Rr(t.g),b:Rr(t.b),a:Rr(t.a,3)}},Kme=/^#([0-9a-f]{3,8})$/i,DA=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},lU=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},cU=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},Jb=function(t){return{h:aU(t.h),s:bs(t.s,0,100),l:bs(t.l,0,100),a:bs(t.a)}},Xb=function(t){return{h:Rr(t.h),s:Rr(t.s),l:Rr(t.l),a:Rr(t.a,3)}},Yb=function(t){return cU((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},u0=function(t){return{h:(e=lU(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},Jme=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xme=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Yme=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qme=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,XE={string:[[function(t){var e=Kme.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Rr(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Rr(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Yme.exec(t)||qme.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Kb({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Jme.exec(t)||Xme.exec(t);if(!e)return null;var n,r,i=Jb({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(jme[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Yb(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return Ma(e)&&Ma(n)&&Ma(r)?Kb({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!Ma(e)||!Ma(n)||!Ma(r))return null;var o=Jb({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return Yb(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!Ma(e)||!Ma(n)||!Ma(r))return null;var o=function(a){return{h:aU(a.h),s:bs(a.s,0,100),v:bs(a.v,0,100),a:bs(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return cU(o)},"hsv"]]},qb=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},uU=function(t){return typeof t=="string"?qb(t.trim(),XE.string):typeof t=="object"&&t!==null?qb(t,XE.object):[null,void 0]},Zme=function(t){return uU(t)[1]},m8=function(t,e){var n=u0(t);return{h:n.h,s:bs(n.s+100*e,0,100),l:n.l,a:n.a}},g8=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Zb=function(t,e){var n=u0(t);return{h:n.h,s:n.s,l:bs(n.l+100*e,0,100),a:n.a}},YE=function(){function t(e){this.parsed=uU(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Rr(g8(this.rgba),2)},t.prototype.isDark=function(){return g8(this.rgba)<.5},t.prototype.isLight=function(){return g8(this.rgba)>=.5},t.prototype.toHex=function(){return e=p8(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?DA(Rr(255*s)):"","#"+DA(n)+DA(r)+DA(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return p8(this.rgba)},t.prototype.toRgbString=function(){return e=p8(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return Xb(u0(this.rgba))},t.prototype.toHslString=function(){return e=Xb(u0(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=lU(this.rgba),{h:Rr(e.h),s:Rr(e.s),v:Rr(e.v),a:Rr(e.a,3)};var e},t.prototype.invert=function(){return di({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),di(m8(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),di(m8(this.rgba,-e))},t.prototype.grayscale=function(){return di(m8(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),di(Zb(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),di(Zb(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?di({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Rr(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=u0(this.rgba);return typeof e=="number"?di({h:e,s:n.s,l:n.l,a:n.a}):Rr(n.h)},t.prototype.isEqual=function(e){return this.toHex()===di(e).toHex()},t}(),di=function(t){return t instanceof YE?t:new YE(t)},eB=[],ege=function(t){t.forEach(function(e){eB.indexOf(e)<0&&(e(YE,XE),eB.push(e))})};function tge(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),h=1/0,d="black";if(!s.length)for(var m in n)s[m]=new t(n[m]).toRgb();for(var A in n){var x=(a=u,l=s[A],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));x<h&&(h=x,d=A)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}function _d(){return(_d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function oC(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function qE(t){var e=D.useRef(t),n=D.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var nd=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},f0=function(t){return"touches"in t},ZE=function(t){return t&&t.ownerDocument.defaultView||self},tB=function(t,e,n){var r=t.getBoundingClientRect(),i=f0(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,n):e;return{left:nd((i.pageX-(r.left+ZE(t).pageXOffset))/r.width),top:nd((i.pageY-(r.top+ZE(t).pageYOffset))/r.height)}},nB=function(t){!f0(t)&&t.preventDefault()},aC=J.memo(function(t){var e=t.onMove,n=t.onKey,r=oC(t,["onMove","onKey"]),i=D.useRef(null),s=qE(e),o=qE(n),a=D.useRef(null),l=D.useRef(!1),c=D.useMemo(function(){var m=function(E){nB(E),(f0(E)?E.touches.length>0:E.buttons>0)&&i.current?s(tB(i.current,E,a.current)):x(!1)},A=function(){return x(!1)};function x(E){var g=l.current,y=ZE(i.current),v=E?y.addEventListener:y.removeEventListener;v(g?"touchmove":"mousemove",m),v(g?"touchend":"mouseup",A)}return[function(E){var g=E.nativeEvent,y=i.current;if(y&&(nB(g),!function(S,w){return w&&!f0(S)}(g,l.current)&&y)){if(f0(g)){l.current=!0;var v=g.changedTouches||[];v.length&&(a.current=v[0].identifier)}y.focus(),s(tB(y,g,a.current)),x(!0)}},function(E){var g=E.which||E.keyCode;g<37||g>40||(E.preventDefault(),o({left:g===39?.05:g===37?-.05:0,top:g===40?.05:g===38?-.05:0}))},x]},[o,s]),u=c[0],h=c[1],d=c[2];return D.useEffect(function(){return d},[d]),J.createElement("div",_d({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:h,tabIndex:0,role:"slider"}))}),sm=function(t){return t.filter(Boolean).join(" ")},lC=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=sm(["react-colorful__pointer",t.className]);return J.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},J.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},mi=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},fU=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:mi(t.h),s:mi(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:mi(i/2),a:mi(r,2)}},ex=function(t){var e=fU(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},A8=function(t){var e=fU(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},hU=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),c=s%6;return{r:mi(255*[r,a,o,o,l,r][c]),g:mi(255*[l,r,r,a,o,o][c]),b:mi(255*[o,o,l,r,r,a][c]),a:mi(i,2)}},dU=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:mi(60*(a<0?a+6:a)),s:mi(s?o/s*100:0),v:mi(s/255*100),a:i}},pU=J.memo(function(t){var e=t.hue,n=t.onChange,r=sm(["react-colorful__hue",t.className]);return J.createElement("div",{className:r},J.createElement(aC,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:nd(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":mi(e),"aria-valuemax":"360","aria-valuemin":"0"},J.createElement(lC,{className:"react-colorful__hue-pointer",left:e/360,color:ex({h:e,s:100,v:100,a:1})})))}),mU=J.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:ex({h:e.h,s:100,v:100,a:1})};return J.createElement("div",{className:"react-colorful__saturation",style:r},J.createElement(aC,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:nd(e.s+100*i.left,0,100),v:nd(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+mi(e.s)+"%, Brightness "+mi(e.v)+"%"},J.createElement(lC,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:ex(e)})))}),cC=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function gU(t,e,n){var r=qE(n),i=D.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=D.useRef({color:e,hsva:s});D.useEffect(function(){if(!t.equal(e,a.current.color)){var c=t.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,t]),D.useEffect(function(){var c;cC(s,a.current.hsva)||t.equal(c=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,t,r]);var l=D.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var nge=typeof window<"u"?D.useLayoutEffect:D.useEffect,rge=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},rB=new Map,AU=function(t){nge(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!rB.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,rB.set(e,n);var r=rge();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},ige=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=oC(t,["className","colorModel","color","onChange"]),a=D.useRef(null);AU(a);var l=gU(n,i,s),c=l[0],u=l[1],h=sm(["react-colorful",e]);return J.createElement("div",_d({},o,{ref:a,className:h}),J.createElement(mU,{hsva:c,onChange:u}),J.createElement(pU,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},sge=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+A8(Object.assign({},n,{a:0}))+", "+A8(Object.assign({},n,{a:1}))+")"},s=sm(["react-colorful__alpha",e]),o=mi(100*n.a);return J.createElement("div",{className:s},J.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),J.createElement(aC,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:nd(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},J.createElement(lC,{className:"react-colorful__alpha-pointer",left:n.a,color:A8(n)})))},oge=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=oC(t,["className","colorModel","color","onChange"]),a=D.useRef(null);AU(a);var l=gU(n,i,s),c=l[0],u=l[1],h=sm(["react-colorful",e]);return J.createElement("div",_d({},o,{ref:a,className:h}),J.createElement(mU,{hsva:c,onChange:u}),J.createElement(pU,{hue:c.h,onChange:u}),J.createElement(sge,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},age={defaultColor:{r:0,g:0,b:0,a:1},toHsva:dU,fromHsva:hU,equal:cC},lge=function(t){return J.createElement(oge,_d({},t,{colorModel:age}))},cge={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return dU({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=hU(t)).r,g:e.g,b:e.b};var e},equal:cC},uge=function(t){return J.createElement(ige,_d({},t,{colorModel:cge}))};function wd(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Id(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function fge(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function hge(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(fge(arguments[e]));return t}var dge=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function om(t,e){var n=pge(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function pge(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=dge.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var mge=[".DS_Store","Thumbs.db"];function gge(t){return wd(this,void 0,void 0,function(){return Id(this,function(e){return S2(t)&&Age(t)?[2,xge(t.dataTransfer,t.type)]:vge(t)?[2,yge(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,Ege(t)]:[2,[]]})})}function Age(t){return S2(t.dataTransfer)}function vge(t){return S2(t)&&S2(t.target)}function S2(t){return typeof t=="object"&&t!==null}function yge(t){return tx(t.target.files).map(function(e){return om(e)})}function Ege(t){return wd(this,void 0,void 0,function(){var e;return Id(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return om(r)})]}})})}function xge(t,e){return wd(this,void 0,void 0,function(){var n,r;return Id(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=tx(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(Cge))]):[3,2];case 1:return r=i.sent(),[2,iB(vU(r))];case 2:return[2,iB(tx(t.files).map(function(s){return om(s)}))]}})})}function iB(t){return t.filter(function(e){return mge.indexOf(e.name)===-1})}function tx(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function Cge(t){if(typeof t.webkitGetAsEntry!="function")return sB(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?yU(e):sB(t)}function vU(t){return t.reduce(function(e,n){return hge(e,Array.isArray(n)?vU(n):[n])},[])}function sB(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=om(e);return Promise.resolve(n)}function Sge(t){return wd(this,void 0,void 0,function(){return Id(this,function(e){return[2,t.isDirectory?yU(t):_ge(t)]})})}function yU(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return wd(o,void 0,void 0,function(){var l,c,u;return Id(this,function(h){switch(h.label){case 0:if(a.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=h.sent(),n(l),[3,4];case 3:return c=h.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(Sge)),i.push(u),s(),h.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function _ge(t){return wd(this,void 0,void 0,function(){return Id(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=om(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var wge=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function oB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(n),!0).forEach(function(r){EU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lB(t,e){return bge(t)||Mge(t,e)||Tge(t,e)||Ige()}function Ige(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tge(t,e){if(t){if(typeof t=="string")return cB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cB(t,e)}}function cB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function bge(t){if(Array.isArray(t))return t}var Bge="file-invalid-type",Rge="file-too-large",Pge="file-too-small",Dge="too-many-files",Lge=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Bge,message:"File type must be ".concat(n)}},uB=function(e){return{code:Rge,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},fB=function(e){return{code:Pge,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Fge={code:Dge,message:"Too many files"};function xU(t,e){var n=t.type==="application/x-moz-file"||wge(t,e);return[n,n?null:Lge(e)]}function CU(t,e,n){if(Ip(t.size))if(Ip(e)&&Ip(n)){if(t.size>n)return[!1,uB(n)];if(t.size<e)return[!1,fB(e)]}else{if(Ip(e)&&t.size<e)return[!1,fB(e)];if(Ip(n)&&t.size>n)return[!1,uB(n)]}return[!0,null]}function Ip(t){return t!=null}function Oge(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=xU(a,n),c=lB(l,1),u=c[0],h=CU(a,r,i),d=lB(h,1),m=d[0];return u&&m})}function _2(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function LA(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function hB(t){t.preventDefault()}function Nge(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function kge(t){return t.indexOf("Edge/")!==-1}function Uge(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Nge(t)||kge(t)}function Go(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!_2(r)&&a&&a.apply(void 0,[r].concat(s)),_2(r)})}}function Gge(){return"showOpenFilePicker"in window}function Qge(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return aB(aB({},e),{},EU({},n,[]))},{}):{}}]}function Hge(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function zge(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var Vge=["children"],Wge=["open"],$ge=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],jge=["refKey","onChange","onClick"];function Kge(t){return Yge(t)||Xge(t)||SU(t)||Jge()}function Jge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yge(t){if(Array.isArray(t))return nx(t)}function v8(t,e){return eAe(t)||Zge(t,e)||SU(t,e)||qge()}function qge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SU(t,e){if(t){if(typeof t=="string")return nx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nx(t,e)}}function nx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function eAe(t){if(Array.isArray(t))return t}function dB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(n),!0).forEach(function(r){rx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2(t,e){if(t==null)return{};var n=tAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var uC=D.forwardRef(function(t,e){var n=t.children,r=w2(t,Vge),i=wU(r),s=i.open,o=w2(i,Wge);return D.useImperativeHandle(e,function(){return{open:s}},[s]),J.createElement(D.Fragment,null,n(Dn(Dn({},o),{},{open:s})))});uC.displayName="Dropzone";var _U={disabled:!1,getFilesFromEvent:gge,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};uC.defaultProps=_U;uC.propTypes={children:mn.func,accept:mn.oneOfType([mn.string,mn.arrayOf(mn.string)]),multiple:mn.bool,preventDropOnDocument:mn.bool,noClick:mn.bool,noKeyboard:mn.bool,noDrag:mn.bool,noDragEventsBubbling:mn.bool,minSize:mn.number,maxSize:mn.number,maxFiles:mn.number,disabled:mn.bool,getFilesFromEvent:mn.func,onFileDialogCancel:mn.func,onFileDialogOpen:mn.func,useFsAccessApi:mn.bool,onDragEnter:mn.func,onDragLeave:mn.func,onDragOver:mn.func,onDrop:mn.func,onDropAccepted:mn.func,onDropRejected:mn.func,validator:mn.func};var ix={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function wU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Dn(Dn({},_U),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,h=e.onDragOver,d=e.onDrop,m=e.onDropAccepted,A=e.onDropRejected,x=e.onFileDialogCancel,E=e.onFileDialogOpen,g=e.useFsAccessApi,y=e.preventDropOnDocument,v=e.noClick,S=e.noKeyboard,w=e.noDrag,T=e.noDragEventsBubbling,M=e.validator,P=D.useMemo(function(){return typeof E=="function"?E:pB},[E]),b=D.useMemo(function(){return typeof x=="function"?x:pB},[x]),B=D.useRef(null),L=D.useRef(null),H=D.useReducer(nAe,ix),U=v8(H,2),V=U[0],W=U[1],q=V.isFocused,Y=V.isFileDialogActive,k=V.draggedFiles,K=D.useRef(typeof window<"u"&&window.isSecureContext&&g&&Gge()),$=function(){!K.current&&Y&&setTimeout(function(){if(L.current){var F=L.current.files;F.length||(W({type:"closeDialog"}),b())}},300)};D.useEffect(function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}},[L,Y,b,K]);var G=D.useRef([]),X=function(F){B.current&&B.current.contains(F.target)||(F.preventDefault(),G.current=[])};D.useEffect(function(){return y&&(document.addEventListener("dragover",hB,!1),document.addEventListener("drop",X,!1)),function(){y&&(document.removeEventListener("dragover",hB),document.removeEventListener("drop",X))}},[B,y]);var le=D.useCallback(function(N){N.preventDefault(),N.persist(),Ee(N),G.current=[].concat(Kge(G.current),[N.target]),LA(N)&&Promise.resolve(i(N)).then(function(F){_2(N)&&!T||(W({draggedFiles:F,isDragActive:!0,type:"setDraggedFiles"}),c&&c(N))})},[i,c,T]),pe=D.useCallback(function(N){N.preventDefault(),N.persist(),Ee(N);var F=LA(N);if(F&&N.dataTransfer)try{N.dataTransfer.dropEffect="copy"}catch{}return F&&h&&h(N),!1},[h,T]),ye=D.useCallback(function(N){N.preventDefault(),N.persist(),Ee(N);var F=G.current.filter(function(Ce){return B.current&&B.current.contains(Ce)}),ne=F.indexOf(N.target);ne!==-1&&F.splice(ne,1),G.current=F,!(F.length>0)&&(W({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),LA(N)&&u&&u(N))},[B,u,T]),Se=D.useCallback(function(N,F){var ne=[],Ce=[];N.forEach(function(ve){var Ie=xU(ve,n),ze=v8(Ie,2),Te=ze[0],oe=ze[1],tt=CU(ve,o,s),it=v8(tt,2),ot=it[0],$e=it[1],je=M?M(ve):null;if(Te&&ot&&!je)ne.push(ve);else{var Ct=[oe,$e];je&&(Ct=Ct.concat(je)),Ce.push({file:ve,errors:Ct.filter(function(Qt){return Qt})})}}),(!a&&ne.length>1||a&&l>=1&&ne.length>l)&&(ne.forEach(function(ve){Ce.push({file:ve,errors:[Fge]})}),ne.splice(0)),W({acceptedFiles:ne,fileRejections:Ce,type:"setFiles"}),d&&d(ne,Ce,F),Ce.length>0&&A&&A(Ce,F),ne.length>0&&m&&m(ne,F)},[W,a,n,o,s,l,d,m,A,M]),we=D.useCallback(function(N){N.preventDefault(),N.persist(),Ee(N),G.current=[],LA(N)&&Promise.resolve(i(N)).then(function(F){_2(N)&&!T||Se(F,N)}),W({type:"reset"})},[i,Se,T]),Me=D.useCallback(function(){if(K.current){W({type:"openDialog"}),P();var N={multiple:a,types:Qge(n)};window.showOpenFilePicker(N).then(function(F){return i(F)}).then(function(F){Se(F,null),W({type:"closeDialog"})}).catch(function(F){Hge(F)?(b(F),W({type:"closeDialog"})):zge(F)&&(K.current=!1,L.current&&(L.current.value=null,L.current.click()))});return}L.current&&(W({type:"openDialog"}),P(),L.current.value=null,L.current.click())},[W,P,b,g,Se,n,a]),Ve=D.useCallback(function(N){!B.current||!B.current.isEqualNode(N.target)||(N.key===" "||N.key==="Enter"||N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),Me())},[B,Me]),We=D.useCallback(function(){W({type:"focus"})},[]),xe=D.useCallback(function(){W({type:"blur"})},[]),j=D.useCallback(function(){v||(Uge()?setTimeout(Me,0):Me())},[v,Me]),Ae=function(F){return r?null:F},ue=function(F){return S?null:Ae(F)},_e=function(F){return w?null:Ae(F)},Ee=function(F){T&&F.stopPropagation()},Qe=D.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=N.refKey,ne=F===void 0?"ref":F,Ce=N.role,ve=N.onKeyDown,Ie=N.onFocus,ze=N.onBlur,Te=N.onClick,oe=N.onDragEnter,tt=N.onDragOver,it=N.onDragLeave,ot=N.onDrop,$e=w2(N,$ge);return Dn(Dn(rx({onKeyDown:ue(Go(ve,Ve)),onFocus:ue(Go(Ie,We)),onBlur:ue(Go(ze,xe)),onClick:Ae(Go(Te,j)),onDragEnter:_e(Go(oe,le)),onDragOver:_e(Go(tt,pe)),onDragLeave:_e(Go(it,ye)),onDrop:_e(Go(ot,we)),role:typeof Ce=="string"&&Ce!==""?Ce:"button"},ne,B),!r&&!S?{tabIndex:0}:{}),$e)}},[B,Ve,We,xe,j,le,pe,ye,we,S,w,r]),Oe=D.useCallback(function(N){N.stopPropagation()},[]),ke=D.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=N.refKey,ne=F===void 0?"ref":F,Ce=N.onChange,ve=N.onClick,Ie=w2(N,jge),ze=rx({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:Ae(Go(Ce,we)),onClick:Ae(Go(ve,Oe)),tabIndex:-1},ne,L);return Dn(Dn({},ze),Ie)}},[L,n,a,we,r]),qe=k.length,xt=qe>0&&Oge({files:k,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:l}),Yt=qe>0&&!xt;return Dn(Dn({},V),{},{isDragAccept:xt,isDragReject:Yt,isFocused:q&&!r,getRootProps:Qe,getInputProps:ke,rootRef:B,inputRef:L,open:Ae(Me)})}function nAe(t,e){switch(e.type){case"focus":return Dn(Dn({},t),{},{isFocused:!0});case"blur":return Dn(Dn({},t),{},{isFocused:!1});case"openDialog":return Dn(Dn({},ix),{},{isFileDialogActive:!0});case"closeDialog":return Dn(Dn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return Dn(Dn({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return Dn(Dn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Dn({},ix);default:return t}}function pB(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var rAe=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var iAe=rAe;function mB(t){return iAe(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var IU=function(e){var n,r;return!(mB(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,mB(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var sAe=IU,fC=function(e){return sAe(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var oAe=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break},aAe=fC,lAe=oAe;function TU(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];sx(i)&&lAe(i,cAe,t)}return t}function cAe(t,e){if(uAe(e)){var n=this[e];sx(t)&&sx(n)?TU(n,t):this[e]=t}}function sx(t){return aAe(t)&&!Array.isArray(t)}function uAe(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var fAe=TU;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var hAe=function(t,e,n,r,i){if(!dAe(t)||!e)return t;if(e=FA(e),n&&(e+="."+FA(n)),r&&(e+="."+FA(r)),i&&(e+="."+FA(i)),e in t)return t[e];for(var s=e.split("."),o=s.length,a=-1;t&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];t=t[l]}return t};function dAe(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function FA(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var pAe=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];n.call(o,c)&&(r[c]=o[c])}return r},mAe=fC,gAe=pAe,AAe=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");gB(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];yAe(n)&&(n=EAe(n)),gB(n)&&(vAe(t,n),gAe(t,n))}return t};function vAe(t,e){for(var n in e)xAe(e,n)&&(t[n]=e[n])}function yAe(t){return t&&typeof t=="string"}function EAe(t){var e={};for(var n in t)e[n]=t[n];return e}function gB(t){return t&&typeof t=="object"||mAe(t)}function xAe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var CAe=AAe,SAe=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=CAe({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,u=t.length,h=-1,d;function m(){if(s&&a.length)return s[a[a.length-1]]}for(;++h<u;){var A=t[h],x=t[h+1],E={val:A,idx:h,arr:l,str:t};if(o.push(E),A==="\\"){E.val=wAe(r,t,h)===!0?A+x:x,E.escaped=!0,typeof n=="function"&&n(E),l[l.length-1]+=E.val,h++;continue}if(s&&s[A]){a.push(A);var g=m(),y=h+1;if(t.indexOf(g,y+1)!==-1)for(;a.length&&y<u;){var v=t[++y];if(v==="\\"){v++;continue}if(i.indexOf(v)!==-1){y=ox(t,v,y+1);continue}if(g=m(),a.length&&t.indexOf(g,y+1)===-1)break;if(s[v]){a.push(v);continue}g===v&&a.pop()}if(d=y,d===-1){l[l.length-1]+=A;continue}A=t.slice(h,d+1),E.val=A,E.idx=h=d}if(i.indexOf(A)!==-1){if(d=ox(t,A,h+1),d===-1){l[l.length-1]+=A;continue}_Ae(A,r)===!0?A=t.slice(h,d+1):A=t.slice(h+1,d),E.val=A,E.idx=h=d}if(typeof n=="function"&&(n(E,o),A=E.val,h=E.idx),E.val===c&&E.split!==!1){l.push("");continue}l[l.length-1]+=E.val}return l};function ox(t,e,n,r){var i=t.indexOf(e,n);return t.charAt(i-1)==="\\"?ox(t,e,i+1):i}function _Ae(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function wAe(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var IAe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},AB=IAe,TAe=function(e){AB(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];AB(i)&&MAe(e,i)}return e};function MAe(t,e){for(var n in e)bAe(e,n)&&(t[n]=e[n])}function bAe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var BAe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var RAe=SAe,PAe=TAe,vB=IU,yB=BAe,DAe=function(t,e,n){if(!yB(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=RAe(e,{sep:".",brackets:!0}).filter(LAe),i=r.length,s=-1,o=t;++s<i;){var a=r[s];if(s!==i-1){yB(o[a])||(o[a]={}),o=o[a];continue}vB(o[a])&&vB(n)?o[a]=PAe({},o[a],n):o[a]=n}return t};function LAe(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var y8=fC,EB=fAe,FAe=hAe,xB=DAe,OAe=function(e,n,r){if(!y8(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return EB.apply(null,arguments);if(typeof r=="string")return xB(e,n,r),e;var i=FAe(e,n);return y8(r)&&y8(i)&&(r=EB({},i,r)),xB(e,n,r),e};const NAe=rd(OAe),hC=(...t)=>t.filter(Boolean).join(".");function kAe(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function UAe(t){const e=D.useRef(null),n=D.useRef(null),r=D.useRef(!0);return D.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),D.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=n.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const GAe=t=>{const[e,n]=D.useState(t.getVisiblePaths());return D.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:EN});return()=>r()},[t]),e};function MU(t=3){const e=D.useRef(null),n=D.useRef(null),[r,i]=D.useState(!1),s=D.useCallback(()=>i(!0),[]),o=D.useCallback(()=>i(!1),[]);return D.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=n.current.getBoundingClientRect(),h=a+u>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=c+"px",h==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-l+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:s,hide:o}}ege([tge]);const QAe={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Pi.extend({color:()=>t=>di(t).isValid()});const HAe=t=>Pi().color().test(t);function bU(t,{format:e,hasAlpha:n,isString:r}){const i=QAe[e]+(r&&e!=="hex"?"String":""),s=t[i]();return typeof s=="object"&&!n?E3e(s,["a"]):s}const BU=(t,e)=>{const n=di(t);if(!n.isValid())throw Error("Invalid color");return bU(n,e)},zAe=(t,e)=>bU(di(t),Pt(Pt({},e),{},{isString:!0,format:"hex"})),VAe=({value:t})=>{const e=Zme(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:BU(t,i),settings:i}};var WAe=Object.freeze({__proto__:null,schema:HAe,sanitize:BU,format:zAe,normalize:VAe});const $Ae=ht("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),jAe=ht("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),KAe=ht("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function CB(t,e){return e!=="rgb"?di(t).toRgb():t}function JAe({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=ii(),{format:o,hasAlpha:a}=n,{popinRef:l,wrapperRef:c,shown:u,show:h,hide:d}=MU(),m=D.useRef(0),[A,x]=D.useState(()=>CB(t,o)),E=a?lge:uge,g=()=>{x(CB(t,o)),h(),i()},y=()=>{d(),s(),window.clearTimeout(m.current)},v=()=>{m.current=window.setTimeout(y,500)};return D.useEffect(()=>()=>window.clearTimeout(m.current),[]),J.createElement(J.Fragment,null,J.createElement($Ae,{ref:l,active:u,onClick:()=>g(),style:{color:e}}),u&&J.createElement(rC,null,J.createElement(qk,{onPointerUp:y}),J.createElement(KAe,{ref:c,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:S=>S.buttons===0&&v()},J.createElement(E,{color:A,onChange:r}))))}function XAe(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:s}=ii();return J.createElement(Vs,{input:!0},J.createElement(bo,null,n),J.createElement(jAe,null,J.createElement(JAe,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:s}),J.createElement(nC,{value:e,onChange:r,onUpdate:i})))}var YAe=Pt({component:XAe},WAe);function qAe(){const{label:t,displayValue:e,onUpdate:n,settings:r}=ii();return J.createElement(Vs,{input:!0},J.createElement(bo,null,t),J.createElement(sC,{value:e,settings:r,onUpdate:n}))}var ZAe=Pt({component:qAe},oU(["x","y","z"]));const e1e=ht("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),t1e=ht("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function n1e({value:t,settings:e,onUpdate:n}){const r=D.useRef(),i=D.useRef(0),s=D.useRef(0),o=D.useRef(1),[a,l]=D.useState(!1),[c,u]=D.useState(!1),[h,d]=eU(),m=D.useRef(null),A=D.useRef(null);D.useLayoutEffect(()=>{if(a){const{top:H,left:U,width:V,height:W}=m.current.getBoundingClientRect();A.current.style.left=U+V/2+"px",A.current.style.top=H+W/2+"px"}},[a]);const{keys:[x,E],joystick:g}=e,y=g==="invertY"?1:-1,{[x]:{step:v},[E]:{step:S}}=e,w=Va("sizes","joystickWidth"),T=Va("sizes","joystickHeight"),M=parseFloat(w)*.8/2,P=parseFloat(T)*.8/2,b=D.useCallback(()=>{r.current||(u(!0),i.current&&d({x:i.current*M}),s.current&&d({y:s.current*-P}),r.current=window.setInterval(()=>{n(H=>{const U=v*i.current*o.current,V=y*S*s.current*o.current;return Array.isArray(H)?{[x]:H[0]+U,[E]:H[1]+V}:{[x]:H[x]+U,[E]:H[E]+V}})},16))},[M,P,n,d,v,S,x,E,y]),B=D.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);D.useEffect(()=>{function H(U){o.current=kk(U)}return window.addEventListener("keydown",H),window.addEventListener("keyup",H),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",H),window.removeEventListener("keyup",H)}},[]);const L=im(({first:H,active:U,delta:[V,W],movement:[q,Y]})=>{H&&l(!0);const k=Cc(q,-M,M),K=Cc(Y,-P,P);i.current=Math.abs(q)>Math.abs(k)?Math.sign(q-k):0,s.current=Math.abs(Y)>Math.abs(K)?Math.sign(K-Y):0;let $=t[x],G=t[E];U?(i.current||($+=V*v*o.current,d({x:k})),s.current||(G-=y*W*S*o.current,d({y:K})),i.current||s.current?b():B(),n({[x]:$,[E]:G})):(l(!1),i.current=0,s.current=0,d({x:0,y:0}),B())});return J.createElement(e1e,hr({ref:m},L()),a&&J.createElement(rC,null,J.createElement(t1e,{ref:A,isOutOfBounds:c},J.createElement("div",null),J.createElement("span",{ref:h}))))}const r1e=ht("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function i1e(){const{label:t,displayValue:e,onUpdate:n,settings:r}=ii();return J.createElement(Vs,{input:!0},J.createElement(bo,null,t),J.createElement(r1e,{withJoystick:!!r.joystick},r.joystick&&J.createElement(n1e,{value:e,settings:r,onUpdate:n}),J.createElement(sC,{value:e,settings:r,onUpdate:n})))}const s1e=["joystick"],RU=oU(["x","y"]),o1e=t=>{let{joystick:e=!0}=t,n=En(t,s1e);const{value:r,settings:i}=RU.normalize(n);return{value:r,settings:Pt(Pt({},i),{},{joystick:e})}};var a1e=Pt(Pt({component:i1e},RU),{},{normalize:o1e});const l1e=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob |File].")}},c1e=(t,e)=>typeof e=="object"&&"image"in e,u1e=({image:t})=>({value:t});var f1e=Object.freeze({__proto__:null,sanitize:l1e,schema:c1e,normalize:u1e});const h1e=ht("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),d1e=ht("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),p1e=ht("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),m1e=ht("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),g1e=ht("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),A1e=ht("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function v1e(){const{label:t,value:e,onUpdate:n,disabled:r}=ii(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=MU(),c=D.useCallback(A=>{A.length&&n(A[0])},[n]),u=D.useCallback(A=>{A.stopPropagation(),n(void 0)},[n]),{getRootProps:h,getInputProps:d,isDragAccept:m}=wU({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return J.createElement(Vs,{input:!0},J.createElement(bo,null,t),J.createElement(h1e,null,J.createElement(p1e,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&J.createElement(rC,null,J.createElement(qk,{onPointerUp:l,style:{cursor:"pointer"}}),J.createElement(m1e,{ref:s,style:{backgroundImage:`url(${e})`}})),J.createElement(d1e,h({isDragAccept:m}),J.createElement("input",d()),J.createElement(g1e,null,m?"drop image":"click or drop")),J.createElement(A1e,{onClick:u,disabled:!e})))}var y1e=Pt({component:v1e},f1e);const SB=Pi().number(),E1e=(t,e)=>Pi().array().length(2).every.number().test(t)&&Pi().schema({min:SB,max:SB}).test(e),I2=t=>({min:t[0],max:t[1]}),PU=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?I2(t):t,s={min:r[0],max:r[1]},{min:o,max:a}=Pt(Pt({},s),i);return[Cc(Number(o),e,Math.max(e,a)),Cc(Number(a),Math.min(n,o),n)]},x1e=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=sU(I2(t),{min:r,max:r}),s=[e,n],o=Pt(Pt({},i),{},{bounds:s});return{value:PU(I2(t),o,t),settings:o}};var C1e=Object.freeze({__proto__:null,schema:E1e,format:I2,sanitize:PU,normalize:x1e});const S1e=["value","bounds","onDrag"],_1e=["bounds"],w1e=ht("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function I1e(t){let{value:e,bounds:[n,r],onDrag:i}=t,s=En(t,S1e);const o=D.useRef(null),a=D.useRef(null),l=D.useRef(null),c=D.useRef(0),u=Va("sizes","scrubberWidth"),h=im(({event:A,first:x,xy:[E],movement:[g],memo:y={}})=>{if(x){const{width:S,left:w}=o.current.getBoundingClientRect();c.current=S-parseFloat(u);const T=(A==null?void 0:A.target)===a.current||(A==null?void 0:A.target)===l.current;y.pos=x2((E-w)/S,n,r);const M=Math.abs(y.pos-e.min)-Math.abs(y.pos-e.max);y.key=M<0||M===0&&y.pos<=e.min?"min":"max",T&&(y.pos=e[y.key])}const v=y.pos+x2(g/c.current,0,r-n);return i({[y.key]:ome(v,s[y.key])}),y}),d=`calc(${E2(e.min,n,r)} * (100% - ${u} - 8px) + 4px)`,m=`calc(${1-E2(e.max,n,r)} * (100% - ${u} - 8px) + 4px)`;return J.createElement(nU,hr({ref:o},h()),J.createElement(tU,null,J.createElement(rU,{style:{left:d,right:m}})),J.createElement(KE,{position:"left",ref:a,style:{left:d}}),J.createElement(KE,{position:"right",ref:l,style:{right:m}}))}function T1e(){const{label:t,displayValue:e,onUpdate:n,settings:r}=ii(),i=En(r,_1e);return J.createElement(J.Fragment,null,J.createElement(Vs,{input:!0},J.createElement(bo,null,t),J.createElement(w1e,null,J.createElement(I1e,hr({value:e},r,{onDrag:n})),J.createElement(sC,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var M1e=Pt({component:T1e},C1e);const b1e=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},B1e=["type","value"],R1e=["onChange","transient","onEditStart","onEditEnd"],P1e=function(){const e=W9(kq(()=>({data:{}}))),n=b1e();this.storeId=y3e(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([u,h])=>{h.render&&a.some(d=>d.indexOf(u)===0)&&!h.render(this.get)&&l.push(u+".")});const c=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&l.every(h=>u.indexOf(h)===-1)&&(!o[u].render||o[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in ra&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,h])=>{let d=c[u];if(d){const{type:m,value:A}=h,x=En(h,B1e);m!==d.type?Fa(Ln.INPUT_TYPE_OVERRIDE,m):((d.__refCount===0||a)&&Object.assign(d,x),d.__refCount++)}else c[u]=Pt(Pt({},h),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const u=c.data;return jb(u[o],a,o,this,l),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=Pt(Pt({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,h])=>{try{jb(c[u],h,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{Fa(Ln.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{n.emit(`onEditStart:${o}`,this.get(o),o,Pt(Pt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{n.emit(`onEditEnd:${o}`,this.get(o),o,Pt(Pt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return n.on(l,a),()=>n.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return n.on(l,a),()=>n.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([u,h])=>{if(u==="")return Fa(Ln.EMPTY_KEY);let d=hC(a,u);if(h.type===ra.FOLDER){const m=s(h.schema,d,l);Object.assign(c,m),d in r||(r[d]=h.settings)}else if(u in l)Fa(Ln.DUPLICATE_KEYS,u,d,l[u].path);else{const m=I3e(h,u,d,c);if(m){const{type:A,options:x,input:E}=m,{onChange:g,transient:y,onEditStart:v,onEditEnd:S}=x,w=En(x,R1e);c[d]=Pt(Pt(Pt({type:A},w),E),{},{fromPanel:!0}),l[u]={path:d,onChange:g,transient:y,onEditStart:v,onEditEnd:S}}else Fa(Ln.UNKNOWN_INPUT,d,h)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}};new P1e;const _B=t=>"__levaInput"in t,D1e=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[s,o]=kAe(i);(!r||s.toLowerCase().indexOf(r)>-1)&&NAe(n,o,{[s]:{__levaInput:!0,path:i}})}),n},L1e=["type","label","path","valueKey","value","settings","setValue","disabled"];function F1e(t){let{type:e,label:n,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=t,c=En(t,L1e);const{displayValue:u,onChange:h,onUpdate:d}=Zk({type:e,value:s,settings:o,setValue:a}),m=Hu[e].component;return m?J.createElement(zk.Provider,{value:Pt({key:i,path:r,id:""+r,label:n,displayValue:u,value:s,onChange:h,onUpdate:d,settings:o,setValue:a,disabled:l},c)},J.createElement(V3e,{disabled:l},J.createElement(m,null))):(Fa(Ln.NO_COMPONENT_FOR_TYPE,e,r),null)}const O1e=ht("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function N1e({onClick:t,settings:e,label:n}){const r=rm();return J.createElement(Vs,null,J.createElement(O1e,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const k1e=ht("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),U1e=ht("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),G1e=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function Q1e(t){const{label:e,opts:n}=G1e(t),r=rm();return J.createElement(Vs,{input:!!e},e&&J.createElement(bo,null,e),J.createElement(k1e,null,Object.entries(n).map(([i,s])=>J.createElement(U1e,{key:i,onClick:()=>s(r.get)},i))))}const H1e=ht("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),DU=100;function z1e(t,e){t.push(e),t.length>DU&&t.shift()}const V1e=D.forwardRef(function({initialValue:t},e){const n=Va("colors","highlight3"),r=Va("colors","elevation2"),i=Va("colors","highlight1"),[s,o]=D.useMemo(()=>[di(i).alpha(.4).toRgbString(),di(i).alpha(.1).toRgbString()],[i]),a=D.useRef([t]),l=D.useRef(t),c=D.useRef(t),u=D.useRef(),h=D.useCallback((A,x)=>{if(!A)return;const{width:E,height:g}=A,y=new Path2D,v=E/DU,S=g*.05;for(let M=0;M<a.current.length;M++){const P=E2(a.current[M],l.current,c.current),b=v*M,B=g-P*(g-S*2)-S;y.lineTo(b,B)}x.clearRect(0,0,E,g);const w=new Path2D(y);w.lineTo(v*(a.current.length+1),g),w.lineTo(0,g),w.lineTo(0,0);const T=x.createLinearGradient(0,0,0,g);T.addColorStop(0,s),T.addColorStop(1,o),x.fillStyle=T,x.fill(w),x.strokeStyle=r,x.lineJoin="round",x.lineWidth=14,x.stroke(y),x.strokeStyle=n,x.lineWidth=2,x.stroke(y)},[n,r,s,o]),[d,m]=Z3e(h);return D.useImperativeHandle(e,()=>({frame:A=>{(l.current===void 0||A<l.current)&&(l.current=A),(c.current===void 0||A>c.current)&&(c.current=A),z1e(a.current,A),u.current=requestAnimationFrame(()=>h(d.current,m.current))}}),[d,m,h]),D.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),J.createElement(H1e,{ref:d})}),wB=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),W1e=D.forwardRef(function({initialValue:t},e){const[n,r]=D.useState(wB(t));return D.useImperativeHandle(e,()=>({frame:i=>r(wB(i))}),[]),J.createElement("div",null,n)});function IB(t){return typeof t=="function"?t():t.current}function $1e({label:t,objectOrFn:e,settings:n}){const r=D.useRef(),i=D.useRef(IB(e));return D.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(IB(e))},n.interval);return()=>window.clearInterval(s)},[e,n.interval]),J.createElement(Vs,{input:!0},J.createElement(bo,{align:"top"},t),n.graph?J.createElement(V1e,{ref:r,initialValue:i.current}):J.createElement(W1e,{ref:r,initialValue:i.current}))}const j1e=["type","label","key"],K1e={[ra.BUTTON]:N1e,[ra.BUTTON_GROUP]:Q1e,[ra.MONITOR]:$1e},J1e=J.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=tme(t);if(!e)return null;const{type:l,label:c,key:u}=e,h=En(e,j1e);if(l in ra){const d=K1e[l];return J.createElement(d,hr({label:c,path:t},h))}return l in Hu?J.createElement(F1e,hr({key:s+t,type:l,label:c,storeId:s,path:t,valueKey:u,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},h)):(f3e(Ln.UNSUPPORTED_INPUT,l,t),null)});function X1e({toggle:t,toggled:e,name:n}){return J.createElement(Q3e,{onClick:()=>t()},J.createElement(iC,{toggled:e}),J.createElement("div",null,n))}const Y1e=({name:t,path:e,tree:n})=>{const r=rm(),i=hC(e,t),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=D.useState(!s),c=D.useRef(null),u=Va("colors","folderWidgetColor"),h=Va("colors","folderTextColor");return D.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||h)},[o,u,h]),J.createElement(C2,{ref:c},J.createElement(X1e,{name:t,toggled:a,toggle:()=>l(d=>!d)}),J.createElement(LU,{parent:i,tree:n,toggled:a}))},LU=J.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=UAe(s),l=rm(),c=([h,d])=>{var m;return(_B(d)?(m=l.getInput(d.path))===null||m===void 0?void 0:m.order:l.getFolderSettings(hC(r,h)).order)||0},u=Object.entries(i).sort((h,d)=>c(h)-c(d));return J.createElement($E,{ref:o,isRoot:t,fill:e,flat:n},J.createElement(Jk,{ref:a,isRoot:t,toggled:s},u.map(([h,d])=>_B(d)?J.createElement(J1e,{key:d.path,valueKey:d.valueKey,path:d.path}):J.createElement(Y1e,{key:h,name:h,path:r,tree:d}))))}),q1e=ht("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${Yk}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),FU=40,T2=ht("i",{$flexCenter:"",width:FU,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Z1e=ht("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),e2e=ht("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${T2}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),t2e=ht("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),n2e=ht("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:FU}}}}),r2e=J.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=D.useState(""),s=D.useMemo(()=>Nk(t,250),[t]),o=()=>{t(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return D.useEffect(()=>{s(r)},[r,s]),J.createElement(J.Fragment,null,J.createElement(t2e,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),J.createElement(T2,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function i2e({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,h]=D.useState(!1),d=D.useRef(null);D.useEffect(()=>{var A,x;u?(A=d.current)===null||A===void 0||A.focus():(x=d.current)===null||x===void 0||x.blur()},[u]);const m=im(({offset:[A,x],first:E,last:g})=>{e({x:A,y:x}),E&&n({x:A,y:x}),g&&r({x:A,y:x})},{filterTaps:!0,from:({offset:[A,x]})=>[(c==null?void 0:c.x)||A,(c==null?void 0:c.y)||x]});return D.useEffect(()=>{const A=x=>{x.key==="L"&&x.shiftKey&&x.metaKey&&h(E=>!E)};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[]),J.createElement(J.Fragment,null,J.createElement(Z1e,{mode:a?"drag":void 0},J.createElement(T2,{active:!s,onClick:()=>i()},J.createElement(iC,{toggled:s,width:12,height:8})),J.createElement(n2e,hr({},a?m():{},{drag:a,filterEnabled:l}),o===void 0&&a?J.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},J.createElement("circle",{cx:"2",cy:"2",r:"2"}),J.createElement("circle",{cx:"14",cy:"2",r:"2"}),J.createElement("circle",{cx:"26",cy:"2",r:"2"}),J.createElement("circle",{cx:"2",cy:"12",r:"2"}),J.createElement("circle",{cx:"14",cy:"12",r:"2"}),J.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&J.createElement(T2,{active:u,onClick:()=>h(A=>!A)},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},J.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),J.createElement(e2e,{toggled:u},J.createElement(r2e,{ref:d,setFilter:t,toggle:i})))}J.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,h;const d=GAe(t),[m,A]=D.useState(""),x=D.useMemo(()=>D1e(d,m),[d,m]),[E,g]=eU(),y=i||d.length>0,v=typeof o=="object"&&o.title||void 0,S=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,w=typeof o=="object"&&(h=o.filter)!==null&&h!==void 0?h:!0,T=typeof o=="object"&&o.position||void 0,M=typeof o=="object"&&o.onDrag||void 0,P=typeof o=="object"&&o.onDragStart||void 0,b=typeof o=="object"&&o.onDragEnd||void 0;return J.useEffect(()=>{g({x:T==null?void 0:T.x,y:T==null?void 0:T.y})},[T,g]),F3e(),J.createElement($k.Provider,{value:{hideCopyButton:a}},J.createElement(q1e,{ref:E,className:e,fill:n,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:y?"block":"none"}},o&&J.createElement(i2e,{onDrag:B=>{g(B),M==null||M(B)},onDragStart:B=>P==null?void 0:P(B),onDragEnd:B=>b==null?void 0:b(B),setFilter:A,toggle:B=>c(L=>B??!L),toggled:l,title:v,drag:S,filterEnabled:w,from:T}),y&&J.createElement(Wk.Provider,{value:t},J.createElement(LU,{isRoot:!0,fill:n,flat:r,tree:x,toggled:l}))))});pl(yo.SELECT,vme);pl(yo.IMAGE,y1e);pl(yo.NUMBER,lme);pl(yo.COLOR,YAe);pl(yo.STRING,Tme);pl(yo.BOOLEAN,Lme);pl(yo.INTERVAL,M1e);pl(yo.VECTOR3D,ZAe);pl(yo.VECTOR2D,a1e);const s2e="modulepreload",o2e=function(t){return"/valencia/"+t},TB={},a2e=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=o2e(s),s in TB)return;TB[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":s2e,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function M2(){return M2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M2.apply(this,arguments)}function l2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function c2e(t){D.useEffect(t,[])}function MB(t,e){e===void 0&&(e={});var n=e,r=n.volume,i=r===void 0?1:r,s=n.playbackRate,o=s===void 0?1:s,a=n.soundEnabled,l=a===void 0?!0:a,c=n.interrupt,u=c===void 0?!1:c,h=n.onload,d=l2e(n,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),m=J.useRef(null),A=J.useRef(!1),x=J.useState(null),E=x[0],g=x[1],y=J.useState(null),v=y[0],S=y[1],w=function(){typeof h=="function"&&h.call(this),A.current&&g(this.duration()*1e3),S(this)};c2e(function(){return a2e(()=>import("./howler-52821488.js").then(B=>B.h),[]).then(function(B){if(!A.current){var L;m.current=(L=B.Howl)!==null&&L!==void 0?L:B.default.Howl,A.current=!0,new m.current(M2({src:Array.isArray(t)?t:[t],volume:i,rate:o,onload:w},d))}}),function(){A.current=!1}}),J.useEffect(function(){m.current&&v&&S(new m.current(M2({src:Array.isArray(t)?t:[t],volume:i,onload:w},d)))},[JSON.stringify(t)]),J.useEffect(function(){v&&(v.volume(i),v.rate(o))},[i,o]);var T=J.useCallback(function(B){typeof B>"u"&&(B={}),!(!v||!l&&!B.forceSoundEnabled)&&(u&&v.stop(),B.playbackRate&&v.rate(B.playbackRate),v.play(B.id))},[v,l,u]),M=J.useCallback(function(B){v&&v.stop(B)},[v]),P=J.useCallback(function(B){v&&v.pause(B)},[v]),b=[T,{sound:v,stop:M,pause:P,duration:E}];return b}const OU="/valencia/models/snes-transformed.glb",bB={0:new bi({color:"#bf5b5b",side:In,transparent:1}),1:new bi({color:"#c6b955",side:In}),2:new bi({color:"#86b460",side:In}),3:new bi({color:"#3c8d88",side:In}),4:new bi({color:"#595758",side:In}),default:new bi({color:"#595758",side:In})},u2e=t=>{const{nodes:e,materials:n}=hl(OU),r=bB[t.cartridgeId]||bB.default;return Tt.jsx("group",{...t,dispose:null,children:Tt.jsxs("group",{scale:[1.435,.445,1.721],children:[Tt.jsx("mesh",{geometry:e.Cube_1.geometry,material:n.PaletteMaterial001}),Tt.jsx("mesh",{geometry:e.Cube_2.geometry,material:r}),Tt.jsx("mesh",{geometry:e.Cube_3.geometry,material:n.PaletteMaterial001}),Tt.jsx("mesh",{geometry:e.Cube_4.geometry,material:n.PaletteMaterial001}),Tt.jsx("mesh",{geometry:e.Cube_5.geometry,material:r})]})})};hl.preload(OU);const NU="/valencia/models/cartridge-transformed.glb",f2e=["CREDITS","CONTACT","ABOUT","PROJECTS","RESUME"],h2e="https://datowq.github.io/bouncingemote/",d2e=["https://datowq.github.io/bouncingemote/","https://datowq.github.io/bouncingemote/","https://datowq.github.io/bouncingemote/","https://datowq.github.io/bouncingemote/","https://datowq.github.io/bouncingemote/"],dC={cartridgeText:f2e,defaultsite:h2e,sites:d2e},BB={0:new bi({color:"#bf5b5b",side:In,transparent:1}),1:new bi({color:"#c6b955",side:In}),2:new bi({color:"#86b460",side:In}),3:new bi({color:"#3c8d88",side:In}),4:new bi({color:"#595758",side:In}),default:new bi({color:"#595758",side:In})},p2e=new dd({color:"black",side:In}),m2e=dC.cartridgeText,g2e=t=>{const{nodes:e,materials:n}=hl(NU),r=BB[t.cartridgeId]||BB.default,[{ypos:i}]=rk(()=>({to:{ypos:t.isDown&&t.activeCartridge===t.cartridgeId?-.8:1.5}}),[t.isDown]);return Tt.jsx(ik.group,{...t,"position-y":i,dispose:null,children:Tt.jsxs("group",{scale:[1,1,.325],children:[Tt.jsx(J9,{wrapperClass:"cartridgetext",occlude:!0,castShadow:!0,zIndexRange:[150,0],receiveShadow:!0,transform:!0,"position-z":1.23,"position-y":1,children:m2e[t.cartridgeId]}),Tt.jsx("mesh",{geometry:e.Mesh.geometry,material:r}),Tt.jsx("mesh",{geometry:e.Mesh_1.geometry,material:n.backsticker}),Tt.jsx("mesh",{geometry:e.Mesh_2.geometry,material:p2e}),Tt.jsx("mesh",{geometry:e.Mesh_3.geometry,material:n.screws})]})})};hl.preload(NU);const A2e=()=>{const{progress:t}=VY();return Tt.jsxs(J9,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Tt.jsx("span",{className:"canvas-loader"}),Tt.jsxs("p",{style:{fontSize:14,color:"#F1F1F1",marginTop:40},children:[t.toFixed(2),"%"]})]})},kU="/valencia/models/jvctv-transformed.glb";new Pr({transparent:!0,opacity:0});const v2e=dC.defaultsite,y2e=dC.sites;function E2e(t){const{nodes:e,materials:n}=hl(kU),r=D.useRef(),i=new O(0,4,14),s=new ur,o=new ur,a=new ur;return YL(l=>{if(t.isDown){const c=r.current.position.clone();c.y+=10,c.z+=20,l.camera.getWorldQuaternion(s),a.copy(l.camera.quaternion),l.camera.lookAt(c),l.camera.getWorldQuaternion(o),l.camera.quaternion.copy(a),l.camera.quaternion.slerp(s,.3);const u=l.camera.position.clone();u.y-=.13,u.lerp(c,.03),l.camera.position.copy(u)}else{l.camera.getWorldQuaternion(s),a.copy(l.camera.quaternion),l.camera.lookAt(0,0,0),l.camera.getWorldQuaternion(o),l.camera.quaternion.copy(a),l.camera.quaternion.slerp(s,.03);const c=l.camera.position.clone();c.lerp(i,.03),l.camera.position.copy(c)}}),Tt.jsx("group",{ref:r,...t,dispose:null,children:Tt.jsxs("group",{rotation:[0,0,-Math.PI],scale:[5.981,5.985,3.997],children:[Tt.jsx("mesh",{geometry:e.Cube_1.geometry,material:n.body}),Tt.jsx(J9,{className:"content",transform:!0,occlude:"blending","position-z":.78,"position-y":-.137,distanceFactor:.56,zIndexRange:[50,0],children:Tt.jsx("iframe",{src:t.selectedScreen>=0?y2e[t.selectedScreen]:v2e,style:{transform:"scale(-1)",position:"relative",top:"0",left:"0",width:"100%",height:"100%"}})}),Tt.jsx("mesh",{geometry:e.Cube_3.geometry,material:n.bottom}),Tt.jsx("mesh",{geometry:e.Cube_4.geometry,material:n.buttons})]})})}hl.preload(kU);const x2e=()=>{const[e,n]=D.useState(2),[r,i]=D.useState(!1),[s,o]=D.useState(-1),[a]=MB("/sounds/d.mp3"),[l]=MB("/sounds/mega.mp3"),c=d=>e===d?.5:.4,[{xpos:u}]=rk(()=>({to:{xpos:3.5-3.5*e}}),[e]),h=nk(5,Array.from({length:5},(d,m)=>({scale:c(m)})));return document.onkeydown=d=>{switch(d.key){case"ArrowLeft":case"A":case"a":if(e==0||r)return;n(e-1),a();break;case"ArrowRight":case"D":case"d":if(e==5-1||r)return;n(e+1),a();break;case"Enter":case"ArrowDown":case"S":case"s":if(r)return;i(!0),o(e),l();break;case"Backspace":case"ArrowUp":case"W":case"w":i(!1),o(-1);break}},Tt.jsx(Tt.Fragment,{children:Tt.jsxs(LY,{frameloop:"always",shadows:!0,camera:{position:[0,4,14],fov:25},gl:{preserveDrawingBuffer:!0,antialias:!0},children:[Tt.jsxs(D.Suspense,{fallback:Tt.jsx(A2e,{}),children:[Tt.jsx("ambientLight",{intensity:1}),Tt.jsx("directionalLight",{color:16777215,intensity:2,position:[500,0,500],castShadow:!0,"shadow-camera-top":1e3,"shadow-camera-bottom":-1e3,"shadow-camera-left":-1e3,"shadow-camera-right":1e3,"shadow-camera-near":1200,"shadow-camera-far":1e3,"shadow-bias":1e-4,"shadow-mapSize-width":2048,"shadow-mapSize-height":1024}),Tt.jsx(ik.group,{"position-x":u,"position-z":0,children:h.map((d,m)=>Tt.jsx(g2e,{isDown:r,activeCartridge:e,cartridgeId:m,position:[-3.5+3.5*m,0,-.3],scale:d.scale,zIndexRange:[110,0]},m))}),Tt.jsx(E2e,{isDown:r,cartridgeId:e,selectedScreen:s,position:[0,0,-30],zIndexRange:[40,0]}),Tt.jsx(u2e,{isDown:r,cartridgeId:e,position:[0,-1.5,0]}),Tt.jsx(She,{})]}),Tt.jsx(Che,{all:!0})]})})},C2e=()=>Tt.jsx(Tt.Fragment,{children:Tt.jsxs("div",{className:"centered-container",children:[Tt.jsx(x2e,{}),Tt.jsx("div",{className:"bg-text",children:"SELECT"})]})});E8.createRoot(document.getElementById("root")).render(Tt.jsx(J.StrictMode,{children:Tt.jsx(C2e,{})}));export{S2e as c,rd as g};
